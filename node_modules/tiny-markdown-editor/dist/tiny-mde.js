(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
  typeof define === 'function' && define.amd ? define(['exports'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.TinyMDE = {}));
})(this, (function (exports) { 'use strict';

  const svg = {
    blockquote: `<svg height="18" width="18"><rect width="5" height="5" x="3" y="4" ry="1"/><rect ry="1" y="4" x="10" height="5" width="5"/><path d="M8 6.999v3c0 1-1 3-1 3s-.331 1-1.331 1h-1c-1 0-.669-1-.669-1s1-2 1-3v-3zm7 0v3c0 1-1 3-1 3s-.331 1-1.331 1h-1c-1 0-.669-1-.669-1s1-2 1-3v-3z"/></svg>`,
    bold: `<svg height="18" width="18"><path d="M4 2a1 1 0 00-1 1v12a1 1 0 001 1h6c4 0 5-2 5-4 0-1.322-.434-2.636-1.885-3.381C13.772 7.885 14 6.945 14 6c0-2-1-4-5-4zm1 2h4c1.668 0 2.32.393 2.6.672.28.279.4.662.4 1.328s-.12 1.057-.4 1.338c-.275.274-1.014.646-2.6.662H5zm5 6c1.666.005 2.318.388 2.596.666.277.278.404.667.404 1.334s-.127 1.06-.404 1.338c-.278.278-.93.66-2.596.662l-4.992.004L5 10z"/></svg>`,
    clear_formatting: `<svg height="18" width="18"><path d="M11.03 1a1 1 0 00-.74.3l-9 9a1 1 0 000 1.4l4 4A1 1 0 006 16h2a1 1 0 00.7-.3l8-8a1 1 0 000-1.4l-5-5a1 1 0 00-.67-.3zM8.7 5.7l3.58 3.6L7.6 14H6.4l-3-3 5.3-5.3z"/><rect ry=".8" rx=".8" y="14" x="16" height="2" width="2"/><rect width="2" height="2" x="13" y="14" rx=".8" ry=".8"/><rect ry=".8" rx=".8" y="14" x="10" height="2" width="2"/></svg>`,
    code: `<svg height="18" width="18"><path d="M13.5 2.994a.5.5 0 00-.5.5.5.5 0 000 .034V4.53a5.993 5.993 0 00-7.451-.445A6 6 0 1012.45 13.9a5.99 5.99 0 001.346-1.334.5.5 0 00.096-.101.5.5 0 00-.12-.698.5.5 0 00-.697.12l-.004-.005a5 5 0 01-1.197 1.2 5 5 0 111.215-6.965.5.5 0 00.697.12.5.5 0 00.211-.44V4.745H14V3.493a.5.5 0 00-.5-.5z"/></svg>`,
    h1: `<svg height="18" width="18"><path d="M3 2s0-1 1-1h1c1 0 1 1 1 1v6h6V2s0-1 1-1h1c1 0 1 1 1 1v14s0 1-1 1h-1c-1 0-1-1-1-1v-6H6v6s0 1-1 1H4c-1 0-1-1-1-1z"/></svg>`,
    h2: `<svg height="18" width="18"><path d="M4 2s0-1 1-1 1 1 1 1v6c1-1 2-1 4-1 3 0 4 2 4 4v5s0 1-1 1-1-1-1-1v-5c0-1.094-1-2-2-2-2 0-3 0-4 2v5s0 1-1 1-1-1-1-1z"/></svg>`,
    hr: `<svg height="18" width="18"><rect ry="1" y="8" height="2" width="18" style="font-variation-settings:normal;marker:none"/></svg>`,
    image: `<svg height="18" width="18"><path d="M1 2v14h16V2H1zm2 2h12v7l-3-3-4 4-2-2-3 3V4z"/><circle r="1.5" cy="6.5" cx="5.5"/></svg>`,
    italic: `<svg height="18" width="18"><path d="M9 2a1 1 0 000 2L7 14a1 1 0 100 2h2a1 1 0 000-2l2-10a1 1 0 100-2z"/></svg>`,
    link: `<svg height="18" width="18"><path d="M9.07 5.18a3.9 3.9 0 00-1.52.43C6.31 6.22 5.3 7.29 4.3 8.29c-1 1-2.07 2.02-2.68 3.26-.31.62-.5 1.33-.41 2.07.09.75.48 1.47 1.1 2.09.61.61 1.33 1 2.08 1.1.74.09 1.45-.1 2.07-.42 1.24-.61 2.26-1.68 3.26-2.68.46-.47.94-.94 1.39-1.44l-.43.26c-.68.34-1.49.56-2.36.46-.2-.03-.4-.08-.6-.14-.79.76-1.55 1.45-2.16 1.76-.38.19-.67.24-.92.21-.26-.03-.54-.14-.92-.53-.39-.38-.5-.66-.53-.91-.03-.26.02-.55.21-.93.39-.76 1.32-1.74 2.32-2.74 1-1 1.98-1.93 2.74-2.32.38-.19.67-.24.93-.21.25.03.53.14.91.53.39.38.5.66.53.92v.06l1.12-1.06.44-.47c-.18-.3-.4-.6-.67-.87-.62-.61-1.34-1-2.09-1.1a3.08 3.08 0 00-.55-.01z"/><path d="M13.07.86a3.9 3.9 0 00-1.52.43c-1.24.62-2.26 1.69-3.26 2.69-.46.47-.94.94-1.39 1.43.15-.08.28-.18.43-.25a4.4 4.4 0 012.36-.46c.2.02.4.07.6.14.79-.77 1.55-1.46 2.16-1.76.38-.19.67-.25.93-.21.25.03.53.14.91.52.39.38.5.66.53.92.03.26-.02.55-.21.93-.39.76-1.32 1.74-2.32 2.74-1 1-1.98 1.93-2.74 2.31-.38.2-.67.25-.93.22-.25-.04-.53-.15-.91-.53-.39-.38-.5-.66-.53-.92V9c-.36.33-.73.67-1.12 1.06l-.43.46c.17.3.4.6.66.87.62.62 1.34 1 2.08 1.1.75.1 1.46-.1 2.08-.41 1.24-.62 2.26-1.69 3.26-2.69s2.07-2.02 2.68-3.26c.31-.62.5-1.32.41-2.07a3.63 3.63 0 00-1.1-2.08c-.61-.62-1.33-1-2.07-1.1a3.08 3.08 0 00-.56-.02z"/></svg>`,
    ol: `<svg height="18" width="18"><path d="M1.5 7a.5.5 0 100 1h1a.5.5 0 01.5.5c0 .164-.08.31-.14.355l-1.655 1.25A.492.492 0 001 10.5a.5.5 0 00.5.5h2a.5.5 0 000-1H3l.398-.299A1.5 1.5 0 002.5 7z"/><path d="M1.5 12c-.667 0-.667 1 0 1h1.25c.333 0 .333.5 0 .5H2.5c-.667 0-.667 1 0 1h.25c.333 0 .333.5 0 .5H1.5c-.667 0-.667 1 0 1h1c.398 0 .78-.131 1.06-.365.282-.235.44-.554.44-.885a1.121 1.121 0 00-.303-.75c.191-.204.3-.47.303-.75 0-.332-.158-.651-.44-.885-.3-.241-.675-.37-1.06-.365z"/><rect y="13" x="6" height="2" width="12" ry="1"/><rect ry="1" width="12" height="2" x="6" y="8"/><rect y="3" x="6" height="2" width="12" ry="1"/><path d="M1.5 2a.5.5 0 100 1H2v2h-.5a.5.5 0 100 1h2a.5.5 0 100-1H3V2.5c0-.277-.223-.5-.5-.5z"/></svg>`,
    strikethrough: `<svg width="18" height="18"><path d="M10 2C6 2 4 4 4 6c0 .338.08.672.193 1h2.34C6.113 6.629 6 6.295 6 6c0-.334.117-.725.691-1.154C7.265 4.416 8.331 4 10 4h3a1 1 0 000-2zm1.477 9c.413.368.523.706.523 1 0 .334-.127.712-.701 1.143-.575.43-1.632.85-3.299.857l-1.006.007V14H5a1 1 0 000 2h3c4 0 6-2 6-4 0-.338-.081-.672-.195-1z"/><rect ry="1" y="8" x="1" height="2" width="16"/></svg>`,
    ul: `<svg height="18" width="18"><circle cx="2" cy="9" r="2"/><circle cy="4" cx="2" r="2"/><rect y="3" x="6" height="2" width="12" ry="1"/><circle cx="2" cy="14" r="2"/><rect ry="1" width="12" height="2" x="6" y="8"/><rect y="13" x="6" height="2" width="12" ry="1"/></svg>`
  };

  const isMacLike = /(Mac|iPhone|iPod|iPad)/i.test(typeof navigator !== "undefined" ? navigator.platform : "");
  const DefaultCommands = {
    'bold': {
      name: 'bold',
      action: 'bold',
      innerHTML: svg.bold,
      title: 'Bold',
      hotkey: 'Mod-B'
    },
    'italic': {
      name: 'italic',
      action: 'italic',
      innerHTML: svg.italic,
      title: 'Italic',
      hotkey: 'Mod-I'
    },
    'strikethrough': {
      name: 'strikethrough',
      action: 'strikethrough',
      innerHTML: svg.strikethrough,
      title: 'Strikethrough',
      hotkey: 'Mod2-Shift-5'
    },
    'code': {
      name: 'code',
      action: 'code',
      innerHTML: svg.code,
      title: 'Format as code'
    },
    'h1': {
      name: 'h1',
      action: 'h1',
      innerHTML: svg.h1,
      title: 'Level 1 heading',
      hotkey: 'Mod-Shift-1'
    },
    'h2': {
      name: 'h2',
      action: 'h2',
      innerHTML: svg.h2,
      title: 'Level 2 heading',
      hotkey: 'Mod-Shift-2'
    },
    'ul': {
      name: 'ul',
      action: 'ul',
      innerHTML: svg.ul,
      title: 'Bulleted list'
    },
    'ol': {
      name: 'ol',
      action: 'ol',
      innerHTML: svg.ol,
      title: 'Numbered list'
    },
    'blockquote': {
      name: 'blockquote',
      action: 'blockquote',
      innerHTML: svg.blockquote,
      title: 'Quote',
      hotkey: 'Mod2-Shift-Q'
    },
    'insertLink': {
      name: 'insertLink',
      action: editor => {
        if (editor.isInlineFormattingAllowed()) editor.wrapSelection('[', ']()');
      },
      enabled: (editor, focus, anchor) => editor.isInlineFormattingAllowed(focus, anchor) ? false : null,
      innerHTML: svg.link,
      title: 'Insert link',
      hotkey: 'Mod-K'
    },
    'insertImage': {
      name: 'insertImage',
      action: editor => {
        if (editor.isInlineFormattingAllowed()) editor.wrapSelection('![', ']()');
      },
      enabled: (editor, focus, anchor) => editor.isInlineFormattingAllowed(focus, anchor) ? false : null,
      innerHTML: svg.image,
      title: 'Insert image',
      hotkey: 'Mod2-Shift-I'
    },
    'hr': {
      name: 'hr',
      action: editor => editor.paste('\n***\n'),
      enabled: () => false,
      innerHTML: svg.hr,
      title: 'Insert horizontal line',
      hotkey: 'Mod2-Shift-L'
    }
  };
  class CommandBar {
    constructor(props) {
      this.e = null;
      this.editor = null;
      this.commands = [];
      this.buttons = {};
      this.state = {};
      this.hotkeys = [];
      let element = props.element;
      if (element && !element.tagName) {
        element = document.getElementById(props.element);
      }
      if (!element) {
        element = document.body;
      }
      this.createCommandBarElement(element, props.commands || ['bold', 'italic', 'strikethrough', '|', 'code', '|', 'h1', 'h2', '|', 'ul', 'ol', '|', 'blockquote', 'hr', '|', 'insertLink', 'insertImage']);
      document.addEventListener('keydown', e => this.handleKeydown(e));
      if (props.editor) this.setEditor(props.editor);
    }
    createCommandBarElement(parentElement, commands) {
      this.e = document.createElement('div');
      this.e.className = 'TMCommandBar';
      for (let command of commands) {
        if (command == '|') {
          let el = document.createElement('div');
          el.className = 'TMCommandDivider';
          this.e.appendChild(el);
        } else {
          let commandName;
          if (typeof command == "string") {
            // Reference to default command

            if (DefaultCommands[command]) {
              commandName = command;
              this.commands[commandName] = DefaultCommands[commandName];
            } else {
              continue;
            }
          } else if (typeof command == "object" && command.name) {
            commandName = command.name;
            this.commands[commandName] = {};
            if (DefaultCommands[commandName]) Object.assign(this.commands[commandName], DefaultCommands[commandName]);
            Object.assign(this.commands[commandName], command);
          } else {
            continue;
          }
          let title = this.commands[commandName].title || commandName;
          if (this.commands[commandName].hotkey) {
            const keys = this.commands[commandName].hotkey.split('-');
            // construct modifiers
            let modifiers = [];
            let modifierexplanation = [];
            for (let i = 0; i < keys.length - 1; i++) {
              switch (keys[i]) {
                case 'Ctrl':
                  modifiers.push('ctrlKey');
                  modifierexplanation.push('Ctrl');
                  break;
                case 'Cmd':
                  modifiers.push('metaKey');
                  modifierexplanation.push('⌘');
                  break;
                case 'Alt':
                  modifiers.push('altKey');
                  modifierexplanation.push('Alt');
                  break;
                case 'Option':
                  modifiers.push('altKey');
                  modifierexplanation.push('⌥');
                  break;
                case 'Win':
                  modifiers.push('metaKey');
                  modifierexplanation.push('⊞ Win');
                  break;
                case 'Shift':
                  modifiers.push('shiftKey');
                  modifierexplanation.push('⇧');
                  break;
                case 'Mod':
                  // Mod is a convenience mechanism: Ctrl on Windows, Cmd on Mac
                  if (isMacLike) {
                    modifiers.push('metaKey');
                    modifierexplanation.push('⌘');
                  } else {
                    modifiers.push('ctrlKey');
                    modifierexplanation.push('Ctrl');
                  }
                  break;
                case 'Mod2':
                  modifiers.push('altKey');
                  if (isMacLike) modifierexplanation.push('⌥');else modifierexplanation.push('Alt');
                  break;
                // Mod2 is a convenience mechanism: Alt on Windows, Option on Mac
              }
            }

            modifierexplanation.push(keys[keys.length - 1]);
            let hotkey = {
              modifiers: modifiers,
              command: commandName
            };
            // TODO Right now this is working only for letters and numbers
            if (keys[keys.length - 1].match(/^[0-9]$/)) {
              hotkey.code = `Digit${keys[keys.length - 1]}`;
            } else {
              hotkey.key = keys[keys.length - 1].toLowerCase();
            }
            this.hotkeys.push(hotkey);
            title = title.concat(` (${modifierexplanation.join('+')})`);
          }
          this.buttons[commandName] = document.createElement('div');
          this.buttons[commandName].className = 'TMCommandButton TMCommandButton_Disabled';
          this.buttons[commandName].title = title;
          this.buttons[commandName].innerHTML = this.commands[commandName].innerHTML;
          this.buttons[commandName].addEventListener('mousedown', e => this.handleClick(commandName, e));
          this.e.appendChild(this.buttons[commandName]);
        }
      }
      parentElement.appendChild(this.e);
    }
    handleClick(commandName, event) {
      if (!this.editor) return;
      event.preventDefault();
      if (typeof this.commands[commandName].action == "string") {
        if (this.state[commandName] === false) this.editor.setCommandState(commandName, true);else this.editor.setCommandState(commandName, false);
      } else if (typeof this.commands[commandName].action == "function") {
        this.commands[commandName].action(this.editor);
      }
    }
    setEditor(editor) {
      this.editor = editor;
      editor.addEventListener('selection', e => this.handleSelection(e));
    }
    handleSelection(event) {
      if (event.commandState) {
        for (let command in this.commands) {
          if (event.commandState[command] === undefined) {
            if (this.commands[command].enabled) this.state[command] = this.commands[command].enabled(this.editor, event.focus, event.anchor);else this.state[command] = event.focus ? false : null;
          } else {
            this.state[command] = event.commandState[command];
          }
          if (this.state[command] === true) {
            this.buttons[command].className = 'TMCommandButton TMCommandButton_Active';
          } else if (this.state[command] === false) {
            this.buttons[command].className = 'TMCommandButton TMCommandButton_Inactive';
          } else {
            this.buttons[command].className = 'TMCommandButton TMCommandButton_Disabled';
          }
        }
      }
    }
    handleKeydown(event) {
      outer: for (let hotkey of this.hotkeys) {
        if (hotkey.key && event.key.toLowerCase() == hotkey.key || hotkey.code && event.code == hotkey.code) {
          // Key matches hotkey. Look for any required modifier that wasn't pressed
          for (let modifier of hotkey.modifiers) {
            if (!event[modifier]) continue outer;
          }
          // Everything matches.
          this.handleClick(hotkey.command, event);
          return;
        }
      }
    }
  }

  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

  var check = function (it) {
    return it && it.Math === Math && it;
  };

  // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
  var global$b =
  // eslint-disable-next-line es/no-global-this -- safe
  check(typeof globalThis == 'object' && globalThis) || check(typeof window == 'object' && window) ||
  // eslint-disable-next-line no-restricted-globals -- safe
  check(typeof self == 'object' && self) || check(typeof commonjsGlobal == 'object' && commonjsGlobal) ||
  // eslint-disable-next-line no-new-func -- fallback
  function () {
    return this;
  }() || commonjsGlobal || Function('return this')();

  var fails$7 = function (exec) {
    try {
      return !!exec();
    } catch (error) {
      return true;
    }
  };

  var fails$6 = fails$7;

  // Detect IE8's incomplete defineProperty implementation
  var descriptors = !fails$6(function () {
    // eslint-disable-next-line es/no-object-defineproperty -- required for testing
    return Object.defineProperty({}, 1, {
      get: function () {
        return 7;
      }
    })[1] !== 7;
  });

  var makeBuiltInExports = {};
  var makeBuiltIn$2 = {
    get exports(){ return makeBuiltInExports; },
    set exports(v){ makeBuiltInExports = v; },
  };

  var fails$5 = fails$7;
  var functionBindNative = !fails$5(function () {
    // eslint-disable-next-line es/no-function-prototype-bind -- safe
    var test = function () {/* empty */}.bind();
    // eslint-disable-next-line no-prototype-builtins -- safe
    return typeof test != 'function' || test.hasOwnProperty('prototype');
  });

  var NATIVE_BIND$1 = functionBindNative;
  var FunctionPrototype$1 = Function.prototype;
  var call$3 = FunctionPrototype$1.call;
  var uncurryThisWithBind = NATIVE_BIND$1 && FunctionPrototype$1.bind.bind(call$3, call$3);
  var functionUncurryThis = NATIVE_BIND$1 ? uncurryThisWithBind : function (fn) {
    return function () {
      return call$3.apply(fn, arguments);
    };
  };

  var documentAll$2 = typeof document == 'object' && document.all;

  // https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot
  // eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing
  var IS_HTMLDDA = typeof documentAll$2 == 'undefined' && documentAll$2 !== undefined;
  var documentAll_1 = {
    all: documentAll$2,
    IS_HTMLDDA: IS_HTMLDDA
  };

  var $documentAll$1 = documentAll_1;
  var documentAll$1 = $documentAll$1.all;

  // `IsCallable` abstract operation
  // https://tc39.es/ecma262/#sec-iscallable
  var isCallable$8 = $documentAll$1.IS_HTMLDDA ? function (argument) {
    return typeof argument == 'function' || argument === documentAll$1;
  } : function (argument) {
    return typeof argument == 'function';
  };

  // we can't use just `it == null` since of `document.all` special case
  // https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec
  var isNullOrUndefined$2 = function (it) {
    return it === null || it === undefined;
  };

  var isNullOrUndefined$1 = isNullOrUndefined$2;
  var $TypeError$5 = TypeError;

  // `RequireObjectCoercible` abstract operation
  // https://tc39.es/ecma262/#sec-requireobjectcoercible
  var requireObjectCoercible$1 = function (it) {
    if (isNullOrUndefined$1(it)) throw new $TypeError$5("Can't call method on " + it);
    return it;
  };

  var requireObjectCoercible = requireObjectCoercible$1;
  var $Object$1 = Object;

  // `ToObject` abstract operation
  // https://tc39.es/ecma262/#sec-toobject
  var toObject$1 = function (argument) {
    return $Object$1(requireObjectCoercible(argument));
  };

  var uncurryThis$4 = functionUncurryThis;
  var toObject = toObject$1;
  var hasOwnProperty = uncurryThis$4({}.hasOwnProperty);

  // `HasOwnProperty` abstract operation
  // https://tc39.es/ecma262/#sec-hasownproperty
  // eslint-disable-next-line es/no-object-hasown -- safe
  var hasOwnProperty_1 = Object.hasOwn || function hasOwn(it, key) {
    return hasOwnProperty(toObject(it), key);
  };

  var DESCRIPTORS$6 = descriptors;
  var hasOwn$3 = hasOwnProperty_1;
  var FunctionPrototype = Function.prototype;
  // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
  var getDescriptor = DESCRIPTORS$6 && Object.getOwnPropertyDescriptor;
  var EXISTS$1 = hasOwn$3(FunctionPrototype, 'name');
  // additional protection from minified / mangled / dropped function names
  var PROPER = EXISTS$1 && function something() {/* empty */}.name === 'something';
  var CONFIGURABLE$1 = EXISTS$1 && (!DESCRIPTORS$6 || DESCRIPTORS$6 && getDescriptor(FunctionPrototype, 'name').configurable);
  var functionName = {
    EXISTS: EXISTS$1,
    PROPER: PROPER,
    CONFIGURABLE: CONFIGURABLE$1
  };

  var global$a = global$b;

  // eslint-disable-next-line es/no-object-defineproperty -- safe
  var defineProperty$2 = Object.defineProperty;
  var defineGlobalProperty$1 = function (key, value) {
    try {
      defineProperty$2(global$a, key, {
        value: value,
        configurable: true,
        writable: true
      });
    } catch (error) {
      global$a[key] = value;
    }
    return value;
  };

  var global$9 = global$b;
  var defineGlobalProperty = defineGlobalProperty$1;
  var SHARED = '__core-js_shared__';
  var store$3 = global$9[SHARED] || defineGlobalProperty(SHARED, {});
  var sharedStore = store$3;

  var uncurryThis$3 = functionUncurryThis;
  var isCallable$7 = isCallable$8;
  var store$2 = sharedStore;
  var functionToString = uncurryThis$3(Function.toString);

  // this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper
  if (!isCallable$7(store$2.inspectSource)) {
    store$2.inspectSource = function (it) {
      return functionToString(it);
    };
  }
  var inspectSource$1 = store$2.inspectSource;

  var global$8 = global$b;
  var isCallable$6 = isCallable$8;
  var WeakMap$1 = global$8.WeakMap;
  var weakMapBasicDetection = isCallable$6(WeakMap$1) && /native code/.test(String(WeakMap$1));

  var isCallable$5 = isCallable$8;
  var $documentAll = documentAll_1;
  var documentAll = $documentAll.all;
  var isObject$5 = $documentAll.IS_HTMLDDA ? function (it) {
    return typeof it == 'object' ? it !== null : isCallable$5(it) || it === documentAll;
  } : function (it) {
    return typeof it == 'object' ? it !== null : isCallable$5(it);
  };

  var objectDefineProperty = {};

  var global$7 = global$b;
  var isObject$4 = isObject$5;
  var document$1 = global$7.document;
  // typeof document.createElement is 'object' in old IE
  var EXISTS = isObject$4(document$1) && isObject$4(document$1.createElement);
  var documentCreateElement = function (it) {
    return EXISTS ? document$1.createElement(it) : {};
  };

  var DESCRIPTORS$5 = descriptors;
  var fails$4 = fails$7;
  var createElement = documentCreateElement;

  // Thanks to IE8 for its funny defineProperty
  var ie8DomDefine = !DESCRIPTORS$5 && !fails$4(function () {
    // eslint-disable-next-line es/no-object-defineproperty -- required for testing
    return Object.defineProperty(createElement('div'), 'a', {
      get: function () {
        return 7;
      }
    }).a !== 7;
  });

  var DESCRIPTORS$4 = descriptors;
  var fails$3 = fails$7;

  // V8 ~ Chrome 36-
  // https://bugs.chromium.org/p/v8/issues/detail?id=3334
  var v8PrototypeDefineBug = DESCRIPTORS$4 && fails$3(function () {
    // eslint-disable-next-line es/no-object-defineproperty -- required for testing
    return Object.defineProperty(function () {/* empty */}, 'prototype', {
      value: 42,
      writable: false
    }).prototype !== 42;
  });

  var isObject$3 = isObject$5;
  var $String$3 = String;
  var $TypeError$4 = TypeError;

  // `Assert: Type(argument) is Object`
  var anObject$2 = function (argument) {
    if (isObject$3(argument)) return argument;
    throw new $TypeError$4($String$3(argument) + ' is not an object');
  };

  var NATIVE_BIND = functionBindNative;
  var call$2 = Function.prototype.call;
  var functionCall = NATIVE_BIND ? call$2.bind(call$2) : function () {
    return call$2.apply(call$2, arguments);
  };

  var global$6 = global$b;
  var isCallable$4 = isCallable$8;
  var aFunction = function (argument) {
    return isCallable$4(argument) ? argument : undefined;
  };
  var getBuiltIn$1 = function (namespace, method) {
    return arguments.length < 2 ? aFunction(global$6[namespace]) : global$6[namespace] && global$6[namespace][method];
  };

  var uncurryThis$2 = functionUncurryThis;
  var objectIsPrototypeOf = uncurryThis$2({}.isPrototypeOf);

  var engineUserAgent = typeof navigator != 'undefined' && String(navigator.userAgent) || '';

  var global$5 = global$b;
  var userAgent = engineUserAgent;
  var process = global$5.process;
  var Deno = global$5.Deno;
  var versions = process && process.versions || Deno && Deno.version;
  var v8 = versions && versions.v8;
  var match, version;
  if (v8) {
    match = v8.split('.');
    // in old Chrome, versions of V8 isn't V8 = Chrome / 10
    // but their correct versions are not interesting for us
    version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);
  }

  // BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`
  // so check `userAgent` even if `.v8` exists, but 0
  if (!version && userAgent) {
    match = userAgent.match(/Edge\/(\d+)/);
    if (!match || match[1] >= 74) {
      match = userAgent.match(/Chrome\/(\d+)/);
      if (match) version = +match[1];
    }
  }
  var engineV8Version = version;

  /* eslint-disable es/no-symbol -- required for testing */
  var V8_VERSION = engineV8Version;
  var fails$2 = fails$7;
  var global$4 = global$b;
  var $String$2 = global$4.String;

  // eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing
  var symbolConstructorDetection = !!Object.getOwnPropertySymbols && !fails$2(function () {
    var symbol = Symbol('symbol detection');
    // Chrome 38 Symbol has incorrect toString conversion
    // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances
    // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,
    // of course, fail.
    return !$String$2(symbol) || !(Object(symbol) instanceof Symbol) ||
    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances
    !Symbol.sham && V8_VERSION && V8_VERSION < 41;
  });

  /* eslint-disable es/no-symbol -- required for testing */
  var NATIVE_SYMBOL$1 = symbolConstructorDetection;
  var useSymbolAsUid = NATIVE_SYMBOL$1 && !Symbol.sham && typeof Symbol.iterator == 'symbol';

  var getBuiltIn = getBuiltIn$1;
  var isCallable$3 = isCallable$8;
  var isPrototypeOf = objectIsPrototypeOf;
  var USE_SYMBOL_AS_UID$1 = useSymbolAsUid;
  var $Object = Object;
  var isSymbol$2 = USE_SYMBOL_AS_UID$1 ? function (it) {
    return typeof it == 'symbol';
  } : function (it) {
    var $Symbol = getBuiltIn('Symbol');
    return isCallable$3($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));
  };

  var $String$1 = String;
  var tryToString$1 = function (argument) {
    try {
      return $String$1(argument);
    } catch (error) {
      return 'Object';
    }
  };

  var isCallable$2 = isCallable$8;
  var tryToString = tryToString$1;
  var $TypeError$3 = TypeError;

  // `Assert: IsCallable(argument) is true`
  var aCallable$1 = function (argument) {
    if (isCallable$2(argument)) return argument;
    throw new $TypeError$3(tryToString(argument) + ' is not a function');
  };

  var aCallable = aCallable$1;
  var isNullOrUndefined = isNullOrUndefined$2;

  // `GetMethod` abstract operation
  // https://tc39.es/ecma262/#sec-getmethod
  var getMethod$1 = function (V, P) {
    var func = V[P];
    return isNullOrUndefined(func) ? undefined : aCallable(func);
  };

  var call$1 = functionCall;
  var isCallable$1 = isCallable$8;
  var isObject$2 = isObject$5;
  var $TypeError$2 = TypeError;

  // `OrdinaryToPrimitive` abstract operation
  // https://tc39.es/ecma262/#sec-ordinarytoprimitive
  var ordinaryToPrimitive$1 = function (input, pref) {
    var fn, val;
    if (pref === 'string' && isCallable$1(fn = input.toString) && !isObject$2(val = call$1(fn, input))) return val;
    if (isCallable$1(fn = input.valueOf) && !isObject$2(val = call$1(fn, input))) return val;
    if (pref !== 'string' && isCallable$1(fn = input.toString) && !isObject$2(val = call$1(fn, input))) return val;
    throw new $TypeError$2("Can't convert object to primitive value");
  };

  var sharedExports = {};
  var shared$3 = {
    get exports(){ return sharedExports; },
    set exports(v){ sharedExports = v; },
  };

  var store$1 = sharedStore;
  (shared$3.exports = function (key, value) {
    return store$1[key] || (store$1[key] = value !== undefined ? value : {});
  })('versions', []).push({
    version: '3.33.0',
    mode: 'global',
    copyright: '© 2014-2023 Denis Pushkarev (zloirock.ru)',
    license: 'https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE',
    source: 'https://github.com/zloirock/core-js'
  });

  var uncurryThis$1 = functionUncurryThis;
  var id = 0;
  var postfix = Math.random();
  var toString = uncurryThis$1(1.0.toString);
  var uid$2 = function (key) {
    return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);
  };

  var global$3 = global$b;
  var shared$2 = sharedExports;
  var hasOwn$2 = hasOwnProperty_1;
  var uid$1 = uid$2;
  var NATIVE_SYMBOL = symbolConstructorDetection;
  var USE_SYMBOL_AS_UID = useSymbolAsUid;
  var Symbol$1 = global$3.Symbol;
  var WellKnownSymbolsStore = shared$2('wks');
  var createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol$1['for'] || Symbol$1 : Symbol$1 && Symbol$1.withoutSetter || uid$1;
  var wellKnownSymbol$1 = function (name) {
    if (!hasOwn$2(WellKnownSymbolsStore, name)) {
      WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn$2(Symbol$1, name) ? Symbol$1[name] : createWellKnownSymbol('Symbol.' + name);
    }
    return WellKnownSymbolsStore[name];
  };

  var call = functionCall;
  var isObject$1 = isObject$5;
  var isSymbol$1 = isSymbol$2;
  var getMethod = getMethod$1;
  var ordinaryToPrimitive = ordinaryToPrimitive$1;
  var wellKnownSymbol = wellKnownSymbol$1;
  var $TypeError$1 = TypeError;
  var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');

  // `ToPrimitive` abstract operation
  // https://tc39.es/ecma262/#sec-toprimitive
  var toPrimitive$1 = function (input, pref) {
    if (!isObject$1(input) || isSymbol$1(input)) return input;
    var exoticToPrim = getMethod(input, TO_PRIMITIVE);
    var result;
    if (exoticToPrim) {
      if (pref === undefined) pref = 'default';
      result = call(exoticToPrim, input, pref);
      if (!isObject$1(result) || isSymbol$1(result)) return result;
      throw new $TypeError$1("Can't convert object to primitive value");
    }
    if (pref === undefined) pref = 'number';
    return ordinaryToPrimitive(input, pref);
  };

  var toPrimitive = toPrimitive$1;
  var isSymbol = isSymbol$2;

  // `ToPropertyKey` abstract operation
  // https://tc39.es/ecma262/#sec-topropertykey
  var toPropertyKey$1 = function (argument) {
    var key = toPrimitive(argument, 'string');
    return isSymbol(key) ? key : key + '';
  };

  var DESCRIPTORS$3 = descriptors;
  var IE8_DOM_DEFINE = ie8DomDefine;
  var V8_PROTOTYPE_DEFINE_BUG = v8PrototypeDefineBug;
  var anObject$1 = anObject$2;
  var toPropertyKey = toPropertyKey$1;
  var $TypeError = TypeError;
  // eslint-disable-next-line es/no-object-defineproperty -- safe
  var $defineProperty = Object.defineProperty;
  // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
  var $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
  var ENUMERABLE = 'enumerable';
  var CONFIGURABLE = 'configurable';
  var WRITABLE = 'writable';

  // `Object.defineProperty` method
  // https://tc39.es/ecma262/#sec-object.defineproperty
  objectDefineProperty.f = DESCRIPTORS$3 ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {
    anObject$1(O);
    P = toPropertyKey(P);
    anObject$1(Attributes);
    if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {
      var current = $getOwnPropertyDescriptor(O, P);
      if (current && current[WRITABLE]) {
        O[P] = Attributes.value;
        Attributes = {
          configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],
          enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],
          writable: false
        };
      }
    }
    return $defineProperty(O, P, Attributes);
  } : $defineProperty : function defineProperty(O, P, Attributes) {
    anObject$1(O);
    P = toPropertyKey(P);
    anObject$1(Attributes);
    if (IE8_DOM_DEFINE) try {
      return $defineProperty(O, P, Attributes);
    } catch (error) {/* empty */}
    if ('get' in Attributes || 'set' in Attributes) throw new $TypeError('Accessors not supported');
    if ('value' in Attributes) O[P] = Attributes.value;
    return O;
  };

  var createPropertyDescriptor$1 = function (bitmap, value) {
    return {
      enumerable: !(bitmap & 1),
      configurable: !(bitmap & 2),
      writable: !(bitmap & 4),
      value: value
    };
  };

  var DESCRIPTORS$2 = descriptors;
  var definePropertyModule = objectDefineProperty;
  var createPropertyDescriptor = createPropertyDescriptor$1;
  var createNonEnumerableProperty$1 = DESCRIPTORS$2 ? function (object, key, value) {
    return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));
  } : function (object, key, value) {
    object[key] = value;
    return object;
  };

  var shared$1 = sharedExports;
  var uid = uid$2;
  var keys = shared$1('keys');
  var sharedKey$1 = function (key) {
    return keys[key] || (keys[key] = uid(key));
  };

  var NATIVE_WEAK_MAP = weakMapBasicDetection;
  var global$2 = global$b;
  var isObject = isObject$5;
  var createNonEnumerableProperty = createNonEnumerableProperty$1;
  var hasOwn$1 = hasOwnProperty_1;
  var shared = sharedStore;
  var sharedKey = sharedKey$1;
  var OBJECT_ALREADY_INITIALIZED = 'Object already initialized';
  var TypeError$1 = global$2.TypeError;
  var WeakMap = global$2.WeakMap;
  var set, get, has;
  var enforce = function (it) {
    return has(it) ? get(it) : set(it, {});
  };
  var getterFor = function (TYPE) {
    return function (it) {
      var state;
      if (!isObject(it) || (state = get(it)).type !== TYPE) {
        throw new TypeError$1('Incompatible receiver, ' + TYPE + ' required');
      }
      return state;
    };
  };
  if (NATIVE_WEAK_MAP || shared.state) {
    var store = shared.state || (shared.state = new WeakMap());
    /* eslint-disable no-self-assign -- prototype methods protection */
    store.get = store.get;
    store.has = store.has;
    store.set = store.set;
    /* eslint-enable no-self-assign -- prototype methods protection */
    set = function (it, metadata) {
      if (store.has(it)) throw new TypeError$1(OBJECT_ALREADY_INITIALIZED);
      metadata.facade = it;
      store.set(it, metadata);
      return metadata;
    };
    get = function (it) {
      return store.get(it) || {};
    };
    has = function (it) {
      return store.has(it);
    };
  } else {
    var STATE = sharedKey('state');
    set = function (it, metadata) {
      if (hasOwn$1(it, STATE)) throw new TypeError$1(OBJECT_ALREADY_INITIALIZED);
      metadata.facade = it;
      createNonEnumerableProperty(it, STATE, metadata);
      return metadata;
    };
    get = function (it) {
      return hasOwn$1(it, STATE) ? it[STATE] : {};
    };
    has = function (it) {
      return hasOwn$1(it, STATE);
    };
  }
  var internalState = {
    set: set,
    get: get,
    has: has,
    enforce: enforce,
    getterFor: getterFor
  };

  var uncurryThis = functionUncurryThis;
  var fails$1 = fails$7;
  var isCallable = isCallable$8;
  var hasOwn = hasOwnProperty_1;
  var DESCRIPTORS$1 = descriptors;
  var CONFIGURABLE_FUNCTION_NAME = functionName.CONFIGURABLE;
  var inspectSource = inspectSource$1;
  var InternalStateModule = internalState;
  var enforceInternalState = InternalStateModule.enforce;
  var getInternalState = InternalStateModule.get;
  var $String = String;
  // eslint-disable-next-line es/no-object-defineproperty -- safe
  var defineProperty$1 = Object.defineProperty;
  var stringSlice = uncurryThis(''.slice);
  var replace = uncurryThis(''.replace);
  var join = uncurryThis([].join);
  var CONFIGURABLE_LENGTH = DESCRIPTORS$1 && !fails$1(function () {
    return defineProperty$1(function () {/* empty */}, 'length', {
      value: 8
    }).length !== 8;
  });
  var TEMPLATE = String(String).split('String');
  var makeBuiltIn$1 = makeBuiltIn$2.exports = function (value, name, options) {
    if (stringSlice($String(name), 0, 7) === 'Symbol(') {
      name = '[' + replace($String(name), /^Symbol\(([^)]*)\)/, '$1') + ']';
    }
    if (options && options.getter) name = 'get ' + name;
    if (options && options.setter) name = 'set ' + name;
    if (!hasOwn(value, 'name') || CONFIGURABLE_FUNCTION_NAME && value.name !== name) {
      if (DESCRIPTORS$1) defineProperty$1(value, 'name', {
        value: name,
        configurable: true
      });else value.name = name;
    }
    if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {
      defineProperty$1(value, 'length', {
        value: options.arity
      });
    }
    try {
      if (options && hasOwn(options, 'constructor') && options.constructor) {
        if (DESCRIPTORS$1) defineProperty$1(value, 'prototype', {
          writable: false
        });
        // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable
      } else if (value.prototype) value.prototype = undefined;
    } catch (error) {/* empty */}
    var state = enforceInternalState(value);
    if (!hasOwn(state, 'source')) {
      state.source = join(TEMPLATE, typeof name == 'string' ? name : '');
    }
    return value;
  };

  // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative
  // eslint-disable-next-line no-extend-native -- required
  Function.prototype.toString = makeBuiltIn$1(function toString() {
    return isCallable(this) && getInternalState(this).source || inspectSource(this);
  }, 'toString');

  var makeBuiltIn = makeBuiltInExports;
  var defineProperty = objectDefineProperty;
  var defineBuiltInAccessor$1 = function (target, name, descriptor) {
    if (descriptor.get) makeBuiltIn(descriptor.get, name, {
      getter: true
    });
    if (descriptor.set) makeBuiltIn(descriptor.set, name, {
      setter: true
    });
    return defineProperty.f(target, name, descriptor);
  };

  var anObject = anObject$2;

  // `RegExp.prototype.flags` getter implementation
  // https://tc39.es/ecma262/#sec-get-regexp.prototype.flags
  var regexpFlags = function () {
    var that = anObject(this);
    var result = '';
    if (that.hasIndices) result += 'd';
    if (that.global) result += 'g';
    if (that.ignoreCase) result += 'i';
    if (that.multiline) result += 'm';
    if (that.dotAll) result += 's';
    if (that.unicode) result += 'u';
    if (that.unicodeSets) result += 'v';
    if (that.sticky) result += 'y';
    return result;
  };

  var global$1 = global$b;
  var DESCRIPTORS = descriptors;
  var defineBuiltInAccessor = defineBuiltInAccessor$1;
  var regExpFlags = regexpFlags;
  var fails = fails$7;

  // babel-minify and Closure Compiler transpiles RegExp('.', 'd') -> /./d and it causes SyntaxError
  var RegExp$1 = global$1.RegExp;
  var RegExpPrototype = RegExp$1.prototype;
  var FORCED = DESCRIPTORS && fails(function () {
    var INDICES_SUPPORT = true;
    try {
      RegExp$1('.', 'd');
    } catch (error) {
      INDICES_SUPPORT = false;
    }
    var O = {};
    // modern V8 bug
    var calls = '';
    var expected = INDICES_SUPPORT ? 'dgimsy' : 'gimsy';
    var addGetter = function (key, chr) {
      // eslint-disable-next-line es/no-object-defineproperty -- safe
      Object.defineProperty(O, key, {
        get: function () {
          calls += chr;
          return true;
        }
      });
    };
    var pairs = {
      dotAll: 's',
      global: 'g',
      ignoreCase: 'i',
      multiline: 'm',
      sticky: 'y'
    };
    if (INDICES_SUPPORT) pairs.hasIndices = 'd';
    for (var key in pairs) addGetter(key, pairs[key]);

    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
    var result = Object.getOwnPropertyDescriptor(RegExpPrototype, 'flags').get.call(O);
    return result !== expected || calls !== expected;
  });

  // `RegExp.prototype.flags` getter
  // https://tc39.es/ecma262/#sec-get-regexp.prototype.flags
  if (FORCED) defineBuiltInAccessor(RegExpPrototype, 'flags', {
    configurable: true,
    get: regExpFlags
  });

  // const replacements = {
  //   ASCIIPunctuation: '!"#$%&\'()*+,\\-./:;<=>?@\\[\\]^_`{|}~',
  //   TriggerChars: '`_\*\[\]\(\)',
  //   Scheme: `[A-Za-z][A-Za-z0-9\+\.\-]{1,31}`,
  //   Email: `[a-zA-Z0-9.!#$%&'*+/=?^_\`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*`, // From CommonMark spec

  // }
  const replacements = {
    ASCIIPunctuation: /[!"#$%&'()*+,\-./:;<=>?@[\]^_`{|}~\\]/,
    NotTriggerChar: /[^`_*[\]()<>!~]/,
    Scheme: /[A-Za-z][A-Za-z0-9+.-]{1,31}/,
    Email: /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*/,
    // From CommonMark spec
    HTMLOpenTag: /<HTMLTagName(?:HTMLAttribute)*\s*\/?>/,
    HTMLCloseTag: /<\/HTMLTagName\s*>/,
    HTMLTagName: /[A-Za-z][A-Za-z0-9-]*/,
    HTMLComment: /<!--(?:[^>-]|(?:[^>-](?:[^-]|-[^-])*[^-]))-->/,
    HTMLPI: /<\?(?:|.|(?:[^?]|\?[^>])*)\?>/,
    HTMLDeclaration: /<![A-Z]+\s[^>]*>/,
    HTMLCDATA: /<!\[CDATA\[.*?\]\]>/,
    HTMLAttribute: /\s+[A-Za-z_:][A-Za-z0-9_.:-]*(?:HTMLAttValue)?/,
    HTMLAttValue: /\s*=\s*(?:(?:'[^']*')|(?:"[^"]*")|(?:[^\s"'=<>`]+))/,
    KnownTag: /address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul/
  };

  // From CommonMark.js. 
  const punctuationLeading = new RegExp(/^(?:[!"#$%&'()*+,\-./:;<=>?@[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B])/);
  const punctuationTrailing = new RegExp(/(?:[!"#$%&'()*+,\-./:;<=>?@[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B])$/);

  // export const inlineTriggerChars = new RegExp(`[${replacements.TriggerChars}]`);

  /**
   * This is CommonMark's block grammar, but we're ignoring nested blocks here.  
   */
  const lineGrammar = {
    TMH1: {
      regexp: /^( {0,3}#\s)(.*?)((?:\s+#+\s*)?)$/,
      replacement: '<span class="TMMark TMMark_TMH1">$1</span>$$2<span class="TMMark TMMark_TMH1">$3</span>'
    },
    TMH2: {
      regexp: /^( {0,3}##\s)(.*?)((?:\s+#+\s*)?)$/,
      replacement: '<span class="TMMark TMMark_TMH2">$1</span>$$2<span class="TMMark TMMark_TMH2">$3</span>'
    },
    TMH3: {
      regexp: /^( {0,3}###\s)(.*?)((?:\s+#+\s*)?)$/,
      replacement: '<span class="TMMark TMMark_TMH3">$1</span>$$2<span class="TMMark TMMark_TMH3">$3</span>'
    },
    TMH4: {
      regexp: /^( {0,3}####\s)(.*?)((?:\s+#+\s*)?)$/,
      replacement: '<span class="TMMark TMMark_TMH4">$1</span>$$2<span class="TMMark TMMark_TMH4">$3</span>'
    },
    TMH5: {
      regexp: /^( {0,3}#####\s)(.*?)((?:\s+#+\s*)?)$/,
      replacement: '<span class="TMMark TMMark_TMH5">$1</span>$$2<span class="TMMark TMMark_TMH5">$3</span>'
    },
    TMH6: {
      regexp: /^( {0,3}######\s)(.*?)((?:\s+#+\s*)?)$/,
      replacement: '<span class="TMMark TMMark_TMH6">$1</span>$$2<span class="TMMark TMMark_TMH6">$3</span>'
    },
    TMBlockquote: {
      regexp: /^( {0,3}>[ ]?)(.*)$/,
      replacement: '<span class="TMMark TMMark_TMBlockquote">$1</span>$$2'
    },
    TMCodeFenceBacktickOpen: {
      regexp: /^( {0,3}(?<seq>````*)\s*)([^`]*?)(\s*)$/,
      replacement: '<span class="TMMark TMMark_TMCodeFenceBacktick">$1</span><span class="TMInfoString">$3</span>$4'
    },
    TMCodeFenceTildeOpen: {
      regexp: /^( {0,3}(?<seq>~~~~*)\s*)(.*?)(\s*)$/,
      replacement: '<span class="TMMark TMMark_TMCodeFenceTilde">$1</span><span class="TMInfoString">$3</span>$4'
    },
    TMCodeFenceBacktickClose: {
      regexp: /^( {0,3}(?<seq>````*))(\s*)$/,
      replacement: '<span class="TMMark TMMark_TMCodeFenceBacktick">$1</span>$3'
    },
    TMCodeFenceTildeClose: {
      regexp: /^( {0,3}(?<seq>~~~~*))(\s*)$/,
      replacement: '<span class="TMMark TMMark_TMCodeFenceTilde">$1</span>$3'
    },
    TMBlankLine: {
      regexp: /^([ \t]*)$/,
      replacement: '$0'
    },
    TMSetextH1Marker: {
      regexp: /^ {0,3}=+\s*$/,
      replacement: '<span class="TMMark TMMark_TMSetextH1Marker">$0</span>'
    },
    TMSetextH2Marker: {
      regexp: /^ {0,3}-+\s*$/,
      replacement: '<span class="TMMark TMMark_TMSetextH1Marker">$0</span>'
    },
    TMHR: {
      regexp: /^( {0,3}(\*[ \t]*\*[ \t]*\*[ \t*]*)|(-[ \t]*-[ \t]*-[ \t-]*)|(_[ \t]*_[ \t]*_[ \t_]*))$/,
      replacement: '<span class="TMMark TMMark_TMHR">$0</span>'
    },
    TMUL: {
      regexp: /^( {0,3}[+*-] {1,4})(.*)$/,
      replacement: '<span class="TMMark TMMark_TMUL">$1</span>$$2'
    },
    TMOL: {
      regexp: /^( {0,3}\d{1,9}[.)] {1,4})(.*)$/,
      replacement: '<span class="TMMark TMMark_TMOL">$1</span>$$2'
    },
    // TODO: This is currently preventing sublists (and any content within list items, really) from working
    TMIndentedCode: {
      regexp: /^( {4}|\t)(.*)$/,
      replacement: '<span class="TMMark TMMark_TMIndentedCode">$1</span>$2'
    },
    TMLinkReferenceDefinition: {
      // TODO: Link destination can't include unbalanced parantheses, but we just ignore that here 
      regexp: /^( {0,3}\[\s*)([^\s\]](?:[^\]]|\\\])*?)(\s*\]:\s*)((?:[^\s<>]+)|(?:<(?:[^<>\\]|\\.)*>))?(\s*)((?:\((?:[^()\\]|\\.)*\))|(?:"(?:[^"\\]|\\.)*")|(?:'(?:[^'\\]|\\.)*'))?(\s*)$/,
      replacement: '<span class="TMMark TMMark_TMLinkReferenceDefinition">$1</span><span class="TMLinkLabel TMLinkLabel_Definition">$2</span><span class="TMMark TMMark_TMLinkReferenceDefinition">$3</span><span class="TMLinkDestination">$4</span>$5<span class="TMLinkTitle">$6</span>$7',
      labelPlaceholder: 2 // this defines which placeholder in the above regex is the link "label"
    }
  };

  /**
   * HTML blocks have multiple different classes of opener and closer. This array defines all the cases
   */
  var htmlBlockGrammar = [{
    start: /^ {0,3}<(?:script|pre|style)(?:\s|>|$)/i,
    end: /(?:<\/script>|<\/pre>|<\/style>)/i,
    paraInterrupt: true
  }, {
    start: /^ {0,3}<!--/,
    end: /-->/,
    paraInterrupt: true
  }, {
    start: /^ {0,3}<\?/,
    end: /\?>/,
    paraInterrupt: true
  }, {
    start: /^ {0,3}<![A-Z]/,
    end: />/,
    paraInterrupt: true
  }, {
    start: /^ {0,3}<!\[CDATA\[/,
    end: /\]\]>/,
    paraInterrupt: true
  }, {
    start: /^ {0,3}(?:<|<\/)(?:KnownTag)(?:\s|>|\/>|$)/i,
    end: false,
    paraInterrupt: true
  }, {
    start: /^ {0,3}(?:HTMLOpenTag|HTMLCloseTag)\s*$/,
    end: false,
    paraInterrupt: false
  }];

  /**
   * Structure of the object:
   * Top level entries are rules, each consisting of a regular expressions (in string format) as well as a replacement.
   * In the regular expressions, replacements from the object 'replacements' will be processed before compiling into the property regexp.
   */
  var inlineGrammar = {
    escape: {
      regexp: /^\\(ASCIIPunctuation)/,
      replacement: '<span class="TMMark TMMark_TMEscape">\\</span>$1'
    },
    code: {
      regexp: /^(`+)((?:[^`])|(?:[^`].*?[^`]))(\1)/,
      replacement: '<span class="TMMark TMMark_TMCode">$1</span><code class="TMCode">$2</code><span class="TMMark TMMark_TMCode">$3</span>'
    },
    autolink: {
      regexp: /^<((?:Scheme:[^\s<>]*)|(?:Email))>/,
      replacement: '<span class="TMMark TMMark_TMAutolink">&lt;</span><span class="TMAutolink">$1</span><span class="TMMark TMMark_TMAutolink">&gt;</span>'
    },
    html: {
      regexp: /^((?:HTMLOpenTag)|(?:HTMLCloseTag)|(?:HTMLComment)|(?:HTMLPI)|(?:HTMLDeclaration)|(?:HTMLCDATA))/,
      replacement: '<span class="TMHTML">$1</span>'
    },
    linkOpen: {
      regexp: /^\[/,
      replacement: ''
    },
    imageOpen: {
      regexp: /^!\[/,
      replacement: ''
    },
    linkLabel: {
      regexp: /^(\[\s*)([^\]]*?)(\s*\])/,
      replacement: '',
      labelPlaceholder: 2
    },
    default: {
      regexp: /^(.|(?:NotTriggerChar+))/,
      replacement: '$1'
    }
  };

  // Process replacements in regexps
  const replacementRegexp = new RegExp(Object.keys(replacements).join('|'));

  // Inline
  const inlineRules = [...Object.keys(inlineGrammar)];
  for (let rule of inlineRules) {
    let re = inlineGrammar[rule].regexp.source;
    // Replace while there is something to replace. This means it also works over multiple levels (replacements containing replacements)
    while (re.match(replacementRegexp)) {
      re = re.replace(replacementRegexp, string => {
        return replacements[string].source;
      });
    }
    inlineGrammar[rule].regexp = new RegExp(re, inlineGrammar[rule].regexp.flags);
  }

  // HTML Block (only opening rule is processed currently)
  for (let rule of htmlBlockGrammar) {
    let re = rule.start.source;
    // Replace while there is something to replace. This means it also works over multiple levels (replacements containing replacements)
    while (re.match(replacementRegexp)) {
      re = re.replace(replacementRegexp, string => {
        return replacements[string].source;
      });
    }
    rule.start = new RegExp(re, rule.start.flags);
  }

  /**
   * Escapes HTML special characters (<, >, and &) in the string.
   * @param {string} string The raw string to be escaped
   * @returns {string} The string, ready to be used in HTML
   */
  function htmlescape(string) {
    return (string ? string : '').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
  }
  /**
   * Contains the commands that can be sent to the editor. Contains objects with a name representing the name of the command.
   * Each of the objects contains the following keys:
   * 
   *   - type: Can be either inline (for inline formatting) or line (for block / line formatting).
   *   - className: Used to determine whether the command is active at a given position. 
   *     For line formatting, this looks at the class of the line element. For inline elements, tries to find an enclosing element with that class.
   *   - set / unset: Contain instructions how to set and unset the command. For line type commands, both consist of a pattern and replacement that 
   *     will be applied to each line (using String.replace). For inline type commands, the set object contains a pre and post string which will
   *     be inserted before and after the selection. The unset object contains a prePattern and a postPattern. Both should be regular expressions and 
   *     they will be applied to the portion of the line before and after the selection (using String.replace, with an empty replacement string).
   */
  const commands = {
    // Replacements for unset for inline commands are '' by default
    bold: {
      type: 'inline',
      className: 'TMStrong',
      set: {
        pre: '**',
        post: '**'
      },
      unset: {
        prePattern: /(?:\*\*|__)$/,
        postPattern: /^(?:\*\*|__)/
      }
    },
    italic: {
      type: 'inline',
      className: 'TMEm',
      set: {
        pre: '*',
        post: '*'
      },
      unset: {
        prePattern: /(?:\*|_)$/,
        postPattern: /^(?:\*|_)/
      }
    },
    code: {
      type: 'inline',
      className: 'TMCode',
      set: {
        pre: '`',
        post: '`'
      },
      unset: {
        prePattern: /`+$/,
        postPattern: /^`+/
      } // FIXME this doesn't ensure balanced backticks right now
    },

    strikethrough: {
      type: 'inline',
      className: 'TMStrikethrough',
      set: {
        pre: '~~',
        post: '~~'
      },
      unset: {
        prePattern: /~~$/,
        postPattern: /^~~/
      }
    },
    h1: {
      type: 'line',
      className: 'TMH1',
      set: {
        pattern: /^( {0,3}(?:(?:#+|[0-9]{1,9}[).]|[>\-*+])\s+)?)(.*)$/,
        replacement: '# $2'
      },
      unset: {
        pattern: /^( {0,3}#\s+)(.*?)((?:\s+#+\s*)?)$/,
        replacement: '$2'
      }
    },
    h2: {
      type: 'line',
      className: 'TMH2',
      set: {
        pattern: /^( {0,3}(?:(?:#+|[0-9]{1,9}[).]|[>\-*+])\s+)?)(.*)$/,
        replacement: '## $2'
      },
      unset: {
        pattern: /^( {0,3}##\s+)(.*?)((?:\s+#+\s*)?)$/,
        replacement: '$2'
      }
    },
    h3: {
      type: 'line',
      className: 'TMH3',
      set: {
        pattern: /^( {0,3}(?:(?:#+|[0-9]{1,9}[).]|[>\-*+])\s+)?)(.*)$/,
        replacement: '### $2'
      },
      unset: {
        pattern: /^( {0,3}###\s+)(.*?)((?:\s+#+\s*)?)$/,
        replacement: '$2'
      }
    },
    h4: {
      type: 'line',
      className: 'TMH4',
      set: {
        pattern: /^( {0,3}(?:(?:#+|[0-9]{1,9}[).]|[>\-*+])\s+)?)(.*)$/,
        replacement: '#### $2'
      },
      unset: {
        pattern: /^( {0,3}####\s+)(.*?)((?:\s+#+\s*)?)$/,
        replacement: '$2'
      }
    },
    h5: {
      type: 'line',
      className: 'TMH5',
      set: {
        pattern: /^( {0,3}(?:(?:#+|[0-9]{1,9}[).]|[>\-*+])\s+)?)(.*)$/,
        replacement: '##### $2'
      },
      unset: {
        pattern: /^( {0,3}#####\s+)(.*?)((?:\s+#+\s*)?)$/,
        replacement: '$2'
      }
    },
    h6: {
      type: 'line',
      className: 'TMH6',
      set: {
        pattern: /^( {0,3}(?:(?:#+|[0-9]{1,9}[).]|[>\-*+])\s+)?)(.*)$/,
        replacement: '###### $2'
      },
      unset: {
        pattern: /^( {0,3}######\s+)(.*?)((?:\s+#+\s*)?)$/,
        replacement: '$2'
      }
    },
    ul: {
      type: 'line',
      className: 'TMUL',
      set: {
        pattern: /^( {0,3}(?:(?:#+|[0-9]{1,9}[).]|[>\-*+])\s+)?)(.*)$/,
        replacement: '- $2'
      },
      unset: {
        pattern: /^( {0,3}[+*-] {1,4})(.*)$/,
        replacement: '$2'
      }
    },
    ol: {
      type: 'line',
      className: 'TMOL',
      set: {
        pattern: /^( {0,3}(?:(?:#+|[0-9]{1,9}[).]|[>\-*+])\s+)?)(.*)$/,
        replacement: '$#. $2'
      },
      unset: {
        pattern: /^( {0,3}\d{1,9}[.)] {1,4})(.*)$/,
        replacement: '$2'
      }
    },
    blockquote: {
      type: 'line',
      className: 'TMBlockquote',
      set: {
        pattern: /^( {0,3}(?:(?:#+|[0-9]{1,9}[).]|[>\-*+])\s+)?)(.*)$/,
        replacement: '> $2'
      },
      unset: {
        pattern: /^( {0,3}>[ ]?)(.*)$/,
        replacement: '$2'
      }
    }
  };

  class Editor {
    constructor() {
      let props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      this.e = null;
      this.textarea = null;
      this.lines = [];
      this.lineElements = [];
      this.lineTypes = [];
      this.lineCaptures = [];
      this.lineReplacements = [];
      this.linkLabels = [];
      this.lineDirty = [];
      this.lastCommandState = null;
      this.listeners = {
        change: [],
        selection: [],
        drop: []
      };
      let element = props.element;
      this.textarea = props.textarea;
      if (this.textarea) {
        if (!this.textarea.tagName) {
          this.textarea = document.getElementById(this.textarea);
        }
        if (!element) element = this.textarea;
      }
      if (element && !element.tagName) {
        element = document.getElementById(props.element);
      }
      if (!element) {
        element = document.getElementsByTagName("body")[0];
      }
      if (element.tagName == "TEXTAREA") {
        this.textarea = element;
        element = this.textarea.parentNode;
      }
      if (this.textarea) {
        this.textarea.style.display = "none";
      }
      this.createEditorElement(element);
      this.setContent(typeof props.content === "string" ? props.content : this.textarea ? this.textarea.value : "# Hello TinyMDE!\nEdit **here**");
    }

    /**
     * Creates the editor element inside the target element of the DOM tree
     * @param element The target element of the DOM tree
     */
    createEditorElement(element) {
      this.e = document.createElement("div");
      this.e.className = "TinyMDE";
      this.e.contentEditable = true;
      // The following is important for formatting purposes, but also since otherwise the browser replaces subsequent spaces with  &nbsp; &nbsp;
      // That breaks a lot of stuff, so we do this here and not in CSS—therefore, you don't have to remember to put this in the CSS file
      this.e.style.whiteSpace = "pre-wrap";
      // Avoid formatting (B / I / U) popping up on iOS
      this.e.style.webkitUserModify = "read-write-plaintext-only";
      if (this.textarea && this.textarea.parentNode == element && this.textarea.nextSibling) {
        element.insertBefore(this.e, this.textarea.nextSibling);
      } else {
        element.appendChild(this.e);
      }
      this.e.addEventListener("input", e => this.handleInputEvent(e));
      this.e.addEventListener("compositionend", e => this.handleInputEvent(e));
      document.addEventListener("selectionchange", e => this.handleSelectionChangeEvent(e));
      this.e.addEventListener("paste", e => this.handlePaste(e));
      this.e.addEventListener("drop", e => this.handleDrop(e));
      this.lineElements = this.e.childNodes; // this will automatically update
    }

    /**
     * Sets the editor content.
     * @param {string} content The new Markdown content
     */
    setContent(content) {
      // Delete any existing content
      while (this.e.firstChild) {
        this.e.removeChild(this.e.firstChild);
      }
      this.lines = content.split(/(?:\r\n|\r|\n)/);
      this.lineDirty = [];
      for (let lineNum = 0; lineNum < this.lines.length; lineNum++) {
        let le = document.createElement("div");
        this.e.appendChild(le);
        this.lineDirty.push(true);
      }
      this.lineTypes = new Array(this.lines.length);
      this.updateFormatting();
      this.fireChange();
    }

    /**
     * Gets the editor content as a Markdown string.
     * @returns {string} The editor content as a markdown string
     */
    getContent() {
      return this.lines.join("\n");
    }

    /**
     * This is the main method to update the formatting (from this.lines to HTML output)
     */
    updateFormatting() {
      // First, parse line types. This will update this.lineTypes, this.lineReplacements, and this.lineCaptures
      // We don't apply the formatting yet
      this.updateLineTypes();
      // Collect any valid link labels from link reference definitions—we need that for formatting to determine what's a valid link
      this.updateLinkLabels();
      // Now, apply the formatting
      this.applyLineTypes();
    }

    /**
     * Updates this.linkLabels: For every link reference definition (line type TMLinkReferenceDefinition), we collect the label
     */
    updateLinkLabels() {
      this.linkLabels = [];
      for (let l = 0; l < this.lines.length; l++) {
        if (this.lineTypes[l] == "TMLinkReferenceDefinition") {
          this.linkLabels.push(this.lineCaptures[l][lineGrammar.TMLinkReferenceDefinition.labelPlaceholder]);
        }
      }
    }

    /**
     * Helper function to replace placeholders from a RegExp capture. The replacement string can contain regular dollar placeholders (e.g., $1),
     * which are interpreted like in String.replace(), but also double dollar placeholders ($$1). In the case of double dollar placeholders,
     * Markdown inline grammar is applied on the content of the captured subgroup, i.e., $$1 processes inline Markdown grammar in the content of the
     * first captured subgroup, and replaces `$$1` with the result.
     *
     * @param {string} replacement The replacement string, including placeholders.
     * @param  capture The result of a RegExp.exec() call
     * @returns The replacement string, with placeholders replaced from the capture result.
     */
    replace(replacement, capture) {
      return replacement.replace(/(\${1,2})([0-9])/g, (str, p1, p2) => {
        if (p1 == "$") return htmlescape(capture[p2]);else return `<span class="TMInlineFormatted">${this.processInlineStyles(capture[p2])}</span>`;
      });
    }

    /**
     * Applies the line types (from this.lineTypes as well as the capture result in this.lineReplacements and this.lineCaptures)
     * and processes inline formatting for all lines.
     */
    applyLineTypes() {
      for (let lineNum = 0; lineNum < this.lines.length; lineNum++) {
        if (this.lineDirty[lineNum]) {
          let contentHTML = this.replace(this.lineReplacements[lineNum], this.lineCaptures[lineNum]);
          // this.lineHTML[lineNum] = (contentHTML == '' ? '<br />' : contentHTML); // Prevent empty elements which can't be selected etc.
          this.lineElements[lineNum].className = this.lineTypes[lineNum];
          this.lineElements[lineNum].removeAttribute("style");
          this.lineElements[lineNum].innerHTML = contentHTML == "" ? "<br />" : contentHTML; // Prevent empty elements which can't be selected etc.
        }

        this.lineElements[lineNum].dataset.lineNum = lineNum;
      }
    }

    /**
     * Determines line types for all lines based on the line / block grammar. Captures the results of the respective line
     * grammar regular expressions.
     * Updates this.lineTypes, this.lineCaptures, and this.lineReplacements.
     */
    updateLineTypes() {
      let codeBlockType = false;
      let codeBlockSeqLength = 0;
      let htmlBlock = false;
      for (let lineNum = 0; lineNum < this.lines.length; lineNum++) {
        let lineType = "TMPara";
        let lineCapture = [this.lines[lineNum]];
        let lineReplacement = "$$0"; // Default replacement for paragraph: Inline format the entire line

        // Check ongoing code blocks
        // if (lineNum > 0 && (this.lineTypes[lineNum - 1] == 'TMCodeFenceBacktickOpen' || this.lineTypes[lineNum - 1] == 'TMFencedCodeBacktick')) {
        if (codeBlockType == "TMCodeFenceBacktickOpen") {
          // We're in a backtick-fenced code block, check if the current line closes it
          let capture = lineGrammar.TMCodeFenceBacktickClose.regexp.exec(this.lines[lineNum]);
          if (capture && capture.groups["seq"].length >= codeBlockSeqLength) {
            lineType = "TMCodeFenceBacktickClose";
            lineReplacement = lineGrammar.TMCodeFenceBacktickClose.replacement;
            lineCapture = capture;
            codeBlockType = false;
          } else {
            lineType = "TMFencedCodeBacktick";
            lineReplacement = '<span class="TMFencedCode">$0<br /></span>';
            lineCapture = [this.lines[lineNum]];
          }
        }
        // if (lineNum > 0 && (this.lineTypes[lineNum - 1] == 'TMCodeFenceTildeOpen' || this.lineTypes[lineNum - 1] == 'TMFencedCodeTilde')) {
        else if (codeBlockType == "TMCodeFenceTildeOpen") {
          // We're in a tilde-fenced code block
          let capture = lineGrammar.TMCodeFenceTildeClose.regexp.exec(this.lines[lineNum]);
          if (capture && capture.groups["seq"].length >= codeBlockSeqLength) {
            lineType = "TMCodeFenceTildeClose";
            lineReplacement = lineGrammar.TMCodeFenceTildeClose.replacement;
            lineCapture = capture;
            codeBlockType = false;
          } else {
            lineType = "TMFencedCodeTilde";
            lineReplacement = '<span class="TMFencedCode">$0<br /></span>';
            lineCapture = [this.lines[lineNum]];
          }
        }

        // Check HTML block types
        if (lineType == "TMPara" && htmlBlock === false) {
          for (let htmlBlockType of htmlBlockGrammar) {
            if (this.lines[lineNum].match(htmlBlockType.start)) {
              // Matching start condition. Check if this tag can start here (not all start conditions allow breaking a paragraph).
              if (htmlBlockType.paraInterrupt || lineNum == 0 || !(this.lineTypes[lineNum - 1] == "TMPara" || this.lineTypes[lineNum - 1] == "TMUL" || this.lineTypes[lineNum - 1] == "TMOL" || this.lineTypes[lineNum - 1] == "TMBlockquote")) {
                htmlBlock = htmlBlockType;
                break;
              }
            }
          }
        }
        if (htmlBlock !== false) {
          lineType = "TMHTMLBlock";
          lineReplacement = '<span class="TMHTMLContent">$0<br /></span>'; // No formatting in TMHTMLBlock
          lineCapture = [this.lines[lineNum]]; // This should already be set but better safe than sorry

          // Check if HTML block should be closed
          if (htmlBlock.end) {
            // Specific end condition
            if (this.lines[lineNum].match(htmlBlock.end)) {
              htmlBlock = false;
            }
          } else {
            // No specific end condition, ends with blank line
            if (lineNum == this.lines.length - 1 || this.lines[lineNum + 1].match(lineGrammar.TMBlankLine.regexp)) {
              htmlBlock = false;
            }
          }
        }

        // Check all regexps if we haven't applied one of the code block types
        if (lineType == "TMPara") {
          for (let type in lineGrammar) {
            if (lineGrammar[type].regexp) {
              let capture = lineGrammar[type].regexp.exec(this.lines[lineNum]);
              if (capture) {
                lineType = type;
                lineReplacement = lineGrammar[type].replacement;
                lineCapture = capture;
                break;
              }
            }
          }
        }

        // If we've opened a code block, remember that
        if (lineType == "TMCodeFenceBacktickOpen" || lineType == "TMCodeFenceTildeOpen") {
          codeBlockType = lineType;
          codeBlockSeqLength = lineCapture.groups["seq"].length;
        }

        // Link reference definition and indented code can't interrupt a paragraph
        if ((lineType == "TMIndentedCode" || lineType == "TMLinkReferenceDefinition") && lineNum > 0 && (this.lineTypes[lineNum - 1] == "TMPara" || this.lineTypes[lineNum - 1] == "TMUL" || this.lineTypes[lineNum - 1] == "TMOL" || this.lineTypes[lineNum - 1] == "TMBlockquote")) {
          // Fall back to TMPara
          lineType = "TMPara";
          lineCapture = [this.lines[lineNum]];
          lineReplacement = "$$0";
        }

        // Setext H2 markers that can also be interpreted as an empty list item should be regarded as such (as per CommonMark spec)
        if (lineType == "TMSetextH2Marker") {
          let capture = lineGrammar.TMUL.regexp.exec(this.lines[lineNum]);
          if (capture) {
            lineType = "TMUL";
            lineReplacement = lineGrammar.TMUL.replacement;
            lineCapture = capture;
          }
        }

        // Setext headings are only valid if preceded by a paragraph (and if so, they change the type of the previous paragraph)
        if (lineType == "TMSetextH1Marker" || lineType == "TMSetextH2Marker") {
          if (lineNum == 0 || this.lineTypes[lineNum - 1] != "TMPara") {
            // Setext marker is invalid. However, a H2 marker might still be a valid HR, so let's check that
            let capture = lineGrammar.TMHR.regexp.exec(this.lines[lineNum]);
            if (capture) {
              // Valid HR
              lineType = "TMHR";
              lineCapture = capture;
              lineReplacement = lineGrammar.TMHR.replacement;
            } else {
              // Not valid HR, format as TMPara
              lineType = "TMPara";
              lineCapture = [this.lines[lineNum]];
              lineReplacement = "$$0";
            }
          } else {
            // Valid setext marker. Change types of preceding para lines
            let headingLine = lineNum - 1;
            const headingLineType = lineType == "TMSetextH1Marker" ? "TMSetextH1" : "TMSetextH2";
            do {
              if (this.lineTypes[headingLineType] != headingLineType) {
                this.lineTypes[headingLine] = headingLineType;
                this.lineDirty[headingLineType] = true;
              }
              this.lineReplacements[headingLine] = "$$0";
              this.lineCaptures[headingLine] = [this.lines[headingLine]];
              headingLine--;
            } while (headingLine >= 0 && this.lineTypes[headingLine] == "TMPara");
          }
        }
        // Lastly, save the line style to be applied later
        if (this.lineTypes[lineNum] != lineType) {
          this.lineTypes[lineNum] = lineType;
          this.lineDirty[lineNum] = true;
        }
        this.lineReplacements[lineNum] = lineReplacement;
        this.lineCaptures[lineNum] = lineCapture;
      }
    }

    /**
     * Updates all line contents from the HTML, then re-applies formatting.
     */
    updateLineContentsAndFormatting() {
      this.clearDirtyFlag();
      this.updateLineContents();
      this.updateFormatting();
    }

    /**
     * Attempts to parse a link or image at the current position. This assumes that the opening [ or ![ has already been matched.
     * Returns false if this is not a valid link, image. See below for more information
     * @param {string} originalString The original string, starting at the opening marker ([ or ![)
     * @param {boolean} isImage Whether or not this is an image (opener == ![)
     * @returns false if not a valid link / image.
     * Otherwise returns an object with two properties: output is the string to be included in the processed output,
     * charCount is the number of input characters (from originalString) consumed.
     */
    parseLinkOrImage(originalString, isImage) {
      // Skip the opening bracket
      let textOffset = isImage ? 2 : 1;
      let opener = originalString.substr(0, textOffset);
      let type = isImage ? "TMImage" : "TMLink";
      let currentOffset = textOffset;
      let bracketLevel = 1;
      let linkText = false;
      let linkRef = false;
      let linkLabel = [];
      let linkDetails = []; // If matched, this will be an array: [whitespace + link destination delimiter, link destination, link destination delimiter, whitespace, link title delimiter, link title, link title delimiter + whitespace]. All can be empty strings.

      textOuter: while (currentOffset < originalString.length && linkText === false /* empty string is okay */) {
        let string = originalString.substr(currentOffset);

        // Capture any escapes and code blocks at current position, they bind more strongly than links
        // We don't have to actually process them here, that'll be done later in case the link / image is valid, but we need to skip over them.
        for (let rule of ["escape", "code", "autolink", "html"]) {
          let cap = inlineGrammar[rule].regexp.exec(string);
          if (cap) {
            currentOffset += cap[0].length;
            continue textOuter;
          }
        }

        // Check for image. It's okay for an image to be included in a link or image
        if (string.match(inlineGrammar.imageOpen.regexp)) {
          // Opening image. It's okay if this is a matching pair of brackets
          bracketLevel++;
          currentOffset += 2;
          continue textOuter;
        }

        // Check for link (not an image because that would have been captured and skipped over above)
        if (string.match(inlineGrammar.linkOpen.regexp)) {
          // Opening bracket. Two things to do:
          // 1) it's okay if this part of a pair of brackets.
          // 2) If we are currently trying to parse a link, this nested bracket musn't start a valid link (no nested links allowed)
          bracketLevel++;
          // if (bracketLevel >= 2) return false; // Nested unescaped brackets, this doesn't qualify as a link / image
          if (!isImage) {
            if (this.parseLinkOrImage(string, false)) {
              // Valid link inside this possible link, which makes this link invalid (inner links beat outer ones)
              return false;
            }
          }
          currentOffset += 1;
          continue textOuter;
        }

        // Check for closing bracket
        if (string.match(/^\]/)) {
          bracketLevel--;
          if (bracketLevel == 0) {
            // Found matching bracket and haven't found anything disqualifying this as link / image.
            linkText = originalString.substr(textOffset, currentOffset - textOffset);
            currentOffset++;
            continue textOuter;
          }
        }

        // Nothing matches, proceed to next char
        currentOffset++;
      }

      // Did we find a link text (i.e., find a matching closing bracket?)
      if (linkText === false) return false; // Nope

      // So far, so good. We've got a valid link text. Let's see what type of link this is
      let nextChar = currentOffset < originalString.length ? originalString.substr(currentOffset, 1) : "";

      // REFERENCE LINKS
      if (nextChar == "[") {
        let string = originalString.substr(currentOffset);
        let cap = inlineGrammar.linkLabel.regexp.exec(string);
        if (cap) {
          // Valid link label
          currentOffset += cap[0].length;
          linkLabel.push(cap[1], cap[2], cap[3]);
          if (cap[inlineGrammar.linkLabel.labelPlaceholder]) {
            // Full reference link
            linkRef = cap[inlineGrammar.linkLabel.labelPlaceholder];
          } else {
            // Collapsed reference link
            linkRef = linkText.trim();
          }
        } else {
          // Not a valid link label
          return false;
        }
      } else if (nextChar != "(") {
        // Shortcut ref link
        linkRef = linkText.trim();

        // INLINE LINKS
      } else {
        // nextChar == '('

        // Potential inline link
        currentOffset++;
        let parenthesisLevel = 1;
        inlineOuter: while (currentOffset < originalString.length && parenthesisLevel > 0) {
          let string = originalString.substr(currentOffset);

          // Process whitespace
          let cap = /^\s+/.exec(string);
          if (cap) {
            switch (linkDetails.length) {
              case 0:
                linkDetails.push(cap[0]);
                break;
              // Opening whitespace
              case 1:
                linkDetails.push(cap[0]);
                break;
              // Open destination, but not a destination yet; desination opened with <
              case 2:
                // Open destination with content in it. Whitespace only allowed if opened by angle bracket, otherwise this closes the destination
                if (linkDetails[0].match(/</)) {
                  linkDetails[1] = linkDetails[1].concat(cap[0]);
                } else {
                  if (parenthesisLevel != 1) return false; // Unbalanced parenthesis
                  linkDetails.push(""); // Empty end delimiter for destination
                  linkDetails.push(cap[0]); // Whitespace in between destination and title
                }

                break;
              case 3:
                linkDetails.push(cap[0]);
                break;
              // Whitespace between destination and title
              case 4:
                return false;
              // This should never happen (no opener for title yet, but more whitespace to capture)
              case 5:
                linkDetails.push("");
              // Whitespace at beginning of title, push empty title and continue
              case 6:
                linkDetails[5] = linkDetails[5].concat(cap[0]);
                break;
              // Whitespace in title
              case 7:
                linkDetails[6] = linkDetails[6].concat(cap[0]);
                break;
              // Whitespace after closing delimiter
              default:
                return false;
              // We should never get here
            }

            currentOffset += cap[0].length;
            continue inlineOuter;
          }

          // Process backslash escapes
          cap = inlineGrammar.escape.regexp.exec(string);
          if (cap) {
            switch (linkDetails.length) {
              case 0:
                linkDetails.push("");
              // this opens the link destination, add empty opening delimiter and proceed to next case
              case 1:
                linkDetails.push(cap[0]);
                break;
              // This opens the link destination, append it
              case 2:
                linkDetails[1] = linkDetails[1].concat(cap[0]);
                break;
              // Part of the link destination
              case 3:
                return false;
              // Lacking opening delimiter for link title
              case 4:
                return false;
              // Lcaking opening delimiter for link title
              case 5:
                linkDetails.push("");
              // This opens the link title
              case 6:
                linkDetails[5] = linkDetails[5].concat(cap[0]);
                break;
              // Part of the link title
              default:
                return false;
              // After link title was closed, without closing parenthesis
            }

            currentOffset += cap[0].length;
            continue inlineOuter;
          }

          // Process opening angle bracket as deilimiter of destination
          if (linkDetails.length < 2 && string.match(/^</)) {
            if (linkDetails.length == 0) linkDetails.push("");
            linkDetails[0] = linkDetails[0].concat("<");
            currentOffset++;
            continue inlineOuter;
          }

          // Process closing angle bracket as delimiter of destination
          if ((linkDetails.length == 1 || linkDetails.length == 2) && string.match(/^>/)) {
            if (linkDetails.length == 1) linkDetails.push(""); // Empty link destination
            linkDetails.push(">");
            currentOffset++;
            continue inlineOuter;
          }

          // Process  non-parenthesis delimiter for title.
          cap = /^["']/.exec(string);
          // For this to be a valid opener, we have to either have no destination, only whitespace so far,
          // or a destination with trailing whitespace.
          if (cap && (linkDetails.length == 0 || linkDetails.length == 1 || linkDetails.length == 4)) {
            while (linkDetails.length < 4) linkDetails.push("");
            linkDetails.push(cap[0]);
            currentOffset++;
            continue inlineOuter;
          }

          // For this to be a valid closer, we have to have an opener and some or no title, and this has to match the opener
          if (cap && (linkDetails.length == 5 || linkDetails.length == 6) && linkDetails[4] == cap[0]) {
            if (linkDetails.length == 5) linkDetails.push(""); // Empty link title
            linkDetails.push(cap[0]);
            currentOffset++;
            continue inlineOuter;
          }
          // Other cases (linkDetails.length == 2, 3, 7) will be handled with the "default" case below.

          // Process opening parenthesis
          if (string.match(/^\(/)) {
            switch (linkDetails.length) {
              case 0:
                linkDetails.push("");
              // this opens the link destination, add empty opening delimiter and proceed to next case
              case 1:
                linkDetails.push("");
              // This opens the link destination
              case 2:
                // Part of the link destination
                linkDetails[1] = linkDetails[1].concat("(");
                if (!linkDetails[0].match(/<$/)) parenthesisLevel++;
                break;
              case 3:
                linkDetails.push("");
              //  opening delimiter for link title
              case 4:
                linkDetails.push("(");
                break;
              // opening delimiter for link title
              case 5:
                linkDetails.push("");
              // opens the link title, add empty title content and proceed to next case
              case 6:
                // Part of the link title. Un-escaped parenthesis only allowed in " or ' delimited title
                if (linkDetails[4] == "(") return false;
                linkDetails[5] = linkDetails[5].concat("(");
                break;
              default:
                return false;
              // After link title was closed, without closing parenthesis
            }

            currentOffset++;
            continue inlineOuter;
          }

          // Process closing parenthesis
          if (string.match(/^\)/)) {
            if (linkDetails.length <= 2) {
              // We are inside the link destination. Parentheses have to be matched if not in angle brackets
              while (linkDetails.length < 2) linkDetails.push("");
              if (!linkDetails[0].match(/<$/)) parenthesisLevel--;
              if (parenthesisLevel > 0) {
                linkDetails[1] = linkDetails[1].concat(")");
              }
            } else if (linkDetails.length == 5 || linkDetails.length == 6) {
              // We are inside the link title.
              if (linkDetails[4] == "(") {
                // This closes the link title
                if (linkDetails.length == 5) linkDetails.push("");
                linkDetails.push(")");
              } else {
                // Just regular ol' content
                if (linkDetails.length == 5) linkDetails.push(")");else linkDetails[5] = linkDetails[5].concat(")");
              }
            } else {
              parenthesisLevel--; // This should decrease it from 1 to 0...
            }

            if (parenthesisLevel == 0) {
              // No invalid condition, let's make sure the linkDetails array is complete
              while (linkDetails.length < 7) linkDetails.push("");
            }
            currentOffset++;
            continue inlineOuter;
          }

          // Any old character
          cap = /^./.exec(string);
          if (cap) {
            switch (linkDetails.length) {
              case 0:
                linkDetails.push("");
              // this opens the link destination, add empty opening delimiter and proceed to next case
              case 1:
                linkDetails.push(cap[0]);
                break;
              // This opens the link destination, append it
              case 2:
                linkDetails[1] = linkDetails[1].concat(cap[0]);
                break;
              // Part of the link destination
              case 3:
                return false;
              // Lacking opening delimiter for link title
              case 4:
                return false;
              // Lcaking opening delimiter for link title
              case 5:
                linkDetails.push("");
              // This opens the link title
              case 6:
                linkDetails[5] = linkDetails[5].concat(cap[0]);
                break;
              // Part of the link title
              default:
                return false;
              // After link title was closed, without closing parenthesis
            }

            currentOffset += cap[0].length;
            continue inlineOuter;
          }
          throw "Infinite loop"; // we should never get here since the last test matches any character
        }

        if (parenthesisLevel > 0) return false; // Parenthes(es) not closed
      }

      if (linkRef !== false) {
        // Ref link; check that linkRef is valid
        let valid = false;
        for (let label of this.linkLabels) {
          if (label == linkRef) {
            valid = true;
            break;
          }
        }
        let label = valid ? "TMLinkLabel TMLinkLabel_Valid" : "TMLinkLabel TMLinkLabel_Invalid";
        let output = `<span class="TMMark TMMark_${type}">${opener}</span><span class="${type} ${linkLabel.length < 3 || !linkLabel[1] ? label : ""}">${this.processInlineStyles(linkText)}</span><span class="TMMark TMMark_${type}">]</span>`;
        if (linkLabel.length >= 3) {
          output = output.concat(`<span class="TMMark TMMark_${type}">${linkLabel[0]}</span>`, `<span class="${label}">${linkLabel[1]}</span>`, `<span class="TMMark TMMark_${type}">${linkLabel[2]}</span>`);
        }
        return {
          output: output,
          charCount: currentOffset
        };
      } else if (linkDetails) {
        // Inline link

        // This should never happen, but better safe than sorry.
        while (linkDetails.length < 7) {
          linkDetails.push("");
        }
        return {
          output: `<span class="TMMark TMMark_${type}">${opener}</span><span class="${type}">${this.processInlineStyles(linkText)}</span><span class="TMMark TMMark_${type}">](${linkDetails[0]}</span><span class="${type}Destination">${linkDetails[1]}</span><span class="TMMark TMMark_${type}">${linkDetails[2]}${linkDetails[3]}${linkDetails[4]}</span><span class="${type}Title">${linkDetails[5]}</span><span class="TMMark TMMark_${type}">${linkDetails[6]})</span>`,
          charCount: currentOffset
        };
      }
      return false;
    }

    /**
     * Formats a markdown string as HTML, using Markdown inline formatting.
     * @param {string} originalString The input (markdown inline formatted) string
     * @returns {string} The HTML formatted output
     */
    processInlineStyles(originalString) {
      let processed = "";
      let stack = []; // Stack is an array of objects of the format: {delimiter, delimString, count, output}
      let offset = 0;
      let string = originalString;
      outer: while (string) {
        // Process simple rules (non-delimiter)
        for (let rule of ["escape", "code", "autolink", "html"]) {
          let cap = inlineGrammar[rule].regexp.exec(string);
          if (cap) {
            string = string.substr(cap[0].length);
            offset += cap[0].length;
            processed += inlineGrammar[rule].replacement
            // .replace(/\$\$([1-9])/g, (str, p1) => processInlineStyles(cap[p1])) // todo recursive calling
            .replace(/\$([1-9])/g, (str, p1) => htmlescape(cap[p1]));
            continue outer;
          }
        }

        // Check for links / images
        let potentialLink = string.match(inlineGrammar.linkOpen.regexp);
        let potentialImage = string.match(inlineGrammar.imageOpen.regexp);
        if (potentialImage || potentialLink) {
          let result = this.parseLinkOrImage(string, potentialImage);
          if (result) {
            processed = `${processed}${result.output}`;
            string = string.substr(result.charCount);
            offset += result.charCount;
            continue outer;
          }
        }

        // Check for em / strong delimiters
        let cap = /(^\*+)|(^_+)/.exec(string);
        if (cap) {
          let delimCount = cap[0].length;
          const delimString = cap[0];
          const currentDelimiter = cap[0][0]; // This should be * or _

          string = string.substr(cap[0].length);

          // We have a delimiter run. Let's check if it can open or close an emphasis.

          const preceding = offset > 0 ? originalString.substr(0, offset) : " "; // beginning and end of line count as whitespace
          const following = offset + cap[0].length < originalString.length ? string : " ";
          const punctuationFollows = following.match(punctuationLeading);
          const punctuationPrecedes = preceding.match(punctuationTrailing);
          const whitespaceFollows = following.match(/^\s/);
          const whitespacePrecedes = preceding.match(/\s$/);

          // These are the rules for right-flanking and left-flanking delimiter runs as per CommonMark spec
          let canOpen = !whitespaceFollows && (!punctuationFollows || !!whitespacePrecedes || !!punctuationPrecedes);
          let canClose = !whitespacePrecedes && (!punctuationPrecedes || !!whitespaceFollows || !!punctuationFollows);

          // Underscores have more detailed rules than just being part of left- or right-flanking run:
          if (currentDelimiter == "_" && canOpen && canClose) {
            canOpen = punctuationPrecedes;
            canClose = punctuationFollows;
          }

          // If the delimiter can close, check the stack if there's something it can close
          if (canClose) {
            let stackPointer = stack.length - 1;
            // See if we can find a matching opening delimiter, move down through the stack
            while (delimCount && stackPointer >= 0) {
              if (stack[stackPointer].delimiter == currentDelimiter) {
                // We found a matching delimiter, let's construct the formatted string

                // Firstly, if we skipped any stack levels, pop them immediately (non-matching delimiters)
                while (stackPointer < stack.length - 1) {
                  const entry = stack.pop();
                  processed = `${entry.output}${entry.delimString.substr(0, entry.count)}${processed}`;
                }

                // Then, format the string
                if (delimCount >= 2 && stack[stackPointer].count >= 2) {
                  // Strong
                  processed = `<span class="TMMark">${currentDelimiter}${currentDelimiter}</span><strong class="TMStrong">${processed}</strong><span class="TMMark">${currentDelimiter}${currentDelimiter}</span>`;
                  delimCount -= 2;
                  stack[stackPointer].count -= 2;
                } else {
                  // Em
                  processed = `<span class="TMMark">${currentDelimiter}</span><em class="TMEm">${processed}</em><span class="TMMark">${currentDelimiter}</span>`;
                  delimCount -= 1;
                  stack[stackPointer].count -= 1;
                }

                // If that stack level is empty now, pop it
                if (stack[stackPointer].count == 0) {
                  let entry = stack.pop();
                  processed = `${entry.output}${processed}`;
                  stackPointer--;
                }
              } else {
                // This stack level's delimiter type doesn't match the current delimiter type
                // Go down one level in the stack
                stackPointer--;
              }
            }
          }
          // If there are still delimiters left, and the delimiter run can open, push it on the stack
          if (delimCount && canOpen) {
            stack.push({
              delimiter: currentDelimiter,
              delimString: delimString,
              count: delimCount,
              output: processed
            });
            processed = ""; // Current formatted output has been pushed on the stack and will be prepended when the stack gets popped
            delimCount = 0;
          }

          // Any delimiters that are left (closing unmatched) are appended to the output.
          if (delimCount) {
            processed = `${processed}${delimString.substr(0, delimCount)}`;
          }
          offset += cap[0].length;
          continue outer;
        }

        // Check for strikethrough delimiter
        cap = /^~~/.exec(string);
        if (cap) {
          let consumed = false;
          let stackPointer = stack.length - 1;
          // See if we can find a matching opening delimiter, move down through the stack
          while (!consumed && stackPointer >= 0) {
            if (stack[stackPointer].delimiter == "~") {
              // We found a matching delimiter, let's construct the formatted string

              // Firstly, if we skipped any stack levels, pop them immediately (non-matching delimiters)
              while (stackPointer < stack.length - 1) {
                const entry = stack.pop();
                processed = `${entry.output}${entry.delimString.substr(0, entry.count)}${processed}`;
              }

              // Then, format the string
              processed = `<span class="TMMark">~~</span><del class="TMStrikethrough">${processed}</del><span class="TMMark">~~</span>`;
              let entry = stack.pop();
              processed = `${entry.output}${processed}`;
              consumed = true;
            } else {
              // This stack level's delimiter type doesn't match the current delimiter type
              // Go down one level in the stack
              stackPointer--;
            }
          }

          // If there are still delimiters left, and the delimiter run can open, push it on the stack
          if (!consumed) {
            stack.push({
              delimiter: "~",
              delimString: "~~",
              count: 2,
              output: processed
            });
            processed = ""; // Current formatted output has been pushed on the stack and will be prepended when the stack gets popped
          }

          offset += cap[0].length;
          string = string.substr(cap[0].length);
          continue outer;
        }

        // Process 'default' rule
        cap = inlineGrammar.default.regexp.exec(string);
        if (cap) {
          string = string.substr(cap[0].length);
          offset += cap[0].length;
          processed += inlineGrammar.default.replacement.replace(/\$([1-9])/g, (str, p1) => htmlescape(cap[p1]));
          continue outer;
        }
        throw "Infinite loop!";
      }

      // Empty the stack, any opening delimiters are unused
      while (stack.length) {
        const entry = stack.pop();
        processed = `${entry.output}${entry.delimString.substr(0, entry.count)}${processed}`;
      }
      return processed;
    }

    /**
     * Clears the line dirty flag (resets it to an array of false)
     */
    clearDirtyFlag() {
      this.lineDirty = new Array(this.lines.length);
      for (let i = 0; i < this.lineDirty.length; i++) {
        this.lineDirty[i] = false;
      }
    }

    /**
     * Updates the class properties (lines, lineElements) from the DOM.
     * @returns true if contents changed
     */
    updateLineContents() {
      // this.lineDirty = [];
      // Check if we have changed anything about the number of lines (inserted or deleted a paragraph)
      // < 0 means line(s) removed; > 0 means line(s) added
      let lineDelta = this.e.childElementCount - this.lines.length;
      if (lineDelta) {
        // yup. Let's try how much we can salvage (find out which lines from beginning and end were unchanged)
        // Find lines from the beginning that haven't changed...
        let firstChangedLine = 0;
        while (firstChangedLine <= this.lines.length && firstChangedLine <= this.lineElements.length && this.lineElements[firstChangedLine] &&
        // Check that the line element hasn't been deleted
        this.lines[firstChangedLine] == this.lineElements[firstChangedLine].textContent) {
          firstChangedLine++;
        }

        // End also from the end
        let lastChangedLine = -1;
        while (-lastChangedLine < this.lines.length && -lastChangedLine < this.lineElements.length && this.lines[this.lines.length + lastChangedLine] == this.lineElements[this.lineElements.length + lastChangedLine].textContent) {
          lastChangedLine--;
        }
        let linesToDelete = this.lines.length + lastChangedLine + 1 - firstChangedLine;
        if (linesToDelete < -lineDelta) linesToDelete = -lineDelta;
        if (linesToDelete < 0) linesToDelete = 0;
        let linesToAdd = [];
        for (let l = 0; l < linesToDelete + lineDelta; l++) {
          linesToAdd.push(this.lineElements[firstChangedLine + l].textContent);
        }
        this.spliceLines(firstChangedLine, linesToDelete, linesToAdd, false);
      } else {
        // No lines added or removed
        for (let line = 0; line < this.lineElements.length; line++) {
          let e = this.lineElements[line];
          let ct = e.textContent;
          if (this.lines[line] !== ct) {
            // Line changed, update it
            this.lines[line] = ct;
            this.lineDirty[line] = true;
          }
        }
      }
    }

    /**
     * Processes a new paragraph.
     * @param sel The current selection
     */
    processNewParagraph(sel) {
      if (!sel) return;

      // Update lines from content
      this.updateLineContents();
      let continuableType = false;
      // Let's see if we need to continue a list

      let checkLine = sel.col > 0 ? sel.row : sel.row - 1;
      switch (this.lineTypes[checkLine]) {
        case "TMUL":
          continuableType = "TMUL";
          break;
        case "TMOL":
          continuableType = "TMOL";
          break;
        case "TMIndentedCode":
          continuableType = "TMIndentedCode";
          break;
      }
      let lines = this.lines[sel.row].replace(/\n\n$/, "\n").split(/(?:\r\n|\n|\r)/);
      if (lines.length == 1) {
        // No new line
        this.updateFormatting();
        return;
      }
      this.spliceLines(sel.row, 1, lines, true);
      sel.row++;
      sel.col = 0;
      if (continuableType) {
        // Check if the previous line was non-empty
        let capture = lineGrammar[continuableType].regexp.exec(this.lines[sel.row - 1]);
        if (capture) {
          // Convention: capture[1] is the line type marker, capture[2] is the content
          if (capture[2]) {
            // Previous line has content, continue the continuable type

            // Hack for OL: increment number
            if (continuableType == "TMOL") {
              capture[1] = capture[1].replace(/\d{1,9}/, result => {
                return parseInt(result[0]) + 1;
              });
            }
            this.lines[sel.row] = `${capture[1]}${this.lines[sel.row]}`;
            this.lineDirty[sel.row] = true;
            sel.col = capture[1].length;
          } else {
            // Previous line has no content, remove the continuable type from the previous row
            this.lines[sel.row - 1] = "";
            this.lineDirty[sel.row - 1] = true;
          }
        }
      }
      this.updateFormatting();
    }

    // /**
    //  * Processes a "delete" input action.
    //  * @param {object} focus The selection
    //  * @param {boolean} forward If true, performs a forward delete, otherwise performs a backward delete
    //  */
    // processDelete(focus, forward) {
    //   if (!focus) return;
    //   let anchor = this.getSelection(true);
    //   // Do we have a non-empty selection?
    //   if (focus.col != anchor.col || focus.row != anchor.row) {
    //     // non-empty. direction doesn't matter.
    //     this.paste('', anchor, focus);
    //   } else {
    //     if (forward) {
    //       if (focus.col < this.lines[focus.row].length) this.paste('', {row: focus.row, col: focus.col + 1}, focus);
    //       else if (focus.col < this.lines.length) this.paste('', {row: focus.row + 1, col: 0}, focus);
    //       // Otherwise, we're at the very end and can't delete forward
    //     } else {
    //       if (focus.col > 0) this.paste('', {row: focus.row, col: focus.col - 1}, focus);
    //       else if (focus.row > 0) this.paste('', {row: focus.row - 1, col: this.lines[focus.row - 1].length - 1}, focus);
    //       // Otherwise, we're at the very beginning and can't delete backwards
    //     }
    //   }

    // }

    /**
     * Gets the current position of the selection counted by row and column of the editor Markdown content (as opposed to the position in the DOM).
     *
     * @param {boolean} getAnchor if set to true, gets the selection anchor (start point of the selection), otherwise gets the focus (end point).
     * @return {object} An object representing the selection, with properties col and row.
     */
    getSelection() {
      let getAnchor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      const selection = window.getSelection();
      let startNode = getAnchor ? selection.anchorNode : selection.focusNode;
      if (!startNode) return null;
      let offset = getAnchor ? selection.anchorOffset : selection.focusOffset;
      if (startNode == this.e) {
        if (offset < this.lines.length) return {
          row: offset,
          col: 0
        };
        return {
          row: offset - 1,
          col: this.lines[offset - 1].length
        };
      }
      let col = this.computeColumn(startNode, offset);
      if (col === null) return null; // We are outside of the editor

      // Find the row node
      let node = startNode;
      while (node.parentElement != this.e) {
        node = node.parentElement;
      }
      let row = 0;
      // Check if we can read a line number from the data-line-num attribute.
      // The last condition is a security measure since inserting a new paragraph copies the previous rows' line number
      if (node.dataset && node.dataset.lineNum && (!node.previousSibling || node.previousSibling.dataset.lineNum != node.dataset.lineNum)) {
        row = parseInt(node.dataset.lineNum);
      } else {
        while (node.previousSibling) {
          row++;
          node = node.previousSibling;
        }
      }
      return {
        row: row,
        col: col,
        node: startNode
      };
    }

    /**
     * Computes a column within an editor line from a node and offset within that node.
     * @param {Node} startNode The node
     * @param {int} offset THe selection
     * @returns {int} the column, or null if the node is not inside the editor
     */
    computeColumn(startNode, offset) {
      let node = startNode;
      let col;
      // First, make sure we're actually in the editor.
      while (node && node.parentNode != this.e) {
        node = node.parentNode;
      }
      if (node == null) return null;

      // There are two ways that offset can be defined:
      // - Either, the node is a text node, in which case it is the offset within the text
      // - Or, the node is an element with child notes, in which case the offset refers to the
      //   child node after which the selection is located
      if (startNode.nodeType === Node.TEXT_NODE || offset === 0) {
        // In the case that the node is non-text node but the offset is 0,
        // The selection is at the beginning of that element so we
        // can simply use the same approach as if it were at the beginning
        // of a text node.
        col = offset;
        node = startNode;
      } else if (offset > 0) {
        node = startNode.childNodes[offset - 1];
        col = node.textContent.length;
      }
      while (node.parentNode != this.e) {
        if (node.previousSibling) {
          node = node.previousSibling;
          col += node.textContent.length;
        } else {
          node = node.parentNode;
        }
      }
      return col;
    }

    /**
     * Computes DOM node and offset within that node from a position expressed as row and column.
     * @param {int} row Row (line number)
     * @param {int} col Column
     * @returns An object with two properties: node and offset. offset may be null;
     */
    computeNodeAndOffset(row, col) {
      let bindRight = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
      if (row >= this.lineElements.length) {
        // Selection past the end of text, set selection to end of text
        row = this.lineElements.length - 1;
        col = this.lines[row].length;
      }
      if (col > this.lines[row].length) {
        col = this.lines[row].length;
      }
      const parentNode = this.lineElements[row];
      let node = parentNode.firstChild;
      let childrenComplete = false;
      // default return value
      let rv = {
        node: parentNode.firstChild ? parentNode.firstChild : parentNode,
        offset: 0
      };
      while (node != parentNode) {
        if (!childrenComplete && node.nodeType === Node.TEXT_NODE) {
          if (node.nodeValue.length >= col) {
            if (bindRight && node.nodeValue.length == col) {
              // Selection is at the end of this text node, but we are binding right (prefer an offset of 0 in the next text node)
              // Remember return value in case we don't find another text node
              rv = {
                node: node,
                offset: col
              };
              col = 0;
            } else {
              return {
                node: node,
                offset: col
              };
            }
          } else {
            col -= node.nodeValue.length;
          }
        }
        if (!childrenComplete && node.firstChild) {
          node = node.firstChild;
        } else if (node.nextSibling) {
          childrenComplete = false;
          node = node.nextSibling;
        } else {
          childrenComplete = true;
          node = node.parentNode;
        }
      }

      // Either, the position was invalid and we just return the default return value
      // Or we are binding right and the selection is at the end of the line
      return rv;
    }

    /**
     * Sets the selection based on rows and columns within the editor Markdown content.
     * @param {object} focus Object representing the selection, needs to have properties row and col.
     * @param anchor Anchor of the selection. If not given, assumes the current anchor.
     */
    setSelection(focus) {
      let anchor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      if (!focus) return;
      let range = document.createRange();
      let {
        node: focusNode,
        offset: focusOffset
      } = this.computeNodeAndOffset(focus.row, focus.col, anchor && anchor.row == focus.row && anchor.col > focus.col); // Bind selection right if anchor is in the same row and behind the focus
      let anchorNode = null,
        anchorOffset = null;
      if (anchor && (anchor.row != focus.row || anchor.col != focus.col)) {
        let {
          node,
          offset
        } = this.computeNodeAndOffset(anchor.row, anchor.col, focus.row == anchor.row && focus.col > anchor.col);
        anchorNode = node;
        anchorOffset = offset;
      }
      if (anchorNode) range.setStart(anchorNode, anchorOffset);else range.setStart(focusNode, focusOffset);
      range.setEnd(focusNode, focusOffset);
      let windowSelection = window.getSelection();
      windowSelection.removeAllRanges();
      windowSelection.addRange(range);
    }

    /**
     * Event handler for input events
     */
    handleInputEvent(event) {
      // For composition input, we are only updating the text after we have received
      // a compositionend event, so we return upon insertCompositionText.
      // Otherwise, the DOM changes break the text input.
      if (event.inputType == "insertCompositionText") return;
      let focus = this.getSelection();
      if ((event.inputType == "insertParagraph" || event.inputType == "insertLineBreak") && focus) {
        this.clearDirtyFlag();
        this.processNewParagraph(focus);
      } else {
        if (!this.e.firstChild) {
          this.e.innerHTML = '<div class="TMBlankLine"><br></div>';
        } else {
          this.fixNodeHierarchy();
        }
        this.updateLineContentsAndFormatting();
      }
      if (focus) {
        this.setSelection(focus);
      }
      this.fireChange();
    }

    /**
     * Fixes the node hierarchy – makes sure that each line is in a div, and there are no nested divs
     */
    fixNodeHierarchy() {
      const originalChildren = Array.from(this.e.childNodes);
      const replaceChild = function (child) {
        const parent = child.parentElement;
        const nextSibling = child.nextSibling;
        parent.removeChild(child);
        for (var _len = arguments.length, newChildren = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          newChildren[_key - 1] = arguments[_key];
        }
        newChildren.forEach(newChild => nextSibling ? parent.insertBefore(newChild, nextSibling) : parent.appendChild(newChild));
      };
      originalChildren.forEach(child => {
        if (child.nodeType !== Node.ELEMENT_NODE || child.tagName !== "DIV") {
          // Found a child node that's either not an element or not a div. Wrap it in a div.
          const divWrapper = document.createElement("div");
          replaceChild(child, divWrapper);
          divWrapper.appendChild(child);
        } else if (child.childNodes.length == 0) {
          // Empty div child node, include at least a <br />
          child.appendChild(document.createElement("br"));
        } else {
          const grandChildren = Array.from(child.childNodes);
          if (grandChildren.some(grandChild => grandChild.nodeType === Node.ELEMENT_NODE && grandChild.tagName === "DIV")) {
            return replaceChild(child, grandChildren);
          }
        }
      });
    }

    /**
     * Event handler for the "drop" event
     */
    handleDrop(event) {
      event.preventDefault();
      this.fireDrop(event.dataTransfer);
    }

    /**
     * Event handler for "selectionchange" events.
     */
    handleSelectionChangeEvent() {
      this.fireSelection();
    }

    /**
     * Convenience function to "splice" new lines into the arrays this.lines, this.lineDirty, this.lineTypes, and the DOM elements
     * underneath the editor element.
     * This method is essentially Array.splice, only that the third parameter takes an un-spread array (and the forth parameter)
     * determines whether the DOM should also be adjusted.
     *
     * @param {int} startLine Position at which to start changing the array of lines
     * @param {int} linesToDelete Number of lines to delete
     * @param {array} linesToInsert Array of strings representing the lines to be inserted
     * @param {boolean} adjustLineElements If true, then <div> elements are also inserted in the DOM at the respective position
     */
    spliceLines(startLine) {
      let linesToDelete = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      let linesToInsert = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
      let adjustLineElements = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;
      if (adjustLineElements) {
        for (let i = 0; i < linesToDelete; i++) {
          this.e.removeChild(this.e.childNodes[startLine]);
        }
      }
      let insertedBlank = [];
      let insertedDirty = [];
      for (let i = 0; i < linesToInsert.length; i++) {
        insertedBlank.push("");
        insertedDirty.push(true);
        if (adjustLineElements) {
          if (this.e.childNodes[startLine]) this.e.insertBefore(document.createElement("div"), this.e.childNodes[startLine]);else this.e.appendChild(document.createElement("div"));
        }
      }
      this.lines.splice(startLine, linesToDelete, ...linesToInsert);
      this.lineTypes.splice(startLine, linesToDelete, ...insertedBlank);
      this.lineDirty.splice(startLine, linesToDelete, ...insertedDirty);
    }

    /**
     * Event handler for the "paste" event
     */
    handlePaste(event) {
      event.preventDefault();

      // get text representation of clipboard
      let text = (event.originalEvent || event).clipboardData.getData("text/plain");

      // insert text manually
      this.paste(text);
    }

    /**
     * Pastes the text at the current selection (or at the end, if no current selection)
     * @param {string} text
     */
    paste(text) {
      let anchor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      let focus = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
      if (!anchor) anchor = this.getSelection(true);
      if (!focus) focus = this.getSelection(false);
      let beginning, end;
      if (!focus) {
        focus = {
          row: this.lines.length - 1,
          col: this.lines[this.lines.length - 1].length
        }; // Insert at end
      }

      if (!anchor) {
        anchor = focus;
      }
      if (anchor.row < focus.row || anchor.row == focus.row && anchor.col <= focus.col) {
        beginning = anchor;
        end = focus;
      } else {
        beginning = focus;
        end = anchor;
      }
      let insertedLines = text.split(/(?:\r\n|\r|\n)/);
      let lineBefore = this.lines[beginning.row].substr(0, beginning.col);
      let lineEnd = this.lines[end.row].substr(end.col);
      insertedLines[0] = lineBefore.concat(insertedLines[0]);
      let endColPos = insertedLines[insertedLines.length - 1].length;
      insertedLines[insertedLines.length - 1] = insertedLines[insertedLines.length - 1].concat(lineEnd);
      this.spliceLines(beginning.row, 1 + end.row - beginning.row, insertedLines);
      focus.row = beginning.row + insertedLines.length - 1;
      focus.col = endColPos;
      this.updateFormatting();
      this.setSelection(focus);
      this.fireChange();
    }

    /**
     * Computes the (lowest in the DOM tree) common ancestor of two DOM nodes.
     * @param {Node} node1 the first node
     * @param {Node} node2 the second node
     * @returns {Node} The commen ancestor node, or null if there is no common ancestor
     */
    computeCommonAncestor(node1, node2) {
      if (!node1 || !node2) return null;
      if (node1 == node2) return node1;
      const ancestry = node => {
        let ancestry = [];
        while (node) {
          ancestry.unshift(node);
          node = node.parentNode;
        }
        return ancestry;
      };
      const ancestry1 = ancestry(node1);
      const ancestry2 = ancestry(node2);
      if (ancestry1[0] != ancestry2[0]) return null;
      let i;
      for (i = 0; ancestry1[i] == ancestry2[i]; i++);
      return ancestry1[i - 1];
    }

    /**
     * Finds the (lowest in the DOM tree) enclosing DOM node with a given class.
     * @param {object} focus The focus selection object
     * @param {object} anchor The anchor selection object
     * @param {string} className The class name to find
     * @returns {Node} The enclosing DOM node with the respective class (inside the editor), if there is one; null otherwise.
     */
    computeEnclosingMarkupNode(focus, anchor, className) {
      let node = null;
      if (!focus) return null;
      if (!anchor) {
        node = focus.node;
      } else {
        if (focus.row != anchor.row) return null;
        node = this.computeCommonAncestor(focus.node, anchor.node);
      }
      if (!node) return null;
      while (node != this.e) {
        if (node.className && node.className.includes(className)) return node;
        node = node.parentNode;
      }
      // Ascended all the way to the editor element
      return null;
    }

    /**
     * Returns the state (true / false) of all commands.
     * @param focus Focus of the selection. If not given, assumes the current focus.
     * @param anchor Anchor of the selection. If not given, assumes the current anchor.
     */
    getCommandState() {
      let focus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      let anchor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      let commandState = {};
      if (!focus) focus = this.getSelection(false);
      if (!anchor) anchor = this.getSelection(true);
      if (!focus) {
        for (let cmd in commands) {
          commandState[cmd] = null;
        }
        return commandState;
      }
      if (!anchor) anchor = focus;
      let start, end;
      if (anchor.row < focus.row || anchor.row == focus.row && anchor.col < focus.col) {
        start = anchor;
        end = focus;
      } else {
        start = focus;
        end = anchor;
      }
      if (end.row > start.row && end.col == 0) {
        end.row--;
        end.col = this.lines[end.row].length; // Selection to beginning of next line is said to end at the beginning of the last line
      }

      for (let cmd in commands) {
        if (commands[cmd].type == "inline") {
          if (!focus || focus.row != anchor.row || !this.isInlineFormattingAllowed(focus, anchor)) {
            commandState[cmd] = null;
          } else {
            // The command state is true if there is a respective enclosing markup node (e.g., the selection is enclosed in a <b>..</b>) ...
            commandState[cmd] = !!this.computeEnclosingMarkupNode(focus, anchor, commands[cmd].className) ||
            // ... or if it's an empty string preceded by and followed by formatting markers, e.g. **|** where | is the cursor
            focus.col == anchor.col && !!this.lines[focus.row].substr(0, focus.col).match(commands[cmd].unset.prePattern) && !!this.lines[focus.row].substr(focus.col).match(commands[cmd].unset.postPattern);
          }
        }
        if (commands[cmd].type == "line") {
          if (!focus) {
            commandState[cmd] = null;
          } else {
            let state = this.lineTypes[start.row] == commands[cmd].className;
            for (let line = start.row; line <= end.row; line++) {
              if (this.lineTypes[line] == commands[cmd].className != state) {
                state = null;
                break;
              }
            }
            commandState[cmd] = state;
          }
        }
      }
      return commandState;
    }

    /**
     * Sets a command state
     * @param {string} command
     * @param {boolean} state
     */
    setCommandState(command, state) {
      if (commands[command].type == "inline") {
        let anchor = this.getSelection(true);
        let focus = this.getSelection(false);
        if (!anchor) anchor = focus;
        if (!anchor) return;
        if (anchor.row != focus.row) return;
        if (!this.isInlineFormattingAllowed(focus, anchor)) return;
        let markupNode = this.computeEnclosingMarkupNode(focus, anchor, commands[command].className);
        this.clearDirtyFlag();

        // First case: There's an enclosing markup node, remove the markers around that markup node
        if (markupNode) {
          this.lineDirty[focus.row] = true;
          const startCol = this.computeColumn(markupNode, 0);
          const len = markupNode.textContent.length;
          const left = this.lines[focus.row].substr(0, startCol).replace(commands[command].unset.prePattern, "");
          const mid = this.lines[focus.row].substr(startCol, len);
          const right = this.lines[focus.row].substr(startCol + len).replace(commands[command].unset.postPattern, "");
          this.lines[focus.row] = left.concat(mid, right);
          anchor.col = left.length;
          focus.col = anchor.col + len;
          this.updateFormatting();
          this.setSelection(focus, anchor);
          this.fireChange();

          // Second case: Empty selection with surrounding formatting markers, remove those
        } else if (focus.col == anchor.col && !!this.lines[focus.row].substr(0, focus.col).match(commands[command].unset.prePattern) && !!this.lines[focus.row].substr(focus.col).match(commands[command].unset.postPattern)) {
          this.lineDirty[focus.row] = true;
          const left = this.lines[focus.row].substr(0, focus.col).replace(commands[command].unset.prePattern, "");
          const right = this.lines[focus.row].substr(focus.col).replace(commands[command].unset.postPattern, "");
          this.lines[focus.row] = left.concat(right);
          focus.col = anchor.col = left.length;
          this.updateFormatting();
          this.setSelection(focus, anchor);
          this.fireChange();

          // Not currently formatted, insert formatting markers
        } else {
          // Trim any spaces from the selection
          let {
            startCol,
            endCol
          } = focus.col < anchor.col ? {
            startCol: focus.col,
            endCol: anchor.col
          } : {
            startCol: anchor.col,
            endCol: focus.col
          };
          let match = this.lines[focus.row].substr(startCol, endCol - startCol).match(/^(?<leading>\s*).*\S(?<trailing>\s*)$/);
          if (match) {
            startCol += match.groups.leading.length;
            endCol -= match.groups.trailing.length;
          }
          focus.col = startCol;
          anchor.col = endCol;

          // Just insert markup before and after and hope for the best.
          this.wrapSelection(commands[command].set.pre, commands[command].set.post, focus, anchor);
          this.fireChange();
          // TODO clean this up so that markup remains properly nested
        }
      } else if (commands[command].type == "line") {
        let anchor = this.getSelection(true);
        let focus = this.getSelection(false);
        if (!anchor) anchor = focus;
        if (!focus) return;
        this.clearDirtyFlag();
        let start = anchor.row > focus.row ? focus : anchor;
        let end = anchor.row > focus.row ? anchor : focus;
        if (end.row > start.row && end.col == 0) {
          end.row--;
        }
        for (let line = start.row; line <= end.row; line++) {
          if (state && this.lineTypes[line] != commands[command].className) {
            this.lines[line] = this.lines[line].replace(commands[command].set.pattern, commands[command].set.replacement.replace("$#", line - start.row + 1));
            this.lineDirty[line] = true;
          }
          if (!state && this.lineTypes[line] == commands[command].className) {
            this.lines[line] = this.lines[line].replace(commands[command].unset.pattern, commands[command].unset.replacement);
            this.lineDirty[line] = true;
          }
        }
        this.updateFormatting();
        this.setSelection({
          row: end.row,
          col: this.lines[end.row].length
        }, {
          row: start.row,
          col: 0
        });
        this.fireChange();
      }
    }

    /**
     * Returns whether or not inline formatting is allowed at the current focus
     * @param {object} focus The current focus
     */
    isInlineFormattingAllowed() {
      // TODO Remove parameters from all calls
      const sel = window.getSelection();
      if (!sel || !sel.focusNode || !sel.anchorNode) return false;

      // Check if we can find a common ancestor with the class `TMInlineFormatted`

      // Special case: Empty selection right before `TMInlineFormatted`
      if (sel.isCollapsed && sel.focusNode.nodeType == 3 && sel.focusOffset == sel.focusNode.nodeValue.length) {
        let node;
        for (node = sel.focusNode; node && node.nextSibling == null; node = node.parentNode);
        if (node && node.nextSibling.className && node.nextSibling.className.includes("TMInlineFormatted")) return true;
      }

      // Look for a common ancestor
      let ancestor = this.computeCommonAncestor(sel.focusNode, sel.anchorNode);
      if (!ancestor) return false;

      // Check if there's an ancestor of class 'TMInlineFormatted' or 'TMBlankLine'
      while (ancestor && ancestor != this.e) {
        if (ancestor.className && typeof ancestor.className.includes == "function" && (ancestor.className.includes("TMInlineFormatted") || ancestor.className.includes("TMBlankLine"))) return true;
        ancestor = ancestor.parentNode;
      }
      return false;
    }

    /**
     * Wraps the current selection in the strings pre and post. If the selection is not on one line, returns.
     * @param {string} pre The string to insert before the selection.
     * @param {string} post The string to insert after the selection.
     * @param {object} focus The current selection focus. If null, selection will be computed.
     * @param {object} anchor The current selection focus. If null, selection will be computed.
     */
    wrapSelection(pre, post) {
      let focus = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
      let anchor = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;
      if (!focus) focus = this.getSelection(false);
      if (!anchor) anchor = this.getSelection(true);
      if (!focus || !anchor || focus.row != anchor.row) return;
      this.lineDirty[focus.row] = true;
      const startCol = focus.col < anchor.col ? focus.col : anchor.col;
      const endCol = focus.col < anchor.col ? anchor.col : focus.col;
      const left = this.lines[focus.row].substr(0, startCol).concat(pre);
      const mid = endCol == startCol ? "" : this.lines[focus.row].substr(startCol, endCol - startCol);
      const right = post.concat(this.lines[focus.row].substr(endCol));
      this.lines[focus.row] = left.concat(mid, right);
      anchor.col = left.length;
      focus.col = anchor.col + mid.length;
      this.updateFormatting();
      this.setSelection(focus, anchor);
    }

    /**
     * Toggles the command state for a command (true <-> false)
     * @param {string} command The editor command
     */
    toggleCommandState(command) {
      if (!this.lastCommandState) this.lastCommandState = this.getCommandState();
      this.setCommandState(command, !this.lastCommandState[command]);
    }

    /**
     * Fires a change event. Updates the linked textarea and notifies any event listeners.
     */
    fireChange() {
      if (!this.textarea && !this.listeners.change.length) return;
      const content = this.getContent();
      if (this.textarea) this.textarea.value = content;
      for (let listener of this.listeners.change) {
        listener({
          content: content,
          linesDirty: this.linesDirty
        });
      }
    }

    /**
     * Fires a "selection changed" event.
     */
    fireSelection() {
      if (this.listeners.selection && this.listeners.selection.length) {
        let focus = this.getSelection(false);
        let anchor = this.getSelection(true);
        let commandState = this.getCommandState(focus, anchor);
        if (this.lastCommandState) {
          Object.assign(this.lastCommandState, commandState);
        } else {
          this.lastCommandState = Object.assign({}, commandState);
        }
        for (let listener of this.listeners.selection) {
          listener({
            focus: focus,
            anchor: anchor,
            commandState: this.lastCommandState
          });
        }
      }
    }

    /**
     * Fires a drop event.
     */
    fireDrop(dataTransfer) {
      for (let listener of this.listeners.drop) {
        listener({
          dataTransfer
        });
      }
    }

    /**
     * Adds an event listener.
     * @param {string} type The type of event to listen to. Can be 'change', 'selection' or 'drop'.
     * @param {*} listener Function of the type (event) => {} to be called when the event occurs.
     */
    addEventListener(type, listener) {
      if (type.match(/^(?:change|input)$/i)) {
        this.listeners.change.push(listener);
      }
      if (type.match(/^(?:selection|selectionchange)$/i)) {
        this.listeners.selection.push(listener);
      }
      if (type.match(/^(?:drop)$/i)) {
        this.listeners.drop.push(listener);
      }
    }
  }

  exports.CommandBar = CommandBar;
  exports.Editor = Editor;

}));
//# sourceMappingURL=index.js.map

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbInNyYy9zdmcvc3ZnLmpzIiwic3JjL1RpbnlNREVDb21tYW5kQmFyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2dsb2JhbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9mYWlscy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9kZXNjcmlwdG9ycy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLW5hdGl2ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZG9jdW1lbnQtYWxsLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2lzLWNhbGxhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2lzLW51bGwtb3ItdW5kZWZpbmVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9mdW5jdGlvbi1uYW1lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2RlZmluZS1nbG9iYWwtcHJvcGVydHkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvc2hhcmVkLXN0b3JlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2luc3BlY3Qtc291cmNlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3dlYWstbWFwLWJhc2ljLWRldGVjdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pcy1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZG9jdW1lbnQtY3JlYXRlLWVsZW1lbnQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaWU4LWRvbS1kZWZpbmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdjgtcHJvdG90eXBlLWRlZmluZS1idWcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYW4tb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1pcy1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZW5naW5lLXVzZXItYWdlbnQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZW5naW5lLXY4LXZlcnNpb24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvc3ltYm9sLWNvbnN0cnVjdG9yLWRldGVjdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy91c2Utc3ltYm9sLWFzLXVpZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pcy1zeW1ib2wuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdHJ5LXRvLXN0cmluZy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hLWNhbGxhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2dldC1tZXRob2QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb3JkaW5hcnktdG8tcHJpbWl0aXZlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3NoYXJlZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy91aWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8tcHJpbWl0aXZlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLXByb3BlcnR5LWtleS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NyZWF0ZS1ub24tZW51bWVyYWJsZS1wcm9wZXJ0eS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zaGFyZWQta2V5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2ludGVybmFsLXN0YXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL21ha2UtYnVpbHQtaW4uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluLWFjY2Vzc29yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3JlZ2V4cC1mbGFncy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmZsYWdzLmpzIiwic3JjL2dyYW1tYXIuanMiLCJzcmMvVGlueU1ERS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzdmcgPSB7XG4gIGJsb2NrcXVvdGU6IGA8c3ZnIGhlaWdodD1cIjE4XCIgd2lkdGg9XCIxOFwiPjxyZWN0IHdpZHRoPVwiNVwiIGhlaWdodD1cIjVcIiB4PVwiM1wiIHk9XCI0XCIgcnk9XCIxXCIvPjxyZWN0IHJ5PVwiMVwiIHk9XCI0XCIgeD1cIjEwXCIgaGVpZ2h0PVwiNVwiIHdpZHRoPVwiNVwiLz48cGF0aCBkPVwiTTggNi45OTl2M2MwIDEtMSAzLTEgM3MtLjMzMSAxLTEuMzMxIDFoLTFjLTEgMC0uNjY5LTEtLjY2OS0xczEtMiAxLTN2LTN6bTcgMHYzYzAgMS0xIDMtMSAzcy0uMzMxIDEtMS4zMzEgMWgtMWMtMSAwLS42NjktMS0uNjY5LTFzMS0yIDEtM3YtM3pcIi8+PC9zdmc+YCxcbiAgYm9sZDogYDxzdmcgaGVpZ2h0PVwiMThcIiB3aWR0aD1cIjE4XCI+PHBhdGggZD1cIk00IDJhMSAxIDAgMDAtMSAxdjEyYTEgMSAwIDAwMSAxaDZjNCAwIDUtMiA1LTQgMC0xLjMyMi0uNDM0LTIuNjM2LTEuODg1LTMuMzgxQzEzLjc3MiA3Ljg4NSAxNCA2Ljk0NSAxNCA2YzAtMi0xLTQtNS00em0xIDJoNGMxLjY2OCAwIDIuMzIuMzkzIDIuNi42NzIuMjguMjc5LjQuNjYyLjQgMS4zMjhzLS4xMiAxLjA1Ny0uNCAxLjMzOGMtLjI3NS4yNzQtMS4wMTQuNjQ2LTIuNi42NjJINXptNSA2YzEuNjY2LjAwNSAyLjMxOC4zODggMi41OTYuNjY2LjI3Ny4yNzguNDA0LjY2Ny40MDQgMS4zMzRzLS4xMjcgMS4wNi0uNDA0IDEuMzM4Yy0uMjc4LjI3OC0uOTMuNjYtMi41OTYuNjYybC00Ljk5Mi4wMDRMNSAxMHpcIi8+PC9zdmc+YCxcbiAgY2xlYXJfZm9ybWF0dGluZzogYDxzdmcgaGVpZ2h0PVwiMThcIiB3aWR0aD1cIjE4XCI+PHBhdGggZD1cIk0xMS4wMyAxYTEgMSAwIDAwLS43NC4zbC05IDlhMSAxIDAgMDAwIDEuNGw0IDRBMSAxIDAgMDA2IDE2aDJhMSAxIDAgMDAuNy0uM2w4LThhMSAxIDAgMDAwLTEuNGwtNS01YTEgMSAwIDAwLS42Ny0uM3pNOC43IDUuN2wzLjU4IDMuNkw3LjYgMTRINi40bC0zLTMgNS4zLTUuM3pcIi8+PHJlY3Qgcnk9XCIuOFwiIHJ4PVwiLjhcIiB5PVwiMTRcIiB4PVwiMTZcIiBoZWlnaHQ9XCIyXCIgd2lkdGg9XCIyXCIvPjxyZWN0IHdpZHRoPVwiMlwiIGhlaWdodD1cIjJcIiB4PVwiMTNcIiB5PVwiMTRcIiByeD1cIi44XCIgcnk9XCIuOFwiLz48cmVjdCByeT1cIi44XCIgcng9XCIuOFwiIHk9XCIxNFwiIHg9XCIxMFwiIGhlaWdodD1cIjJcIiB3aWR0aD1cIjJcIi8+PC9zdmc+YCxcbiAgY29kZTogYDxzdmcgaGVpZ2h0PVwiMThcIiB3aWR0aD1cIjE4XCI+PHBhdGggZD1cIk0xMy41IDIuOTk0YS41LjUgMCAwMC0uNS41LjUuNSAwIDAwMCAuMDM0VjQuNTNhNS45OTMgNS45OTMgMCAwMC03LjQ1MS0uNDQ1QTYgNiAwIDEwMTIuNDUgMTMuOWE1Ljk5IDUuOTkgMCAwMDEuMzQ2LTEuMzM0LjUuNSAwIDAwLjA5Ni0uMTAxLjUuNSAwIDAwLS4xMi0uNjk4LjUuNSAwIDAwLS42OTcuMTJsLS4wMDQtLjAwNWE1IDUgMCAwMS0xLjE5NyAxLjIgNSA1IDAgMTExLjIxNS02Ljk2NS41LjUgMCAwMC42OTcuMTIuNS41IDAgMDAuMjExLS40NFY0Ljc0NUgxNFYzLjQ5M2EuNS41IDAgMDAtLjUtLjV6XCIvPjwvc3ZnPmAsXG4gIGgxOiBgPHN2ZyBoZWlnaHQ9XCIxOFwiIHdpZHRoPVwiMThcIj48cGF0aCBkPVwiTTMgMnMwLTEgMS0xaDFjMSAwIDEgMSAxIDF2Nmg2VjJzMC0xIDEtMWgxYzEgMCAxIDEgMSAxdjE0czAgMS0xIDFoLTFjLTEgMC0xLTEtMS0xdi02SDZ2NnMwIDEtMSAxSDRjLTEgMC0xLTEtMS0xelwiLz48L3N2Zz5gLFxuICBoMjogYDxzdmcgaGVpZ2h0PVwiMThcIiB3aWR0aD1cIjE4XCI+PHBhdGggZD1cIk00IDJzMC0xIDEtMSAxIDEgMSAxdjZjMS0xIDItMSA0LTEgMyAwIDQgMiA0IDR2NXMwIDEtMSAxLTEtMS0xLTF2LTVjMC0xLjA5NC0xLTItMi0yLTIgMC0zIDAtNCAydjVzMCAxLTEgMS0xLTEtMS0xelwiLz48L3N2Zz5gLFxuICBocjogYDxzdmcgaGVpZ2h0PVwiMThcIiB3aWR0aD1cIjE4XCI+PHJlY3Qgcnk9XCIxXCIgeT1cIjhcIiBoZWlnaHQ9XCIyXCIgd2lkdGg9XCIxOFwiIHN0eWxlPVwiZm9udC12YXJpYXRpb24tc2V0dGluZ3M6bm9ybWFsO21hcmtlcjpub25lXCIvPjwvc3ZnPmAsXG4gIGltYWdlOiBgPHN2ZyBoZWlnaHQ9XCIxOFwiIHdpZHRoPVwiMThcIj48cGF0aCBkPVwiTTEgMnYxNGgxNlYySDF6bTIgMmgxMnY3bC0zLTMtNCA0LTItMi0zIDNWNHpcIi8+PGNpcmNsZSByPVwiMS41XCIgY3k9XCI2LjVcIiBjeD1cIjUuNVwiLz48L3N2Zz5gLFxuICBpdGFsaWM6IGA8c3ZnIGhlaWdodD1cIjE4XCIgd2lkdGg9XCIxOFwiPjxwYXRoIGQ9XCJNOSAyYTEgMSAwIDAwMCAyTDcgMTRhMSAxIDAgMTAwIDJoMmExIDEgMCAwMDAtMmwyLTEwYTEgMSAwIDEwMC0yelwiLz48L3N2Zz5gLFxuICBsaW5rOiBgPHN2ZyBoZWlnaHQ9XCIxOFwiIHdpZHRoPVwiMThcIj48cGF0aCBkPVwiTTkuMDcgNS4xOGEzLjkgMy45IDAgMDAtMS41Mi40M0M2LjMxIDYuMjIgNS4zIDcuMjkgNC4zIDguMjljLTEgMS0yLjA3IDIuMDItMi42OCAzLjI2LS4zMS42Mi0uNSAxLjMzLS40MSAyLjA3LjA5Ljc1LjQ4IDEuNDcgMS4xIDIuMDkuNjEuNjEgMS4zMyAxIDIuMDggMS4xLjc0LjA5IDEuNDUtLjEgMi4wNy0uNDIgMS4yNC0uNjEgMi4yNi0xLjY4IDMuMjYtMi42OC40Ni0uNDcuOTQtLjk0IDEuMzktMS40NGwtLjQzLjI2Yy0uNjguMzQtMS40OS41Ni0yLjM2LjQ2LS4yLS4wMy0uNC0uMDgtLjYtLjE0LS43OS43Ni0xLjU1IDEuNDUtMi4xNiAxLjc2LS4zOC4xOS0uNjcuMjQtLjkyLjIxLS4yNi0uMDMtLjU0LS4xNC0uOTItLjUzLS4zOS0uMzgtLjUtLjY2LS41My0uOTEtLjAzLS4yNi4wMi0uNTUuMjEtLjkzLjM5LS43NiAxLjMyLTEuNzQgMi4zMi0yLjc0IDEtMSAxLjk4LTEuOTMgMi43NC0yLjMyLjM4LS4xOS42Ny0uMjQuOTMtLjIxLjI1LjAzLjUzLjE0LjkxLjUzLjM5LjM4LjUuNjYuNTMuOTJ2LjA2bDEuMTItMS4wNi40NC0uNDdjLS4xOC0uMy0uNC0uNi0uNjctLjg3LS42Mi0uNjEtMS4zNC0xLTIuMDktMS4xYTMuMDggMy4wOCAwIDAwLS41NS0uMDF6XCIvPjxwYXRoIGQ9XCJNMTMuMDcuODZhMy45IDMuOSAwIDAwLTEuNTIuNDNjLTEuMjQuNjItMi4yNiAxLjY5LTMuMjYgMi42OS0uNDYuNDctLjk0Ljk0LTEuMzkgMS40My4xNS0uMDguMjgtLjE4LjQzLS4yNWE0LjQgNC40IDAgMDEyLjM2LS40NmMuMi4wMi40LjA3LjYuMTQuNzktLjc3IDEuNTUtMS40NiAyLjE2LTEuNzYuMzgtLjE5LjY3LS4yNS45My0uMjEuMjUuMDMuNTMuMTQuOTEuNTIuMzkuMzguNS42Ni41My45Mi4wMy4yNi0uMDIuNTUtLjIxLjkzLS4zOS43Ni0xLjMyIDEuNzQtMi4zMiAyLjc0LTEgMS0xLjk4IDEuOTMtMi43NCAyLjMxLS4zOC4yLS42Ny4yNS0uOTMuMjItLjI1LS4wNC0uNTMtLjE1LS45MS0uNTMtLjM5LS4zOC0uNS0uNjYtLjUzLS45MlY5Yy0uMzYuMzMtLjczLjY3LTEuMTIgMS4wNmwtLjQzLjQ2Yy4xNy4zLjQuNi42Ni44Ny42Mi42MiAxLjM0IDEgMi4wOCAxLjEuNzUuMSAxLjQ2LS4xIDIuMDgtLjQxIDEuMjQtLjYyIDIuMjYtMS42OSAzLjI2LTIuNjlzMi4wNy0yLjAyIDIuNjgtMy4yNmMuMzEtLjYyLjUtMS4zMi40MS0yLjA3YTMuNjMgMy42MyAwIDAwLTEuMS0yLjA4Yy0uNjEtLjYyLTEuMzMtMS0yLjA3LTEuMWEzLjA4IDMuMDggMCAwMC0uNTYtLjAyelwiLz48L3N2Zz5gLFxuICBvbDogYDxzdmcgaGVpZ2h0PVwiMThcIiB3aWR0aD1cIjE4XCI+PHBhdGggZD1cIk0xLjUgN2EuNS41IDAgMTAwIDFoMWEuNS41IDAgMDEuNS41YzAgLjE2NC0uMDguMzEtLjE0LjM1NWwtMS42NTUgMS4yNUEuNDkyLjQ5MiAwIDAwMSAxMC41YS41LjUgMCAwMC41LjVoMmEuNS41IDAgMDAwLTFIM2wuMzk4LS4yOTlBMS41IDEuNSAwIDAwMi41IDd6XCIvPjxwYXRoIGQ9XCJNMS41IDEyYy0uNjY3IDAtLjY2NyAxIDAgMWgxLjI1Yy4zMzMgMCAuMzMzLjUgMCAuNUgyLjVjLS42NjcgMC0uNjY3IDEgMCAxaC4yNWMuMzMzIDAgLjMzMy41IDAgLjVIMS41Yy0uNjY3IDAtLjY2NyAxIDAgMWgxYy4zOTggMCAuNzgtLjEzMSAxLjA2LS4zNjUuMjgyLS4yMzUuNDQtLjU1NC40NC0uODg1YTEuMTIxIDEuMTIxIDAgMDAtLjMwMy0uNzVjLjE5MS0uMjA0LjMtLjQ3LjMwMy0uNzUgMC0uMzMyLS4xNTgtLjY1MS0uNDQtLjg4NS0uMy0uMjQxLS42NzUtLjM3LTEuMDYtLjM2NXpcIi8+PHJlY3QgeT1cIjEzXCIgeD1cIjZcIiBoZWlnaHQ9XCIyXCIgd2lkdGg9XCIxMlwiIHJ5PVwiMVwiLz48cmVjdCByeT1cIjFcIiB3aWR0aD1cIjEyXCIgaGVpZ2h0PVwiMlwiIHg9XCI2XCIgeT1cIjhcIi8+PHJlY3QgeT1cIjNcIiB4PVwiNlwiIGhlaWdodD1cIjJcIiB3aWR0aD1cIjEyXCIgcnk9XCIxXCIvPjxwYXRoIGQ9XCJNMS41IDJhLjUuNSAwIDEwMCAxSDJ2MmgtLjVhLjUuNSAwIDEwMCAxaDJhLjUuNSAwIDEwMC0xSDNWMi41YzAtLjI3Ny0uMjIzLS41LS41LS41elwiLz48L3N2Zz5gLFxuICBzdHJpa2V0aHJvdWdoOiBgPHN2ZyB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIj48cGF0aCBkPVwiTTEwIDJDNiAyIDQgNCA0IDZjMCAuMzM4LjA4LjY3Mi4xOTMgMWgyLjM0QzYuMTEzIDYuNjI5IDYgNi4yOTUgNiA2YzAtLjMzNC4xMTctLjcyNS42OTEtMS4xNTRDNy4yNjUgNC40MTYgOC4zMzEgNCAxMCA0aDNhMSAxIDAgMDAwLTJ6bTEuNDc3IDljLjQxMy4zNjguNTIzLjcwNi41MjMgMSAwIC4zMzQtLjEyNy43MTItLjcwMSAxLjE0My0uNTc1LjQzLTEuNjMyLjg1LTMuMjk5Ljg1N2wtMS4wMDYuMDA3VjE0SDVhMSAxIDAgMDAwIDJoM2M0IDAgNi0yIDYtNCAwLS4zMzgtLjA4MS0uNjcyLS4xOTUtMXpcIi8+PHJlY3Qgcnk9XCIxXCIgeT1cIjhcIiB4PVwiMVwiIGhlaWdodD1cIjJcIiB3aWR0aD1cIjE2XCIvPjwvc3ZnPmAsXG4gIHVsOiBgPHN2ZyBoZWlnaHQ9XCIxOFwiIHdpZHRoPVwiMThcIj48Y2lyY2xlIGN4PVwiMlwiIGN5PVwiOVwiIHI9XCIyXCIvPjxjaXJjbGUgY3k9XCI0XCIgY3g9XCIyXCIgcj1cIjJcIi8+PHJlY3QgeT1cIjNcIiB4PVwiNlwiIGhlaWdodD1cIjJcIiB3aWR0aD1cIjEyXCIgcnk9XCIxXCIvPjxjaXJjbGUgY3g9XCIyXCIgY3k9XCIxNFwiIHI9XCIyXCIvPjxyZWN0IHJ5PVwiMVwiIHdpZHRoPVwiMTJcIiBoZWlnaHQ9XCIyXCIgeD1cIjZcIiB5PVwiOFwiLz48cmVjdCB5PVwiMTNcIiB4PVwiNlwiIGhlaWdodD1cIjJcIiB3aWR0aD1cIjEyXCIgcnk9XCIxXCIvPjwvc3ZnPmBcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHN2ZzsiLCJpbXBvcnQgc3ZnIGZyb20gJy4vc3ZnL3N2Zyc7XG5cbmNvbnN0IGlzTWFjTGlrZSA9IC8oTWFjfGlQaG9uZXxpUG9kfGlQYWQpL2kudGVzdCh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiID8gbmF2aWdhdG9yLnBsYXRmb3JtIDogXCJcIik7XG5cbmNvbnN0IERlZmF1bHRDb21tYW5kcyA9IHtcbiAgJ2JvbGQnOiB7XG4gICAgbmFtZTogJ2JvbGQnLFxuICAgIGFjdGlvbjogJ2JvbGQnLFxuICAgIGlubmVySFRNTDogc3ZnLmJvbGQsXG4gICAgdGl0bGU6ICdCb2xkJyxcbiAgICBob3RrZXk6ICdNb2QtQicsXG4gIH0sXG4gICdpdGFsaWMnOiB7XG4gICAgbmFtZTogJ2l0YWxpYycsXG4gICAgYWN0aW9uOiAnaXRhbGljJyxcbiAgICBpbm5lckhUTUw6IHN2Zy5pdGFsaWMsXG4gICAgdGl0bGU6ICdJdGFsaWMnLFxuICAgIGhvdGtleTogJ01vZC1JJyxcbiAgfSxcbiAgJ3N0cmlrZXRocm91Z2gnOiB7XG4gICAgbmFtZTogJ3N0cmlrZXRocm91Z2gnLFxuICAgIGFjdGlvbjogJ3N0cmlrZXRocm91Z2gnLFxuICAgIGlubmVySFRNTDogc3ZnLnN0cmlrZXRocm91Z2gsXG4gICAgdGl0bGU6ICdTdHJpa2V0aHJvdWdoJyxcbiAgICBob3RrZXk6ICdNb2QyLVNoaWZ0LTUnLFxuICB9LFxuICAnY29kZSc6IHtcbiAgICBuYW1lOiAnY29kZScsXG4gICAgYWN0aW9uOiAnY29kZScsXG4gICAgaW5uZXJIVE1MOiBzdmcuY29kZSxcbiAgICB0aXRsZTogJ0Zvcm1hdCBhcyBjb2RlJyxcbiAgfSxcbiAgJ2gxJzoge1xuICAgIG5hbWU6ICdoMScsXG4gICAgYWN0aW9uOiAnaDEnLFxuICAgIGlubmVySFRNTDogc3ZnLmgxLFxuICAgIHRpdGxlOiAnTGV2ZWwgMSBoZWFkaW5nJyxcbiAgICBob3RrZXk6ICdNb2QtU2hpZnQtMScsXG4gIH0sXG4gICdoMic6IHtcbiAgICBuYW1lOiAnaDInLFxuICAgIGFjdGlvbjogJ2gyJyxcbiAgICBpbm5lckhUTUw6IHN2Zy5oMixcbiAgICB0aXRsZTogJ0xldmVsIDIgaGVhZGluZycsXG4gICAgaG90a2V5OiAnTW9kLVNoaWZ0LTInLFxuICB9LFxuICAndWwnOiB7XG4gICAgbmFtZTogJ3VsJyxcbiAgICBhY3Rpb246ICd1bCcsXG4gICAgaW5uZXJIVE1MOiBzdmcudWwsXG4gICAgdGl0bGU6ICdCdWxsZXRlZCBsaXN0JyxcbiAgfSxcbiAgJ29sJzoge1xuICAgIG5hbWU6ICdvbCcsXG4gICAgYWN0aW9uOiAnb2wnLFxuICAgIGlubmVySFRNTDogc3ZnLm9sLFxuICAgIHRpdGxlOiAnTnVtYmVyZWQgbGlzdCcsXG4gIH0sXG4gICdibG9ja3F1b3RlJzoge1xuICAgIG5hbWU6ICdibG9ja3F1b3RlJyxcbiAgICBhY3Rpb246ICdibG9ja3F1b3RlJyxcbiAgICBpbm5lckhUTUw6IHN2Zy5ibG9ja3F1b3RlLFxuICAgIHRpdGxlOiAnUXVvdGUnLFxuICAgIGhvdGtleTogJ01vZDItU2hpZnQtUScsXG4gIH0sXG4gICdpbnNlcnRMaW5rJzoge1xuICAgIG5hbWU6ICdpbnNlcnRMaW5rJyxcbiAgICBhY3Rpb246IChlZGl0b3IpID0+IHtpZiAoZWRpdG9yLmlzSW5saW5lRm9ybWF0dGluZ0FsbG93ZWQoKSkgZWRpdG9yLndyYXBTZWxlY3Rpb24oJ1snLCAnXSgpJyl9LFxuICAgIGVuYWJsZWQ6IChlZGl0b3IsIGZvY3VzLCBhbmNob3IpID0+IGVkaXRvci5pc0lubGluZUZvcm1hdHRpbmdBbGxvd2VkKGZvY3VzLCBhbmNob3IpID8gZmFsc2UgOiBudWxsLFxuICAgIGlubmVySFRNTDogc3ZnLmxpbmssXG4gICAgdGl0bGU6ICdJbnNlcnQgbGluaycsXG4gICAgaG90a2V5OiAnTW9kLUsnLFxuICB9LFxuICAnaW5zZXJ0SW1hZ2UnOiB7XG4gICAgbmFtZTogJ2luc2VydEltYWdlJyxcbiAgICBhY3Rpb246IChlZGl0b3IpID0+IHtpZiAoZWRpdG9yLmlzSW5saW5lRm9ybWF0dGluZ0FsbG93ZWQoKSkgZWRpdG9yLndyYXBTZWxlY3Rpb24oJyFbJywgJ10oKScpfSxcbiAgICBlbmFibGVkOiAoZWRpdG9yLCBmb2N1cywgYW5jaG9yKSA9PiBlZGl0b3IuaXNJbmxpbmVGb3JtYXR0aW5nQWxsb3dlZChmb2N1cywgYW5jaG9yKSA/IGZhbHNlIDogbnVsbCxcbiAgICBpbm5lckhUTUw6IHN2Zy5pbWFnZSxcbiAgICB0aXRsZTogJ0luc2VydCBpbWFnZScsXG4gICAgaG90a2V5OiAnTW9kMi1TaGlmdC1JJyxcbiAgfSxcbiAgJ2hyJzoge1xuICAgIG5hbWU6ICdocicsXG4gICAgYWN0aW9uOiAoZWRpdG9yKSA9PiBlZGl0b3IucGFzdGUoJ1xcbioqKlxcbicpLFxuICAgIGVuYWJsZWQ6ICgpID0+IGZhbHNlLFxuICAgIGlubmVySFRNTDogc3ZnLmhyLFxuICAgIHRpdGxlOiAnSW5zZXJ0IGhvcml6b250YWwgbGluZScsXG4gICAgaG90a2V5OiAnTW9kMi1TaGlmdC1MJ1xuICB9XG59XG5cblxuY2xhc3MgQ29tbWFuZEJhciB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgdGhpcy5lID0gbnVsbDtcbiAgICB0aGlzLmVkaXRvciA9IG51bGw7XG4gICAgdGhpcy5jb21tYW5kcyA9IFtdO1xuICAgIHRoaXMuYnV0dG9ucyA9IHt9O1xuICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICB0aGlzLmhvdGtleXMgPSBbXTtcblxuICAgIGxldCBlbGVtZW50ID0gcHJvcHMuZWxlbWVudDtcbiAgICBpZiAoZWxlbWVudCAmJiAhZWxlbWVudC50YWdOYW1lKSB7XG4gICAgICBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJvcHMuZWxlbWVudCk7XG4gICAgfVxuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmJvZHk7IFxuICAgIH1cbiAgICB0aGlzLmNyZWF0ZUNvbW1hbmRCYXJFbGVtZW50KGVsZW1lbnQsIHByb3BzLmNvbW1hbmRzIHx8IFsnYm9sZCcsICdpdGFsaWMnLCAnc3RyaWtldGhyb3VnaCcsICd8JywgJ2NvZGUnLCAnfCcsICdoMScsICdoMicsICd8JywgJ3VsJywgJ29sJywgJ3wnLCAnYmxvY2txdW90ZScsICdocicsICd8JywgJ2luc2VydExpbmsnLCAnaW5zZXJ0SW1hZ2UnXSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB0aGlzLmhhbmRsZUtleWRvd24oZSkpO1xuICAgIGlmIChwcm9wcy5lZGl0b3IpIHRoaXMuc2V0RWRpdG9yKHByb3BzLmVkaXRvcik7XG4gIH1cblxuICBjcmVhdGVDb21tYW5kQmFyRWxlbWVudChwYXJlbnRFbGVtZW50LCBjb21tYW5kcykge1xuICAgIHRoaXMuZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZS5jbGFzc05hbWUgPSAnVE1Db21tYW5kQmFyJztcblxuICAgIGZvciAobGV0IGNvbW1hbmQgb2YgY29tbWFuZHMpIHtcbiAgICAgIGlmIChjb21tYW5kID09ICd8Jykge1xuICAgICAgICBsZXQgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZWwuY2xhc3NOYW1lID0gJ1RNQ29tbWFuZERpdmlkZXInO1xuICAgICAgICB0aGlzLmUuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGNvbW1hbmROYW1lO1xuICAgICAgICBpZiAodHlwZW9mIGNvbW1hbmQgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIC8vIFJlZmVyZW5jZSB0byBkZWZhdWx0IGNvbW1hbmRcblxuICAgICAgICAgIGlmIChEZWZhdWx0Q29tbWFuZHNbY29tbWFuZF0pIHtcbiAgICAgICAgICAgIGNvbW1hbmROYW1lID0gY29tbWFuZDtcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZHNbY29tbWFuZE5hbWVdID0gRGVmYXVsdENvbW1hbmRzW2NvbW1hbmROYW1lXTtcblxuICAgICAgICAgICAgXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY29tbWFuZCA9PSBcIm9iamVjdFwiICYmIGNvbW1hbmQubmFtZSkge1xuICAgICAgICAgIGNvbW1hbmROYW1lID0gY29tbWFuZC5uYW1lO1xuICAgICAgICAgIHRoaXMuY29tbWFuZHNbY29tbWFuZE5hbWVdID0ge307IFxuICAgICAgICAgIGlmIChEZWZhdWx0Q29tbWFuZHNbY29tbWFuZE5hbWVdKSBPYmplY3QuYXNzaWduKHRoaXMuY29tbWFuZHNbY29tbWFuZE5hbWVdLCBEZWZhdWx0Q29tbWFuZHNbY29tbWFuZE5hbWVdKTtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuY29tbWFuZHNbY29tbWFuZE5hbWVdLCBjb21tYW5kKTtcbiAgICAgICAgXG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0aXRsZSA9IHRoaXMuY29tbWFuZHNbY29tbWFuZE5hbWVdLnRpdGxlIHx8IGNvbW1hbmROYW1lO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbW1hbmRzW2NvbW1hbmROYW1lXS5ob3RrZXkpIHtcbiAgICAgICAgICBjb25zdCBrZXlzID0gdGhpcy5jb21tYW5kc1tjb21tYW5kTmFtZV0uaG90a2V5LnNwbGl0KCctJyk7XG4gICAgICAgICAgLy8gY29uc3RydWN0IG1vZGlmaWVyc1xuICAgICAgICAgIGxldCBtb2RpZmllcnMgPSBbXTtcbiAgICAgICAgICBsZXQgbW9kaWZpZXJleHBsYW5hdGlvbiA9IFtdO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5c1tpXSkge1xuICAgICAgICAgICAgICBjYXNlICdDdHJsJzogbW9kaWZpZXJzLnB1c2goJ2N0cmxLZXknKTsgbW9kaWZpZXJleHBsYW5hdGlvbi5wdXNoKCdDdHJsJyk7IGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdDbWQnOiBtb2RpZmllcnMucHVzaCgnbWV0YUtleScpOyBtb2RpZmllcmV4cGxhbmF0aW9uLnB1c2goJ+KMmCcpOyBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnQWx0JzogbW9kaWZpZXJzLnB1c2goJ2FsdEtleScpOyBtb2RpZmllcmV4cGxhbmF0aW9uLnB1c2goJ0FsdCcpOyBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnT3B0aW9uJzogbW9kaWZpZXJzLnB1c2goJ2FsdEtleScpOyBtb2RpZmllcmV4cGxhbmF0aW9uLnB1c2goJ+KMpScpOyBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnV2luJzogbW9kaWZpZXJzLnB1c2goJ21ldGFLZXknKTsgbW9kaWZpZXJleHBsYW5hdGlvbi5wdXNoKCfiip4gV2luJyk7IGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgJ1NoaWZ0JzogIG1vZGlmaWVycy5wdXNoKCdzaGlmdEtleScpOyBtb2RpZmllcmV4cGxhbmF0aW9uLnB1c2goJ+KHpycpOyBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlICdNb2QnOiAvLyBNb2QgaXMgYSBjb252ZW5pZW5jZSBtZWNoYW5pc206IEN0cmwgb24gV2luZG93cywgQ21kIG9uIE1hY1xuICAgICAgICAgICAgICAgIGlmIChpc01hY0xpa2UpIHttb2RpZmllcnMucHVzaCgnbWV0YUtleScpOyBtb2RpZmllcmV4cGxhbmF0aW9uLnB1c2goJ+KMmCcpO30gXG4gICAgICAgICAgICAgICAgZWxzZSB7bW9kaWZpZXJzLnB1c2goJ2N0cmxLZXknKTsgbW9kaWZpZXJleHBsYW5hdGlvbi5wdXNoKCdDdHJsJyk7fSBcbiAgICAgICAgICAgICAgICBicmVhazsgXG4gICAgICAgICAgICAgIGNhc2UgJ01vZDInOiBcbiAgICAgICAgICAgICAgICBtb2RpZmllcnMucHVzaCgnYWx0S2V5Jyk7IFxuICAgICAgICAgICAgICAgIGlmIChpc01hY0xpa2UpIG1vZGlmaWVyZXhwbGFuYXRpb24ucHVzaCgn4oylJyk7XG4gICAgICAgICAgICAgICAgZWxzZSBtb2RpZmllcmV4cGxhbmF0aW9uLnB1c2goJ0FsdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBNb2QyIGlzIGEgY29udmVuaWVuY2UgbWVjaGFuaXNtOiBBbHQgb24gV2luZG93cywgT3B0aW9uIG9uIE1hY1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBtb2RpZmllcmV4cGxhbmF0aW9uLnB1c2goa2V5c1trZXlzLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICBsZXQgaG90a2V5ID0ge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBtb2RpZmllcnM6IG1vZGlmaWVycyxcbiAgICAgICAgICAgIGNvbW1hbmQ6IGNvbW1hbmROYW1lLFxuICAgICAgICAgIH07XG4gICAgICAgICAgLy8gVE9ETyBSaWdodCBub3cgdGhpcyBpcyB3b3JraW5nIG9ubHkgZm9yIGxldHRlcnMgYW5kIG51bWJlcnNcbiAgICAgICAgICBpZiAoa2V5c1trZXlzLmxlbmd0aCAtIDFdLm1hdGNoKC9eWzAtOV0kLykpIHtcbiAgICAgICAgICAgIGhvdGtleS5jb2RlID0gYERpZ2l0JHtrZXlzW2tleXMubGVuZ3RoIC0gMV19YDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaG90a2V5LmtleSA9IGtleXNba2V5cy5sZW5ndGggLSAxXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmhvdGtleXMucHVzaChob3RrZXkpO1xuICAgICAgICAgIHRpdGxlID0gdGl0bGUuY29uY2F0KGAgKCR7bW9kaWZpZXJleHBsYW5hdGlvbi5qb2luKCcrJyl9KWApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5idXR0b25zW2NvbW1hbmROYW1lXSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmJ1dHRvbnNbY29tbWFuZE5hbWVdLmNsYXNzTmFtZSA9ICdUTUNvbW1hbmRCdXR0b24gVE1Db21tYW5kQnV0dG9uX0Rpc2FibGVkJztcbiAgICAgICAgdGhpcy5idXR0b25zW2NvbW1hbmROYW1lXS50aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLmJ1dHRvbnNbY29tbWFuZE5hbWVdLmlubmVySFRNTCA9IHRoaXMuY29tbWFuZHNbY29tbWFuZE5hbWVdLmlubmVySFRNTDtcblxuICAgICAgICB0aGlzLmJ1dHRvbnNbY29tbWFuZE5hbWVdLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB0aGlzLmhhbmRsZUNsaWNrKGNvbW1hbmROYW1lLCBlKSk7XG4gICAgICAgIHRoaXMuZS5hcHBlbmRDaGlsZCh0aGlzLmJ1dHRvbnNbY29tbWFuZE5hbWVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmUpO1xuICB9XG5cbiAgaGFuZGxlQ2xpY2soY29tbWFuZE5hbWUsIGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmVkaXRvcikgcmV0dXJuO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKHR5cGVvZiB0aGlzLmNvbW1hbmRzW2NvbW1hbmROYW1lXS5hY3Rpb24gPT0gXCJzdHJpbmdcIikge1xuICAgICAgaWYgKHRoaXMuc3RhdGVbY29tbWFuZE5hbWVdID09PSBmYWxzZSkgdGhpcy5lZGl0b3Iuc2V0Q29tbWFuZFN0YXRlKGNvbW1hbmROYW1lLCB0cnVlKTtcbiAgICAgIGVsc2UgdGhpcy5lZGl0b3Iuc2V0Q29tbWFuZFN0YXRlKGNvbW1hbmROYW1lLCBmYWxzZSk7ICBcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLmNvbW1hbmRzW2NvbW1hbmROYW1lXS5hY3Rpb24gPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0aGlzLmNvbW1hbmRzW2NvbW1hbmROYW1lXS5hY3Rpb24odGhpcy5lZGl0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHNldEVkaXRvcihlZGl0b3IpIHtcbiAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgICBlZGl0b3IuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0aW9uJywgKGUpID0+IHRoaXMuaGFuZGxlU2VsZWN0aW9uKGUpKTtcbiAgfVxuXG4gIGhhbmRsZVNlbGVjdGlvbihldmVudCkge1xuICAgIGlmIChldmVudC5jb21tYW5kU3RhdGUpIHtcbiAgICAgIGZvciAobGV0IGNvbW1hbmQgaW4gdGhpcy5jb21tYW5kcykge1xuICAgICAgICBpZiAoZXZlbnQuY29tbWFuZFN0YXRlW2NvbW1hbmRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAodGhpcy5jb21tYW5kc1tjb21tYW5kXS5lbmFibGVkKSB0aGlzLnN0YXRlW2NvbW1hbmRdID0gdGhpcy5jb21tYW5kc1tjb21tYW5kXS5lbmFibGVkKHRoaXMuZWRpdG9yLCBldmVudC5mb2N1cywgZXZlbnQuYW5jaG9yKTtcbiAgICAgICAgICBlbHNlIHRoaXMuc3RhdGVbY29tbWFuZF0gPSBldmVudC5mb2N1cyA/IGZhbHNlIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnN0YXRlW2NvbW1hbmRdID0gZXZlbnQuY29tbWFuZFN0YXRlW2NvbW1hbmRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhdGVbY29tbWFuZF0gPT09IHRydWUpIHtcbiAgICAgICAgICB0aGlzLmJ1dHRvbnNbY29tbWFuZF0uY2xhc3NOYW1lID0gJ1RNQ29tbWFuZEJ1dHRvbiBUTUNvbW1hbmRCdXR0b25fQWN0aXZlJztcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlW2NvbW1hbmRdID09PSBmYWxzZSkge1xuICAgICAgICAgIHRoaXMuYnV0dG9uc1tjb21tYW5kXS5jbGFzc05hbWUgPSAnVE1Db21tYW5kQnV0dG9uIFRNQ29tbWFuZEJ1dHRvbl9JbmFjdGl2ZSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5idXR0b25zW2NvbW1hbmRdLmNsYXNzTmFtZSA9ICAnVE1Db21tYW5kQnV0dG9uIFRNQ29tbWFuZEJ1dHRvbl9EaXNhYmxlZCc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYW5kbGVLZXlkb3duKGV2ZW50KSB7XG4gICAgb3V0ZXI6IGZvciAobGV0IGhvdGtleSBvZiB0aGlzLmhvdGtleXMpIHtcbiAgICAgIGlmICgoaG90a2V5LmtleSAmJiBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PSBob3RrZXkua2V5KSB8fCAoaG90a2V5LmNvZGUgJiYgZXZlbnQuY29kZSA9PSBob3RrZXkuY29kZSkpIHtcbiAgICAgICAgLy8gS2V5IG1hdGNoZXMgaG90a2V5LiBMb29rIGZvciBhbnkgcmVxdWlyZWQgbW9kaWZpZXIgdGhhdCB3YXNuJ3QgcHJlc3NlZFxuICAgICAgICBmb3IgKGxldCBtb2RpZmllciBvZiBob3RrZXkubW9kaWZpZXJzKSB7XG4gICAgICAgICAgaWYgKCFldmVudFttb2RpZmllcl0pIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICB9XG4gICAgICAgIC8vIEV2ZXJ5dGhpbmcgbWF0Y2hlcy5cbiAgICAgICAgdGhpcy5oYW5kbGVDbGljayhob3RrZXkuY29tbWFuZCwgZXZlbnQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbW1hbmRCYXI7IiwiJ3VzZSBzdHJpY3QnO1xudmFyIGNoZWNrID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCAmJiBpdC5NYXRoID09PSBNYXRoICYmIGl0O1xufTtcblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcbm1vZHVsZS5leHBvcnRzID1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLWdsb2JhbC10aGlzIC0tIHNhZmVcbiAgY2hlY2sodHlwZW9mIGdsb2JhbFRoaXMgPT0gJ29iamVjdCcgJiYgZ2xvYmFsVGhpcykgfHxcbiAgY2hlY2sodHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cpIHx8XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgLS0gc2FmZVxuICBjaGVjayh0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmKSB8fFxuICBjaGVjayh0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCkgfHxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jIC0tIGZhbGxiYWNrXG4gIChmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSgpIHx8IHRoaXMgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcblxuLy8gRGV0ZWN0IElFOCdzIGluY29tcGxldGUgZGVmaW5lUHJvcGVydHkgaW1wbGVtZW50YXRpb25cbm1vZHVsZS5leHBvcnRzID0gIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAxLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KVsxXSAhPT0gNztcbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLWZ1bmN0aW9uLXByb3RvdHlwZS1iaW5kIC0tIHNhZmVcbiAgdmFyIHRlc3QgPSAoZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9KS5iaW5kKCk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnMgLS0gc2FmZVxuICByZXR1cm4gdHlwZW9mIHRlc3QgIT0gJ2Z1bmN0aW9uJyB8fCB0ZXN0Lmhhc093blByb3BlcnR5KCdwcm90b3R5cGUnKTtcbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIE5BVElWRV9CSU5EID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtbmF0aXZlJyk7XG5cbnZhciBGdW5jdGlvblByb3RvdHlwZSA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbnZhciBjYWxsID0gRnVuY3Rpb25Qcm90b3R5cGUuY2FsbDtcbnZhciB1bmN1cnJ5VGhpc1dpdGhCaW5kID0gTkFUSVZFX0JJTkQgJiYgRnVuY3Rpb25Qcm90b3R5cGUuYmluZC5iaW5kKGNhbGwsIGNhbGwpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE5BVElWRV9CSU5EID8gdW5jdXJyeVRoaXNXaXRoQmluZCA6IGZ1bmN0aW9uIChmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjYWxsLmFwcGx5KGZuLCBhcmd1bWVudHMpO1xuICB9O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBkb2N1bWVudEFsbCA9IHR5cGVvZiBkb2N1bWVudCA9PSAnb2JqZWN0JyAmJiBkb2N1bWVudC5hbGw7XG5cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtSXNIVE1MRERBLWludGVybmFsLXNsb3Rcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB1bmljb3JuL25vLXR5cGVvZi11bmRlZmluZWQgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbnZhciBJU19IVE1MRERBID0gdHlwZW9mIGRvY3VtZW50QWxsID09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50QWxsICE9PSB1bmRlZmluZWQ7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBhbGw6IGRvY3VtZW50QWxsLFxuICBJU19IVE1MRERBOiBJU19IVE1MRERBXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICRkb2N1bWVudEFsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kb2N1bWVudC1hbGwnKTtcblxudmFyIGRvY3VtZW50QWxsID0gJGRvY3VtZW50QWxsLmFsbDtcblxuLy8gYElzQ2FsbGFibGVgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1pc2NhbGxhYmxlXG5tb2R1bGUuZXhwb3J0cyA9ICRkb2N1bWVudEFsbC5JU19IVE1MRERBID8gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHJldHVybiB0eXBlb2YgYXJndW1lbnQgPT0gJ2Z1bmN0aW9uJyB8fCBhcmd1bWVudCA9PT0gZG9jdW1lbnRBbGw7XG59IDogZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHJldHVybiB0eXBlb2YgYXJndW1lbnQgPT0gJ2Z1bmN0aW9uJztcbn07XG4iLCIndXNlIHN0cmljdCc7XG4vLyB3ZSBjYW4ndCB1c2UganVzdCBgaXQgPT0gbnVsbGAgc2luY2Ugb2YgYGRvY3VtZW50LmFsbGAgc3BlY2lhbCBjYXNlXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLUlzSFRNTEREQS1pbnRlcm5hbC1zbG90LWFlY1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ID09PSBudWxsIHx8IGl0ID09PSB1bmRlZmluZWQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGlzTnVsbE9yVW5kZWZpbmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW51bGwtb3ItdW5kZWZpbmVkJyk7XG5cbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG4vLyBgUmVxdWlyZU9iamVjdENvZXJjaWJsZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXJlcXVpcmVvYmplY3Rjb2VyY2libGVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChpc051bGxPclVuZGVmaW5lZChpdCkpIHRocm93IG5ldyAkVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gXCIgKyBpdCk7XG4gIHJldHVybiBpdDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZXF1aXJlLW9iamVjdC1jb2VyY2libGUnKTtcblxudmFyICRPYmplY3QgPSBPYmplY3Q7XG5cbi8vIGBUb09iamVjdGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvb2JqZWN0XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICByZXR1cm4gJE9iamVjdChyZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLW9iamVjdCcpO1xuXG52YXIgaGFzT3duUHJvcGVydHkgPSB1bmN1cnJ5VGhpcyh7fS5oYXNPd25Qcm9wZXJ0eSk7XG5cbi8vIGBIYXNPd25Qcm9wZXJ0eWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWhhc293bnByb3BlcnR5XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWhhc293biAtLSBzYWZlXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5oYXNPd24gfHwgZnVuY3Rpb24gaGFzT3duKGl0LCBrZXkpIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5KHRvT2JqZWN0KGl0KSwga2V5KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xuXG52YXIgRnVuY3Rpb25Qcm90b3R5cGUgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5ZGVzY3JpcHRvciAtLSBzYWZlXG52YXIgZ2V0RGVzY3JpcHRvciA9IERFU0NSSVBUT1JTICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbnZhciBFWElTVFMgPSBoYXNPd24oRnVuY3Rpb25Qcm90b3R5cGUsICduYW1lJyk7XG4vLyBhZGRpdGlvbmFsIHByb3RlY3Rpb24gZnJvbSBtaW5pZmllZCAvIG1hbmdsZWQgLyBkcm9wcGVkIGZ1bmN0aW9uIG5hbWVzXG52YXIgUFJPUEVSID0gRVhJU1RTICYmIChmdW5jdGlvbiBzb21ldGhpbmcoKSB7IC8qIGVtcHR5ICovIH0pLm5hbWUgPT09ICdzb21ldGhpbmcnO1xudmFyIENPTkZJR1VSQUJMRSA9IEVYSVNUUyAmJiAoIURFU0NSSVBUT1JTIHx8IChERVNDUklQVE9SUyAmJiBnZXREZXNjcmlwdG9yKEZ1bmN0aW9uUHJvdG90eXBlLCAnbmFtZScpLmNvbmZpZ3VyYWJsZSkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgRVhJU1RTOiBFWElTVFMsXG4gIFBST1BFUjogUFJPUEVSLFxuICBDT05GSUdVUkFCTEU6IENPTkZJR1VSQUJMRVxufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gc2FmZVxudmFyIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHRyeSB7XG4gICAgZGVmaW5lUHJvcGVydHkoZ2xvYmFsLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGdsb2JhbFtrZXldID0gdmFsdWU7XG4gIH0gcmV0dXJuIHZhbHVlO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgZGVmaW5lR2xvYmFsUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWdsb2JhbC1wcm9wZXJ0eScpO1xuXG52YXIgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXyc7XG52YXIgc3RvcmUgPSBnbG9iYWxbU0hBUkVEXSB8fCBkZWZpbmVHbG9iYWxQcm9wZXJ0eShTSEFSRUQsIHt9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBzdG9yZTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgc3RvcmUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2hhcmVkLXN0b3JlJyk7XG5cbnZhciBmdW5jdGlvblRvU3RyaW5nID0gdW5jdXJyeVRoaXMoRnVuY3Rpb24udG9TdHJpbmcpO1xuXG4vLyB0aGlzIGhlbHBlciBicm9rZW4gaW4gYGNvcmUtanNAMy40LjEtMy40LjRgLCBzbyB3ZSBjYW4ndCB1c2UgYHNoYXJlZGAgaGVscGVyXG5pZiAoIWlzQ2FsbGFibGUoc3RvcmUuaW5zcGVjdFNvdXJjZSkpIHtcbiAgc3RvcmUuaW5zcGVjdFNvdXJjZSA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBmdW5jdGlvblRvU3RyaW5nKGl0KTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdG9yZS5pbnNwZWN0U291cmNlO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG5cbnZhciBXZWFrTWFwID0gZ2xvYmFsLldlYWtNYXA7XG5cbm1vZHVsZS5leHBvcnRzID0gaXNDYWxsYWJsZShXZWFrTWFwKSAmJiAvbmF0aXZlIGNvZGUvLnRlc3QoU3RyaW5nKFdlYWtNYXApKTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgJGRvY3VtZW50QWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RvY3VtZW50LWFsbCcpO1xuXG52YXIgZG9jdW1lbnRBbGwgPSAkZG9jdW1lbnRBbGwuYWxsO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICRkb2N1bWVudEFsbC5JU19IVE1MRERBID8gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IGlzQ2FsbGFibGUoaXQpIHx8IGl0ID09PSBkb2N1bWVudEFsbDtcbn0gOiBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogaXNDYWxsYWJsZShpdCk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTtcblxudmFyIGRvY3VtZW50ID0gZ2xvYmFsLmRvY3VtZW50O1xuLy8gdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCcgaW4gb2xkIElFXG52YXIgRVhJU1RTID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gRVhJU1RTID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGNyZWF0ZUVsZW1lbnQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZG9jdW1lbnQtY3JlYXRlLWVsZW1lbnQnKTtcblxuLy8gVGhhbmtzIHRvIElFOCBmb3IgaXRzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5tb2R1bGUuZXhwb3J0cyA9ICFERVNDUklQVE9SUyAmJiAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3JlYXRlRWxlbWVudCgnZGl2JyksICdhJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfVxuICB9KS5hICE9PSA3O1xufSk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xuXG4vLyBWOCB+IENocm9tZSAzNi1cbi8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMzMzRcbm1vZHVsZS5leHBvcnRzID0gREVTQ1JJUFRPUlMgJiYgZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9LCAncHJvdG90eXBlJywge1xuICAgIHZhbHVlOiA0MixcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSkucHJvdG90eXBlICE9PSA0Mjtcbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xuXG52YXIgJFN0cmluZyA9IFN0cmluZztcbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG4vLyBgQXNzZXJ0OiBUeXBlKGFyZ3VtZW50KSBpcyBPYmplY3RgXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICBpZiAoaXNPYmplY3QoYXJndW1lbnQpKSByZXR1cm4gYXJndW1lbnQ7XG4gIHRocm93IG5ldyAkVHlwZUVycm9yKCRTdHJpbmcoYXJndW1lbnQpICsgJyBpcyBub3QgYW4gb2JqZWN0Jyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIE5BVElWRV9CSU5EID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtbmF0aXZlJyk7XG5cbnZhciBjYWxsID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGw7XG5cbm1vZHVsZS5leHBvcnRzID0gTkFUSVZFX0JJTkQgPyBjYWxsLmJpbmQoY2FsbCkgOiBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBjYWxsLmFwcGx5KGNhbGwsIGFyZ3VtZW50cyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG5cbnZhciBhRnVuY3Rpb24gPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgcmV0dXJuIGlzQ2FsbGFibGUoYXJndW1lbnQpID8gYXJndW1lbnQgOiB1bmRlZmluZWQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuYW1lc3BhY2UsIG1ldGhvZCkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA8IDIgPyBhRnVuY3Rpb24oZ2xvYmFsW25hbWVzcGFjZV0pIDogZ2xvYmFsW25hbWVzcGFjZV0gJiYgZ2xvYmFsW25hbWVzcGFjZV1bbWV0aG9kXTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gdW5jdXJyeVRoaXMoe30uaXNQcm90b3R5cGVPZik7XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gJ3VuZGVmaW5lZCcgJiYgU3RyaW5nKG5hdmlnYXRvci51c2VyQWdlbnQpIHx8ICcnO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciB1c2VyQWdlbnQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLXVzZXItYWdlbnQnKTtcblxudmFyIHByb2Nlc3MgPSBnbG9iYWwucHJvY2VzcztcbnZhciBEZW5vID0gZ2xvYmFsLkRlbm87XG52YXIgdmVyc2lvbnMgPSBwcm9jZXNzICYmIHByb2Nlc3MudmVyc2lvbnMgfHwgRGVubyAmJiBEZW5vLnZlcnNpb247XG52YXIgdjggPSB2ZXJzaW9ucyAmJiB2ZXJzaW9ucy52ODtcbnZhciBtYXRjaCwgdmVyc2lvbjtcblxuaWYgKHY4KSB7XG4gIG1hdGNoID0gdjguc3BsaXQoJy4nKTtcbiAgLy8gaW4gb2xkIENocm9tZSwgdmVyc2lvbnMgb2YgVjggaXNuJ3QgVjggPSBDaHJvbWUgLyAxMFxuICAvLyBidXQgdGhlaXIgY29ycmVjdCB2ZXJzaW9ucyBhcmUgbm90IGludGVyZXN0aW5nIGZvciB1c1xuICB2ZXJzaW9uID0gbWF0Y2hbMF0gPiAwICYmIG1hdGNoWzBdIDwgNCA/IDEgOiArKG1hdGNoWzBdICsgbWF0Y2hbMV0pO1xufVxuXG4vLyBCcm93c2VyRlMgTm9kZUpTIGBwcm9jZXNzYCBwb2x5ZmlsbCBpbmNvcnJlY3RseSBzZXQgYC52OGAgdG8gYDAuMGBcbi8vIHNvIGNoZWNrIGB1c2VyQWdlbnRgIGV2ZW4gaWYgYC52OGAgZXhpc3RzLCBidXQgMFxuaWYgKCF2ZXJzaW9uICYmIHVzZXJBZ2VudCkge1xuICBtYXRjaCA9IHVzZXJBZ2VudC5tYXRjaCgvRWRnZVxcLyhcXGQrKS8pO1xuICBpZiAoIW1hdGNoIHx8IG1hdGNoWzFdID49IDc0KSB7XG4gICAgbWF0Y2ggPSB1c2VyQWdlbnQubWF0Y2goL0Nocm9tZVxcLyhcXGQrKS8pO1xuICAgIGlmIChtYXRjaCkgdmVyc2lvbiA9ICttYXRjaFsxXTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHZlcnNpb247XG4iLCIndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBlcy9uby1zeW1ib2wgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmcgKi9cbnZhciBWOF9WRVJTSU9OID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS12OC12ZXJzaW9uJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG5cbnZhciAkU3RyaW5nID0gZ2xvYmFsLlN0cmluZztcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eXN5bWJvbHMgLS0gcmVxdWlyZWQgZm9yIHRlc3Rpbmdcbm1vZHVsZS5leHBvcnRzID0gISFPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzICYmICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciBzeW1ib2wgPSBTeW1ib2woJ3N5bWJvbCBkZXRlY3Rpb24nKTtcbiAgLy8gQ2hyb21lIDM4IFN5bWJvbCBoYXMgaW5jb3JyZWN0IHRvU3RyaW5nIGNvbnZlcnNpb25cbiAgLy8gYGdldC1vd24tcHJvcGVydHktc3ltYm9sc2AgcG9seWZpbGwgc3ltYm9scyBjb252ZXJ0ZWQgdG8gb2JqZWN0IGFyZSBub3QgU3ltYm9sIGluc3RhbmNlc1xuICAvLyBuYjogRG8gbm90IGNhbGwgYFN0cmluZ2AgZGlyZWN0bHkgdG8gYXZvaWQgdGhpcyBiZWluZyBvcHRpbWl6ZWQgb3V0IHRvIGBzeW1ib2wrJydgIHdoaWNoIHdpbGwsXG4gIC8vIG9mIGNvdXJzZSwgZmFpbC5cbiAgcmV0dXJuICEkU3RyaW5nKHN5bWJvbCkgfHwgIShPYmplY3Qoc3ltYm9sKSBpbnN0YW5jZW9mIFN5bWJvbCkgfHxcbiAgICAvLyBDaHJvbWUgMzgtNDAgc3ltYm9scyBhcmUgbm90IGluaGVyaXRlZCBmcm9tIERPTSBjb2xsZWN0aW9ucyBwcm90b3R5cGVzIHRvIGluc3RhbmNlc1xuICAgICFTeW1ib2wuc2hhbSAmJiBWOF9WRVJTSU9OICYmIFY4X1ZFUlNJT04gPCA0MTtcbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGUgZXMvbm8tc3ltYm9sIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nICovXG52YXIgTkFUSVZFX1NZTUJPTCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zeW1ib2wtY29uc3RydWN0b3ItZGV0ZWN0aW9uJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gTkFUSVZFX1NZTUJPTFxuICAmJiAhU3ltYm9sLnNoYW1cbiAgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PSAnc3ltYm9sJztcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBnZXRCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1idWlsdC1pbicpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBpc1Byb3RvdHlwZU9mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1pcy1wcm90b3R5cGUtb2YnKTtcbnZhciBVU0VfU1lNQk9MX0FTX1VJRCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy91c2Utc3ltYm9sLWFzLXVpZCcpO1xuXG52YXIgJE9iamVjdCA9IE9iamVjdDtcblxubW9kdWxlLmV4cG9ydHMgPSBVU0VfU1lNQk9MX0FTX1VJRCA/IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnO1xufSA6IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgJFN5bWJvbCA9IGdldEJ1aWx0SW4oJ1N5bWJvbCcpO1xuICByZXR1cm4gaXNDYWxsYWJsZSgkU3ltYm9sKSAmJiBpc1Byb3RvdHlwZU9mKCRTeW1ib2wucHJvdG90eXBlLCAkT2JqZWN0KGl0KSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICRTdHJpbmcgPSBTdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICRTdHJpbmcoYXJndW1lbnQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiAnT2JqZWN0JztcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgdHJ5VG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdHJ5LXRvLXN0cmluZycpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxuLy8gYEFzc2VydDogSXNDYWxsYWJsZShhcmd1bWVudCkgaXMgdHJ1ZWBcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIGlmIChpc0NhbGxhYmxlKGFyZ3VtZW50KSkgcmV0dXJuIGFyZ3VtZW50O1xuICB0aHJvdyBuZXcgJFR5cGVFcnJvcih0cnlUb1N0cmluZyhhcmd1bWVudCkgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLWNhbGxhYmxlJyk7XG52YXIgaXNOdWxsT3JVbmRlZmluZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtbnVsbC1vci11bmRlZmluZWQnKTtcblxuLy8gYEdldE1ldGhvZGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWdldG1ldGhvZFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoViwgUCkge1xuICB2YXIgZnVuYyA9IFZbUF07XG4gIHJldHVybiBpc051bGxPclVuZGVmaW5lZChmdW5jKSA/IHVuZGVmaW5lZCA6IGFDYWxsYWJsZShmdW5jKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxuLy8gYE9yZGluYXJ5VG9QcmltaXRpdmVgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vcmRpbmFyeXRvcHJpbWl0aXZlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbnB1dCwgcHJlZikge1xuICB2YXIgZm4sIHZhbDtcbiAgaWYgKHByZWYgPT09ICdzdHJpbmcnICYmIGlzQ2FsbGFibGUoZm4gPSBpbnB1dC50b1N0cmluZykgJiYgIWlzT2JqZWN0KHZhbCA9IGNhbGwoZm4sIGlucHV0KSkpIHJldHVybiB2YWw7XG4gIGlmIChpc0NhbGxhYmxlKGZuID0gaW5wdXQudmFsdWVPZikgJiYgIWlzT2JqZWN0KHZhbCA9IGNhbGwoZm4sIGlucHV0KSkpIHJldHVybiB2YWw7XG4gIGlmIChwcmVmICE9PSAnc3RyaW5nJyAmJiBpc0NhbGxhYmxlKGZuID0gaW5wdXQudG9TdHJpbmcpICYmICFpc09iamVjdCh2YWwgPSBjYWxsKGZuLCBpbnB1dCkpKSByZXR1cm4gdmFsO1xuICB0aHJvdyBuZXcgJFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgSVNfUFVSRSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1wdXJlJyk7XG52YXIgc3RvcmUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2hhcmVkLXN0b3JlJyk7XG5cbihtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoge30pO1xufSkoJ3ZlcnNpb25zJywgW10pLnB1c2goe1xuICB2ZXJzaW9uOiAnMy4zMy4wJyxcbiAgbW9kZTogSVNfUFVSRSA/ICdwdXJlJyA6ICdnbG9iYWwnLFxuICBjb3B5cmlnaHQ6ICfCqSAyMDE0LTIwMjMgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSknLFxuICBsaWNlbnNlOiAnaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvYmxvYi92My4zMy4wL0xJQ0VOU0UnLFxuICBzb3VyY2U6ICdodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcydcbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xuXG52YXIgaWQgPSAwO1xudmFyIHBvc3RmaXggPSBNYXRoLnJhbmRvbSgpO1xudmFyIHRvU3RyaW5nID0gdW5jdXJyeVRoaXMoMS4wLnRvU3RyaW5nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiAnU3ltYm9sKCcgKyAoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSkgKyAnKV8nICsgdG9TdHJpbmcoKytpZCArIHBvc3RmaXgsIDM2KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQnKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIHVpZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy91aWQnKTtcbnZhciBOQVRJVkVfU1lNQk9MID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3N5bWJvbC1jb25zdHJ1Y3Rvci1kZXRlY3Rpb24nKTtcbnZhciBVU0VfU1lNQk9MX0FTX1VJRCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy91c2Utc3ltYm9sLWFzLXVpZCcpO1xuXG52YXIgU3ltYm9sID0gZ2xvYmFsLlN5bWJvbDtcbnZhciBXZWxsS25vd25TeW1ib2xzU3RvcmUgPSBzaGFyZWQoJ3drcycpO1xudmFyIGNyZWF0ZVdlbGxLbm93blN5bWJvbCA9IFVTRV9TWU1CT0xfQVNfVUlEID8gU3ltYm9sWydmb3InXSB8fCBTeW1ib2wgOiBTeW1ib2wgJiYgU3ltYm9sLndpdGhvdXRTZXR0ZXIgfHwgdWlkO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIGlmICghaGFzT3duKFdlbGxLbm93blN5bWJvbHNTdG9yZSwgbmFtZSkpIHtcbiAgICBXZWxsS25vd25TeW1ib2xzU3RvcmVbbmFtZV0gPSBOQVRJVkVfU1lNQk9MICYmIGhhc093bihTeW1ib2wsIG5hbWUpXG4gICAgICA/IFN5bWJvbFtuYW1lXVxuICAgICAgOiBjcmVhdGVXZWxsS25vd25TeW1ib2woJ1N5bWJvbC4nICsgbmFtZSk7XG4gIH0gcmV0dXJuIFdlbGxLbm93blN5bWJvbHNTdG9yZVtuYW1lXTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG52YXIgaXNTeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtc3ltYm9sJyk7XG52YXIgZ2V0TWV0aG9kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1tZXRob2QnKTtcbnZhciBvcmRpbmFyeVRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29yZGluYXJ5LXRvLXByaW1pdGl2ZScpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcbnZhciBUT19QUklNSVRJVkUgPSB3ZWxsS25vd25TeW1ib2woJ3RvUHJpbWl0aXZlJyk7XG5cbi8vIGBUb1ByaW1pdGl2ZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvcHJpbWl0aXZlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbnB1dCwgcHJlZikge1xuICBpZiAoIWlzT2JqZWN0KGlucHV0KSB8fCBpc1N5bWJvbChpbnB1dCkpIHJldHVybiBpbnB1dDtcbiAgdmFyIGV4b3RpY1RvUHJpbSA9IGdldE1ldGhvZChpbnB1dCwgVE9fUFJJTUlUSVZFKTtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKGV4b3RpY1RvUHJpbSkge1xuICAgIGlmIChwcmVmID09PSB1bmRlZmluZWQpIHByZWYgPSAnZGVmYXVsdCc7XG4gICAgcmVzdWx0ID0gY2FsbChleG90aWNUb1ByaW0sIGlucHV0LCBwcmVmKTtcbiAgICBpZiAoIWlzT2JqZWN0KHJlc3VsdCkgfHwgaXNTeW1ib2wocmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcbiAgICB0aHJvdyBuZXcgJFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbiAgfVxuICBpZiAocHJlZiA9PT0gdW5kZWZpbmVkKSBwcmVmID0gJ251bWJlcic7XG4gIHJldHVybiBvcmRpbmFyeVRvUHJpbWl0aXZlKGlucHV0LCBwcmVmKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tcHJpbWl0aXZlJyk7XG52YXIgaXNTeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtc3ltYm9sJyk7XG5cbi8vIGBUb1Byb3BlcnR5S2V5YCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtdG9wcm9wZXJ0eWtleVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgdmFyIGtleSA9IHRvUHJpbWl0aXZlKGFyZ3VtZW50LCAnc3RyaW5nJyk7XG4gIHJldHVybiBpc1N5bWJvbChrZXkpID8ga2V5IDoga2V5ICsgJyc7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaWU4LWRvbS1kZWZpbmUnKTtcbnZhciBWOF9QUk9UT1RZUEVfREVGSU5FX0JVRyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy92OC1wcm90b3R5cGUtZGVmaW5lLWJ1ZycpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIHRvUHJvcGVydHlLZXkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tcHJvcGVydHkta2V5Jyk7XG5cbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSBzYWZlXG52YXIgJGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxudmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIEVOVU1FUkFCTEUgPSAnZW51bWVyYWJsZSc7XG52YXIgQ09ORklHVVJBQkxFID0gJ2NvbmZpZ3VyYWJsZSc7XG52YXIgV1JJVEFCTEUgPSAnd3JpdGFibGUnO1xuXG4vLyBgT2JqZWN0LmRlZmluZVByb3BlcnR5YCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmRlZmluZXByb3BlcnR5XG5leHBvcnRzLmYgPSBERVNDUklQVE9SUyA/IFY4X1BST1RPVFlQRV9ERUZJTkVfQlVHID8gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcykge1xuICBhbk9iamVjdChPKTtcbiAgUCA9IHRvUHJvcGVydHlLZXkoUCk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZiAodHlwZW9mIE8gPT09ICdmdW5jdGlvbicgJiYgUCA9PT0gJ3Byb3RvdHlwZScgJiYgJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzICYmIFdSSVRBQkxFIGluIEF0dHJpYnV0ZXMgJiYgIUF0dHJpYnV0ZXNbV1JJVEFCTEVdKSB7XG4gICAgdmFyIGN1cnJlbnQgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApO1xuICAgIGlmIChjdXJyZW50ICYmIGN1cnJlbnRbV1JJVEFCTEVdKSB7XG4gICAgICBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgICAgIEF0dHJpYnV0ZXMgPSB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogQ09ORklHVVJBQkxFIGluIEF0dHJpYnV0ZXMgPyBBdHRyaWJ1dGVzW0NPTkZJR1VSQUJMRV0gOiBjdXJyZW50W0NPTkZJR1VSQUJMRV0sXG4gICAgICAgIGVudW1lcmFibGU6IEVOVU1FUkFCTEUgaW4gQXR0cmlidXRlcyA/IEF0dHJpYnV0ZXNbRU5VTUVSQUJMRV0gOiBjdXJyZW50W0VOVU1FUkFCTEVdLFxuICAgICAgICB3cml0YWJsZTogZmFsc2VcbiAgICAgIH07XG4gICAgfVxuICB9IHJldHVybiAkZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyk7XG59IDogJGRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcykge1xuICBhbk9iamVjdChPKTtcbiAgUCA9IHRvUHJvcGVydHlLZXkoUCk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZiAoSUU4X0RPTV9ERUZJTkUpIHRyeSB7XG4gICAgcmV0dXJuICRkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyBuZXcgJFR5cGVFcnJvcignQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgaWYgKCd2YWx1ZScgaW4gQXR0cmlidXRlcykgT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gIHJldHVybiBPO1xufTtcbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGJpdG1hcCwgdmFsdWUpIHtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlOiAhKGJpdG1hcCAmIDEpLFxuICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICB3cml0YWJsZTogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZTogdmFsdWVcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5Jyk7XG52YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eS1kZXNjcmlwdG9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gREVTQ1JJUFRPUlMgPyBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mKG9iamVjdCwga2V5LCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdWlkJyk7XG5cbnZhciBrZXlzID0gc2hhcmVkKCdrZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4ga2V5c1trZXldIHx8IChrZXlzW2tleV0gPSB1aWQoa2V5KSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIE5BVElWRV9XRUFLX01BUCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWFrLW1hcC1iYXNpYy1kZXRlY3Rpb24nKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1ub24tZW51bWVyYWJsZS1wcm9wZXJ0eScpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgc2hhcmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZC1zdG9yZScpO1xudmFyIHNoYXJlZEtleSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQta2V5Jyk7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oaWRkZW4ta2V5cycpO1xuXG52YXIgT0JKRUNUX0FMUkVBRFlfSU5JVElBTElaRUQgPSAnT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWQnO1xudmFyIFR5cGVFcnJvciA9IGdsb2JhbC5UeXBlRXJyb3I7XG52YXIgV2Vha01hcCA9IGdsb2JhbC5XZWFrTWFwO1xudmFyIHNldCwgZ2V0LCBoYXM7XG5cbnZhciBlbmZvcmNlID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBoYXMoaXQpID8gZ2V0KGl0KSA6IHNldChpdCwge30pO1xufTtcblxudmFyIGdldHRlckZvciA9IGZ1bmN0aW9uIChUWVBFKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoaXQpIHtcbiAgICB2YXIgc3RhdGU7XG4gICAgaWYgKCFpc09iamVjdChpdCkgfHwgKHN0YXRlID0gZ2V0KGl0KSkudHlwZSAhPT0gVFlQRSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW5jb21wYXRpYmxlIHJlY2VpdmVyLCAnICsgVFlQRSArICcgcmVxdWlyZWQnKTtcbiAgICB9IHJldHVybiBzdGF0ZTtcbiAgfTtcbn07XG5cbmlmIChOQVRJVkVfV0VBS19NQVAgfHwgc2hhcmVkLnN0YXRlKSB7XG4gIHZhciBzdG9yZSA9IHNoYXJlZC5zdGF0ZSB8fCAoc2hhcmVkLnN0YXRlID0gbmV3IFdlYWtNYXAoKSk7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLXNlbGYtYXNzaWduIC0tIHByb3RvdHlwZSBtZXRob2RzIHByb3RlY3Rpb24gKi9cbiAgc3RvcmUuZ2V0ID0gc3RvcmUuZ2V0O1xuICBzdG9yZS5oYXMgPSBzdG9yZS5oYXM7XG4gIHN0b3JlLnNldCA9IHN0b3JlLnNldDtcbiAgLyogZXNsaW50LWVuYWJsZSBuby1zZWxmLWFzc2lnbiAtLSBwcm90b3R5cGUgbWV0aG9kcyBwcm90ZWN0aW9uICovXG4gIHNldCA9IGZ1bmN0aW9uIChpdCwgbWV0YWRhdGEpIHtcbiAgICBpZiAoc3RvcmUuaGFzKGl0KSkgdGhyb3cgbmV3IFR5cGVFcnJvcihPQkpFQ1RfQUxSRUFEWV9JTklUSUFMSVpFRCk7XG4gICAgbWV0YWRhdGEuZmFjYWRlID0gaXQ7XG4gICAgc3RvcmUuc2V0KGl0LCBtZXRhZGF0YSk7XG4gICAgcmV0dXJuIG1ldGFkYXRhO1xuICB9O1xuICBnZXQgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gc3RvcmUuZ2V0KGl0KSB8fCB7fTtcbiAgfTtcbiAgaGFzID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIHN0b3JlLmhhcyhpdCk7XG4gIH07XG59IGVsc2Uge1xuICB2YXIgU1RBVEUgPSBzaGFyZWRLZXkoJ3N0YXRlJyk7XG4gIGhpZGRlbktleXNbU1RBVEVdID0gdHJ1ZTtcbiAgc2V0ID0gZnVuY3Rpb24gKGl0LCBtZXRhZGF0YSkge1xuICAgIGlmIChoYXNPd24oaXQsIFNUQVRFKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihPQkpFQ1RfQUxSRUFEWV9JTklUSUFMSVpFRCk7XG4gICAgbWV0YWRhdGEuZmFjYWRlID0gaXQ7XG4gICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KGl0LCBTVEFURSwgbWV0YWRhdGEpO1xuICAgIHJldHVybiBtZXRhZGF0YTtcbiAgfTtcbiAgZ2V0ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIGhhc093bihpdCwgU1RBVEUpID8gaXRbU1RBVEVdIDoge307XG4gIH07XG4gIGhhcyA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBoYXNPd24oaXQsIFNUQVRFKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogc2V0LFxuICBnZXQ6IGdldCxcbiAgaGFzOiBoYXMsXG4gIGVuZm9yY2U6IGVuZm9yY2UsXG4gIGdldHRlckZvcjogZ2V0dGVyRm9yXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBDT05GSUdVUkFCTEVfRlVOQ1RJT05fTkFNRSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1uYW1lJykuQ09ORklHVVJBQkxFO1xudmFyIGluc3BlY3RTb3VyY2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW5zcGVjdC1zb3VyY2UnKTtcbnZhciBJbnRlcm5hbFN0YXRlTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ludGVybmFsLXN0YXRlJyk7XG5cbnZhciBlbmZvcmNlSW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZW5mb3JjZTtcbnZhciBnZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5nZXQ7XG52YXIgJFN0cmluZyA9IFN0cmluZztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gc2FmZVxudmFyIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIHN0cmluZ1NsaWNlID0gdW5jdXJyeVRoaXMoJycuc2xpY2UpO1xudmFyIHJlcGxhY2UgPSB1bmN1cnJ5VGhpcygnJy5yZXBsYWNlKTtcbnZhciBqb2luID0gdW5jdXJyeVRoaXMoW10uam9pbik7XG5cbnZhciBDT05GSUdVUkFCTEVfTEVOR1RIID0gREVTQ1JJUFRPUlMgJiYgIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSwgJ2xlbmd0aCcsIHsgdmFsdWU6IDggfSkubGVuZ3RoICE9PSA4O1xufSk7XG5cbnZhciBURU1QTEFURSA9IFN0cmluZyhTdHJpbmcpLnNwbGl0KCdTdHJpbmcnKTtcblxudmFyIG1ha2VCdWlsdEluID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsdWUsIG5hbWUsIG9wdGlvbnMpIHtcbiAgaWYgKHN0cmluZ1NsaWNlKCRTdHJpbmcobmFtZSksIDAsIDcpID09PSAnU3ltYm9sKCcpIHtcbiAgICBuYW1lID0gJ1snICsgcmVwbGFjZSgkU3RyaW5nKG5hbWUpLCAvXlN5bWJvbFxcKChbXildKilcXCkvLCAnJDEnKSArICddJztcbiAgfVxuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmdldHRlcikgbmFtZSA9ICdnZXQgJyArIG5hbWU7XG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMuc2V0dGVyKSBuYW1lID0gJ3NldCAnICsgbmFtZTtcbiAgaWYgKCFoYXNPd24odmFsdWUsICduYW1lJykgfHwgKENPTkZJR1VSQUJMRV9GVU5DVElPTl9OQU1FICYmIHZhbHVlLm5hbWUgIT09IG5hbWUpKSB7XG4gICAgaWYgKERFU0NSSVBUT1JTKSBkZWZpbmVQcm9wZXJ0eSh2YWx1ZSwgJ25hbWUnLCB7IHZhbHVlOiBuYW1lLCBjb25maWd1cmFibGU6IHRydWUgfSk7XG4gICAgZWxzZSB2YWx1ZS5uYW1lID0gbmFtZTtcbiAgfVxuICBpZiAoQ09ORklHVVJBQkxFX0xFTkdUSCAmJiBvcHRpb25zICYmIGhhc093bihvcHRpb25zLCAnYXJpdHknKSAmJiB2YWx1ZS5sZW5ndGggIT09IG9wdGlvbnMuYXJpdHkpIHtcbiAgICBkZWZpbmVQcm9wZXJ0eSh2YWx1ZSwgJ2xlbmd0aCcsIHsgdmFsdWU6IG9wdGlvbnMuYXJpdHkgfSk7XG4gIH1cbiAgdHJ5IHtcbiAgICBpZiAob3B0aW9ucyAmJiBoYXNPd24ob3B0aW9ucywgJ2NvbnN0cnVjdG9yJykgJiYgb3B0aW9ucy5jb25zdHJ1Y3Rvcikge1xuICAgICAgaWYgKERFU0NSSVBUT1JTKSBkZWZpbmVQcm9wZXJ0eSh2YWx1ZSwgJ3Byb3RvdHlwZScsIHsgd3JpdGFibGU6IGZhbHNlIH0pO1xuICAgIC8vIGluIFY4IH4gQ2hyb21lIDUzLCBwcm90b3R5cGVzIG9mIHNvbWUgbWV0aG9kcywgbGlrZSBgQXJyYXkucHJvdG90eXBlLnZhbHVlc2AsIGFyZSBub24td3JpdGFibGVcbiAgICB9IGVsc2UgaWYgKHZhbHVlLnByb3RvdHlwZSkgdmFsdWUucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gIHZhciBzdGF0ZSA9IGVuZm9yY2VJbnRlcm5hbFN0YXRlKHZhbHVlKTtcbiAgaWYgKCFoYXNPd24oc3RhdGUsICdzb3VyY2UnKSkge1xuICAgIHN0YXRlLnNvdXJjZSA9IGpvaW4oVEVNUExBVEUsIHR5cGVvZiBuYW1lID09ICdzdHJpbmcnID8gbmFtZSA6ICcnKTtcbiAgfSByZXR1cm4gdmFsdWU7XG59O1xuXG4vLyBhZGQgZmFrZSBGdW5jdGlvbiN0b1N0cmluZyBmb3IgY29ycmVjdCB3b3JrIHdyYXBwZWQgbWV0aG9kcyAvIGNvbnN0cnVjdG9ycyB3aXRoIG1ldGhvZHMgbGlrZSBMb0Rhc2ggaXNOYXRpdmVcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1leHRlbmQtbmF0aXZlIC0tIHJlcXVpcmVkXG5GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBtYWtlQnVpbHRJbihmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuIGlzQ2FsbGFibGUodGhpcykgJiYgZ2V0SW50ZXJuYWxTdGF0ZSh0aGlzKS5zb3VyY2UgfHwgaW5zcGVjdFNvdXJjZSh0aGlzKTtcbn0sICd0b1N0cmluZycpO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIG1ha2VCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL21ha2UtYnVpbHQtaW4nKTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHRhcmdldCwgbmFtZSwgZGVzY3JpcHRvcikge1xuICBpZiAoZGVzY3JpcHRvci5nZXQpIG1ha2VCdWlsdEluKGRlc2NyaXB0b3IuZ2V0LCBuYW1lLCB7IGdldHRlcjogdHJ1ZSB9KTtcbiAgaWYgKGRlc2NyaXB0b3Iuc2V0KSBtYWtlQnVpbHRJbihkZXNjcmlwdG9yLnNldCwgbmFtZSwgeyBzZXR0ZXI6IHRydWUgfSk7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eS5mKHRhcmdldCwgbmFtZSwgZGVzY3JpcHRvcik7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xuXG4vLyBgUmVnRXhwLnByb3RvdHlwZS5mbGFnc2AgZ2V0dGVyIGltcGxlbWVudGF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWdldC1yZWdleHAucHJvdG90eXBlLmZsYWdzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHRoYXQgPSBhbk9iamVjdCh0aGlzKTtcbiAgdmFyIHJlc3VsdCA9ICcnO1xuICBpZiAodGhhdC5oYXNJbmRpY2VzKSByZXN1bHQgKz0gJ2QnO1xuICBpZiAodGhhdC5nbG9iYWwpIHJlc3VsdCArPSAnZyc7XG4gIGlmICh0aGF0Lmlnbm9yZUNhc2UpIHJlc3VsdCArPSAnaSc7XG4gIGlmICh0aGF0Lm11bHRpbGluZSkgcmVzdWx0ICs9ICdtJztcbiAgaWYgKHRoYXQuZG90QWxsKSByZXN1bHQgKz0gJ3MnO1xuICBpZiAodGhhdC51bmljb2RlKSByZXN1bHQgKz0gJ3UnO1xuICBpZiAodGhhdC51bmljb2RlU2V0cykgcmVzdWx0ICs9ICd2JztcbiAgaWYgKHRoYXQuc3RpY2t5KSByZXN1bHQgKz0gJ3knO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBkZWZpbmVCdWlsdEluQWNjZXNzb3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluLWFjY2Vzc29yJyk7XG52YXIgcmVnRXhwRmxhZ3MgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVnZXhwLWZsYWdzJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcblxuLy8gYmFiZWwtbWluaWZ5IGFuZCBDbG9zdXJlIENvbXBpbGVyIHRyYW5zcGlsZXMgUmVnRXhwKCcuJywgJ2QnKSAtPiAvLi9kIGFuZCBpdCBjYXVzZXMgU3ludGF4RXJyb3JcbnZhciBSZWdFeHAgPSBnbG9iYWwuUmVnRXhwO1xudmFyIFJlZ0V4cFByb3RvdHlwZSA9IFJlZ0V4cC5wcm90b3R5cGU7XG5cbnZhciBGT1JDRUQgPSBERVNDUklQVE9SUyAmJiBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciBJTkRJQ0VTX1NVUFBPUlQgPSB0cnVlO1xuICB0cnkge1xuICAgIFJlZ0V4cCgnLicsICdkJyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgSU5ESUNFU19TVVBQT1JUID0gZmFsc2U7XG4gIH1cblxuICB2YXIgTyA9IHt9O1xuICAvLyBtb2Rlcm4gVjggYnVnXG4gIHZhciBjYWxscyA9ICcnO1xuICB2YXIgZXhwZWN0ZWQgPSBJTkRJQ0VTX1NVUFBPUlQgPyAnZGdpbXN5JyA6ICdnaW1zeSc7XG5cbiAgdmFyIGFkZEdldHRlciA9IGZ1bmN0aW9uIChrZXksIGNocikge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gc2FmZVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBrZXksIHsgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxscyArPSBjaHI7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IH0pO1xuICB9O1xuXG4gIHZhciBwYWlycyA9IHtcbiAgICBkb3RBbGw6ICdzJyxcbiAgICBnbG9iYWw6ICdnJyxcbiAgICBpZ25vcmVDYXNlOiAnaScsXG4gICAgbXVsdGlsaW5lOiAnbScsXG4gICAgc3RpY2t5OiAneSdcbiAgfTtcblxuICBpZiAoSU5ESUNFU19TVVBQT1JUKSBwYWlycy5oYXNJbmRpY2VzID0gJ2QnO1xuXG4gIGZvciAodmFyIGtleSBpbiBwYWlycykgYWRkR2V0dGVyKGtleSwgcGFpcnNba2V5XSk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxuICB2YXIgcmVzdWx0ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihSZWdFeHBQcm90b3R5cGUsICdmbGFncycpLmdldC5jYWxsKE8pO1xuXG4gIHJldHVybiByZXN1bHQgIT09IGV4cGVjdGVkIHx8IGNhbGxzICE9PSBleHBlY3RlZDtcbn0pO1xuXG4vLyBgUmVnRXhwLnByb3RvdHlwZS5mbGFnc2AgZ2V0dGVyXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWdldC1yZWdleHAucHJvdG90eXBlLmZsYWdzXG5pZiAoRk9SQ0VEKSBkZWZpbmVCdWlsdEluQWNjZXNzb3IoUmVnRXhwUHJvdG90eXBlLCAnZmxhZ3MnLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZ2V0OiByZWdFeHBGbGFnc1xufSk7XG4iLCIvLyBjb25zdCByZXBsYWNlbWVudHMgPSB7XG4vLyAgIEFTQ0lJUHVuY3R1YXRpb246ICchXCIjJCUmXFwnKCkqKyxcXFxcLS4vOjs8PT4/QFxcXFxbXFxcXF1eX2B7fH1+Jyxcbi8vICAgVHJpZ2dlckNoYXJzOiAnYF9cXCpcXFtcXF1cXChcXCknLFxuLy8gICBTY2hlbWU6IGBbQS1aYS16XVtBLVphLXowLTlcXCtcXC5cXC1dezEsMzF9YCxcbi8vICAgRW1haWw6IGBbYS16QS1aMC05LiEjJCUmJyorLz0/Xl9cXGB7fH1+LV0rQFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcXFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSpgLCAvLyBGcm9tIENvbW1vbk1hcmsgc3BlY1xuXG4vLyB9XG5jb25zdCByZXBsYWNlbWVudHMgPSB7XG4gIEFTQ0lJUHVuY3R1YXRpb246IC9bIVwiIyQlJicoKSorLFxcLS4vOjs8PT4/QFtcXF1eX2B7fH1+XFxcXF0vLCAgXG4gIE5vdFRyaWdnZXJDaGFyOiAvW15gXypbXFxdKCk8PiF+XS8sXG4gIFNjaGVtZTogL1tBLVphLXpdW0EtWmEtejAtOSsuLV17MSwzMX0vLFxuICBFbWFpbDogL1thLXpBLVowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rQFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykqLywgLy8gRnJvbSBDb21tb25NYXJrIHNwZWNcbiAgSFRNTE9wZW5UYWc6IC88SFRNTFRhZ05hbWUoPzpIVE1MQXR0cmlidXRlKSpcXHMqXFwvPz4vLFxuICBIVE1MQ2xvc2VUYWc6IC88XFwvSFRNTFRhZ05hbWVcXHMqPi8sXG4gIEhUTUxUYWdOYW1lOiAvW0EtWmEtel1bQS1aYS16MC05LV0qLywgXG4gIEhUTUxDb21tZW50OiAvPCEtLSg/OltePi1dfCg/OltePi1dKD86W14tXXwtW14tXSkqW14tXSkpLS0+LyxcbiAgSFRNTFBJOiAvPFxcPyg/OnwufCg/OlteP118XFw/W14+XSkqKVxcPz4vLFxuICBIVE1MRGVjbGFyYXRpb246IC88IVtBLVpdK1xcc1tePl0qPi8sXG4gIEhUTUxDREFUQTogLzwhXFxbQ0RBVEFcXFsuKj9cXF1cXF0+LyxcbiAgSFRNTEF0dHJpYnV0ZTogL1xccytbQS1aYS16XzpdW0EtWmEtejAtOV8uOi1dKig/OkhUTUxBdHRWYWx1ZSk/LyxcbiAgSFRNTEF0dFZhbHVlOiAvXFxzKj1cXHMqKD86KD86J1teJ10qJyl8KD86XCJbXlwiXSpcIil8KD86W15cXHNcIic9PD5gXSspKS8sXG4gIEtub3duVGFnOiAvYWRkcmVzc3xhcnRpY2xlfGFzaWRlfGJhc2V8YmFzZWZvbnR8YmxvY2txdW90ZXxib2R5fGNhcHRpb258Y2VudGVyfGNvbHxjb2xncm91cHxkZHxkZXRhaWxzfGRpYWxvZ3xkaXJ8ZGl2fGRsfGR0fGZpZWxkc2V0fGZpZ2NhcHRpb258ZmlndXJlfGZvb3Rlcnxmb3JtfGZyYW1lfGZyYW1lc2V0fGgxfGgyfGgzfGg0fGg1fGg2fGhlYWR8aGVhZGVyfGhyfGh0bWx8aWZyYW1lfGxlZ2VuZHxsaXxsaW5rfG1haW58bWVudXxtZW51aXRlbXxuYXZ8bm9mcmFtZXN8b2x8b3B0Z3JvdXB8b3B0aW9ufHB8cGFyYW18c2VjdGlvbnxzb3VyY2V8c3VtbWFyeXx0YWJsZXx0Ym9keXx0ZHx0Zm9vdHx0aHx0aGVhZHx0aXRsZXx0cnx0cmFja3x1bC9cbn1cblxuLy8gRnJvbSBDb21tb25NYXJrLmpzLiBcbmNvbnN0IHB1bmN0dWF0aW9uTGVhZGluZyA9IG5ldyBSZWdFeHAoL14oPzpbIVwiIyQlJicoKSorLFxcLS4vOjs8PT4/QFtcXF1cXFxcXl9ge3x9flxceEExXFx4QTdcXHhBQlxceEI2XFx4QjdcXHhCQlxceEJGXFx1MDM3RVxcdTAzODdcXHUwNTVBLVxcdTA1NUZcXHUwNTg5XFx1MDU4QVxcdTA1QkVcXHUwNUMwXFx1MDVDM1xcdTA1QzZcXHUwNUYzXFx1MDVGNFxcdTA2MDlcXHUwNjBBXFx1MDYwQ1xcdTA2MERcXHUwNjFCXFx1MDYxRVxcdTA2MUZcXHUwNjZBLVxcdTA2NkRcXHUwNkQ0XFx1MDcwMC1cXHUwNzBEXFx1MDdGNy1cXHUwN0Y5XFx1MDgzMC1cXHUwODNFXFx1MDg1RVxcdTA5NjRcXHUwOTY1XFx1MDk3MFxcdTBBRjBcXHUwREY0XFx1MEU0RlxcdTBFNUFcXHUwRTVCXFx1MEYwNC1cXHUwRjEyXFx1MEYxNFxcdTBGM0EtXFx1MEYzRFxcdTBGODVcXHUwRkQwLVxcdTBGRDRcXHUwRkQ5XFx1MEZEQVxcdTEwNEEtXFx1MTA0RlxcdTEwRkJcXHUxMzYwLVxcdTEzNjhcXHUxNDAwXFx1MTY2RFxcdTE2NkVcXHUxNjlCXFx1MTY5Q1xcdTE2RUItXFx1MTZFRFxcdTE3MzVcXHUxNzM2XFx1MTdENC1cXHUxN0Q2XFx1MTdEOC1cXHUxN0RBXFx1MTgwMC1cXHUxODBBXFx1MTk0NFxcdTE5NDVcXHUxQTFFXFx1MUExRlxcdTFBQTAtXFx1MUFBNlxcdTFBQTgtXFx1MUFBRFxcdTFCNUEtXFx1MUI2MFxcdTFCRkMtXFx1MUJGRlxcdTFDM0ItXFx1MUMzRlxcdTFDN0VcXHUxQzdGXFx1MUNDMC1cXHUxQ0M3XFx1MUNEM1xcdTIwMTAtXFx1MjAyN1xcdTIwMzAtXFx1MjA0M1xcdTIwNDUtXFx1MjA1MVxcdTIwNTMtXFx1MjA1RVxcdTIwN0RcXHUyMDdFXFx1MjA4RFxcdTIwOEVcXHUyMzA4LVxcdTIzMEJcXHUyMzI5XFx1MjMyQVxcdTI3NjgtXFx1Mjc3NVxcdTI3QzVcXHUyN0M2XFx1MjdFNi1cXHUyN0VGXFx1Mjk4My1cXHUyOTk4XFx1MjlEOC1cXHUyOURCXFx1MjlGQ1xcdTI5RkRcXHUyQ0Y5LVxcdTJDRkNcXHUyQ0ZFXFx1MkNGRlxcdTJENzBcXHUyRTAwLVxcdTJFMkVcXHUyRTMwLVxcdTJFNDJcXHUzMDAxLVxcdTMwMDNcXHUzMDA4LVxcdTMwMTFcXHUzMDE0LVxcdTMwMUZcXHUzMDMwXFx1MzAzRFxcdTMwQTBcXHUzMEZCXFx1QTRGRVxcdUE0RkZcXHVBNjBELVxcdUE2MEZcXHVBNjczXFx1QTY3RVxcdUE2RjItXFx1QTZGN1xcdUE4NzQtXFx1QTg3N1xcdUE4Q0VcXHVBOENGXFx1QThGOC1cXHVBOEZBXFx1QThGQ1xcdUE5MkVcXHVBOTJGXFx1QTk1RlxcdUE5QzEtXFx1QTlDRFxcdUE5REVcXHVBOURGXFx1QUE1Qy1cXHVBQTVGXFx1QUFERVxcdUFBREZcXHVBQUYwXFx1QUFGMVxcdUFCRUJcXHVGRDNFXFx1RkQzRlxcdUZFMTAtXFx1RkUxOVxcdUZFMzAtXFx1RkU1MlxcdUZFNTQtXFx1RkU2MVxcdUZFNjNcXHVGRTY4XFx1RkU2QVxcdUZFNkJcXHVGRjAxLVxcdUZGMDNcXHVGRjA1LVxcdUZGMEFcXHVGRjBDLVxcdUZGMEZcXHVGRjFBXFx1RkYxQlxcdUZGMUZcXHVGRjIwXFx1RkYzQi1cXHVGRjNEXFx1RkYzRlxcdUZGNUJcXHVGRjVEXFx1RkY1Ri1cXHVGRjY1XXxcXHVEODAwW1xcdUREMDAtXFx1REQwMlxcdURGOUZcXHVERkQwXXxcXHVEODAxXFx1REQ2RnxcXHVEODAyW1xcdURDNTdcXHVERDFGXFx1REQzRlxcdURFNTAtXFx1REU1OFxcdURFN0ZcXHVERUYwLVxcdURFRjZcXHVERjM5LVxcdURGM0ZcXHVERjk5LVxcdURGOUNdfFxcdUQ4MDRbXFx1REM0Ny1cXHVEQzREXFx1RENCQlxcdURDQkNcXHVEQ0JFLVxcdURDQzFcXHVERDQwLVxcdURENDNcXHVERDc0XFx1REQ3NVxcdUREQzUtXFx1RERDOVxcdUREQ0RcXHVERERCXFx1RERERC1cXHVERERGXFx1REUzOC1cXHVERTNEXFx1REVBOV18XFx1RDgwNVtcXHVEQ0M2XFx1RERDMS1cXHVEREQ3XFx1REU0MS1cXHVERTQzXFx1REYzQy1cXHVERjNFXXxcXHVEODA5W1xcdURDNzAtXFx1REM3NF18XFx1RDgxQVtcXHVERTZFXFx1REU2RlxcdURFRjVcXHVERjM3LVxcdURGM0JcXHVERjQ0XXxcXHVEODJGXFx1REM5RnxcXHVEODM2W1xcdURFODctXFx1REU4Ql0pLyk7XG5cbmNvbnN0IHB1bmN0dWF0aW9uVHJhaWxpbmcgPSBuZXcgUmVnRXhwKC8oPzpbIVwiIyQlJicoKSorLFxcLS4vOjs8PT4/QFtcXF1cXFxcXl9ge3x9flxceEExXFx4QTdcXHhBQlxceEI2XFx4QjdcXHhCQlxceEJGXFx1MDM3RVxcdTAzODdcXHUwNTVBLVxcdTA1NUZcXHUwNTg5XFx1MDU4QVxcdTA1QkVcXHUwNUMwXFx1MDVDM1xcdTA1QzZcXHUwNUYzXFx1MDVGNFxcdTA2MDlcXHUwNjBBXFx1MDYwQ1xcdTA2MERcXHUwNjFCXFx1MDYxRVxcdTA2MUZcXHUwNjZBLVxcdTA2NkRcXHUwNkQ0XFx1MDcwMC1cXHUwNzBEXFx1MDdGNy1cXHUwN0Y5XFx1MDgzMC1cXHUwODNFXFx1MDg1RVxcdTA5NjRcXHUwOTY1XFx1MDk3MFxcdTBBRjBcXHUwREY0XFx1MEU0RlxcdTBFNUFcXHUwRTVCXFx1MEYwNC1cXHUwRjEyXFx1MEYxNFxcdTBGM0EtXFx1MEYzRFxcdTBGODVcXHUwRkQwLVxcdTBGRDRcXHUwRkQ5XFx1MEZEQVxcdTEwNEEtXFx1MTA0RlxcdTEwRkJcXHUxMzYwLVxcdTEzNjhcXHUxNDAwXFx1MTY2RFxcdTE2NkVcXHUxNjlCXFx1MTY5Q1xcdTE2RUItXFx1MTZFRFxcdTE3MzVcXHUxNzM2XFx1MTdENC1cXHUxN0Q2XFx1MTdEOC1cXHUxN0RBXFx1MTgwMC1cXHUxODBBXFx1MTk0NFxcdTE5NDVcXHUxQTFFXFx1MUExRlxcdTFBQTAtXFx1MUFBNlxcdTFBQTgtXFx1MUFBRFxcdTFCNUEtXFx1MUI2MFxcdTFCRkMtXFx1MUJGRlxcdTFDM0ItXFx1MUMzRlxcdTFDN0VcXHUxQzdGXFx1MUNDMC1cXHUxQ0M3XFx1MUNEM1xcdTIwMTAtXFx1MjAyN1xcdTIwMzAtXFx1MjA0M1xcdTIwNDUtXFx1MjA1MVxcdTIwNTMtXFx1MjA1RVxcdTIwN0RcXHUyMDdFXFx1MjA4RFxcdTIwOEVcXHUyMzA4LVxcdTIzMEJcXHUyMzI5XFx1MjMyQVxcdTI3NjgtXFx1Mjc3NVxcdTI3QzVcXHUyN0M2XFx1MjdFNi1cXHUyN0VGXFx1Mjk4My1cXHUyOTk4XFx1MjlEOC1cXHUyOURCXFx1MjlGQ1xcdTI5RkRcXHUyQ0Y5LVxcdTJDRkNcXHUyQ0ZFXFx1MkNGRlxcdTJENzBcXHUyRTAwLVxcdTJFMkVcXHUyRTMwLVxcdTJFNDJcXHUzMDAxLVxcdTMwMDNcXHUzMDA4LVxcdTMwMTFcXHUzMDE0LVxcdTMwMUZcXHUzMDMwXFx1MzAzRFxcdTMwQTBcXHUzMEZCXFx1QTRGRVxcdUE0RkZcXHVBNjBELVxcdUE2MEZcXHVBNjczXFx1QTY3RVxcdUE2RjItXFx1QTZGN1xcdUE4NzQtXFx1QTg3N1xcdUE4Q0VcXHVBOENGXFx1QThGOC1cXHVBOEZBXFx1QThGQ1xcdUE5MkVcXHVBOTJGXFx1QTk1RlxcdUE5QzEtXFx1QTlDRFxcdUE5REVcXHVBOURGXFx1QUE1Qy1cXHVBQTVGXFx1QUFERVxcdUFBREZcXHVBQUYwXFx1QUFGMVxcdUFCRUJcXHVGRDNFXFx1RkQzRlxcdUZFMTAtXFx1RkUxOVxcdUZFMzAtXFx1RkU1MlxcdUZFNTQtXFx1RkU2MVxcdUZFNjNcXHVGRTY4XFx1RkU2QVxcdUZFNkJcXHVGRjAxLVxcdUZGMDNcXHVGRjA1LVxcdUZGMEFcXHVGRjBDLVxcdUZGMEZcXHVGRjFBXFx1RkYxQlxcdUZGMUZcXHVGRjIwXFx1RkYzQi1cXHVGRjNEXFx1RkYzRlxcdUZGNUJcXHVGRjVEXFx1RkY1Ri1cXHVGRjY1XXxcXHVEODAwW1xcdUREMDAtXFx1REQwMlxcdURGOUZcXHVERkQwXXxcXHVEODAxXFx1REQ2RnxcXHVEODAyW1xcdURDNTdcXHVERDFGXFx1REQzRlxcdURFNTAtXFx1REU1OFxcdURFN0ZcXHVERUYwLVxcdURFRjZcXHVERjM5LVxcdURGM0ZcXHVERjk5LVxcdURGOUNdfFxcdUQ4MDRbXFx1REM0Ny1cXHVEQzREXFx1RENCQlxcdURDQkNcXHVEQ0JFLVxcdURDQzFcXHVERDQwLVxcdURENDNcXHVERDc0XFx1REQ3NVxcdUREQzUtXFx1RERDOVxcdUREQ0RcXHVERERCXFx1RERERC1cXHVERERGXFx1REUzOC1cXHVERTNEXFx1REVBOV18XFx1RDgwNVtcXHVEQ0M2XFx1RERDMS1cXHVEREQ3XFx1REU0MS1cXHVERTQzXFx1REYzQy1cXHVERjNFXXxcXHVEODA5W1xcdURDNzAtXFx1REM3NF18XFx1RDgxQVtcXHVERTZFXFx1REU2RlxcdURFRjVcXHVERjM3LVxcdURGM0JcXHVERjQ0XXxcXHVEODJGXFx1REM5RnxcXHVEODM2W1xcdURFODctXFx1REU4Ql0pJC8pO1xuXG4vLyBleHBvcnQgY29uc3QgaW5saW5lVHJpZ2dlckNoYXJzID0gbmV3IFJlZ0V4cChgWyR7cmVwbGFjZW1lbnRzLlRyaWdnZXJDaGFyc31dYCk7XG5cbi8qKlxuICogVGhpcyBpcyBDb21tb25NYXJrJ3MgYmxvY2sgZ3JhbW1hciwgYnV0IHdlJ3JlIGlnbm9yaW5nIG5lc3RlZCBibG9ja3MgaGVyZS4gIFxuICovIFxuY29uc3QgbGluZUdyYW1tYXIgPSB7IFxuICBUTUgxOiB7IFxuICAgIHJlZ2V4cDogL14oIHswLDN9I1xccykoLio/KSgoPzpcXHMrIytcXHMqKT8pJC8sIFxuICAgIHJlcGxhY2VtZW50OiAnPHNwYW4gY2xhc3M9XCJUTU1hcmsgVE1NYXJrX1RNSDFcIj4kMTwvc3Bhbj4kJDI8c3BhbiBjbGFzcz1cIlRNTWFyayBUTU1hcmtfVE1IMVwiPiQzPC9zcGFuPidcbiAgfSxcbiAgVE1IMjogeyBcbiAgICByZWdleHA6IC9eKCB7MCwzfSMjXFxzKSguKj8pKCg/OlxccysjK1xccyopPykkLywgXG4gICAgcmVwbGFjZW1lbnQ6ICc8c3BhbiBjbGFzcz1cIlRNTWFyayBUTU1hcmtfVE1IMlwiPiQxPC9zcGFuPiQkMjxzcGFuIGNsYXNzPVwiVE1NYXJrIFRNTWFya19UTUgyXCI+JDM8L3NwYW4+J1xuICB9LFxuICBUTUgzOiB7IFxuICAgIHJlZ2V4cDogL14oIHswLDN9IyMjXFxzKSguKj8pKCg/OlxccysjK1xccyopPykkLywgXG4gICAgcmVwbGFjZW1lbnQ6ICc8c3BhbiBjbGFzcz1cIlRNTWFyayBUTU1hcmtfVE1IM1wiPiQxPC9zcGFuPiQkMjxzcGFuIGNsYXNzPVwiVE1NYXJrIFRNTWFya19UTUgzXCI+JDM8L3NwYW4+J1xuICB9LFxuICBUTUg0OiB7IFxuICAgIHJlZ2V4cDogL14oIHswLDN9IyMjI1xccykoLio/KSgoPzpcXHMrIytcXHMqKT8pJC8sIFxuICAgIHJlcGxhY2VtZW50OiAnPHNwYW4gY2xhc3M9XCJUTU1hcmsgVE1NYXJrX1RNSDRcIj4kMTwvc3Bhbj4kJDI8c3BhbiBjbGFzcz1cIlRNTWFyayBUTU1hcmtfVE1INFwiPiQzPC9zcGFuPidcbiAgfSxcbiAgVE1INTogeyBcbiAgICByZWdleHA6IC9eKCB7MCwzfSMjIyMjXFxzKSguKj8pKCg/OlxccysjK1xccyopPykkLywgXG4gICAgcmVwbGFjZW1lbnQ6ICc8c3BhbiBjbGFzcz1cIlRNTWFyayBUTU1hcmtfVE1INVwiPiQxPC9zcGFuPiQkMjxzcGFuIGNsYXNzPVwiVE1NYXJrIFRNTWFya19UTUg1XCI+JDM8L3NwYW4+J1xuICB9LFxuICBUTUg2OiB7IFxuICAgIHJlZ2V4cDogL14oIHswLDN9IyMjIyMjXFxzKSguKj8pKCg/OlxccysjK1xccyopPykkLywgXG4gICAgcmVwbGFjZW1lbnQ6ICc8c3BhbiBjbGFzcz1cIlRNTWFyayBUTU1hcmtfVE1INlwiPiQxPC9zcGFuPiQkMjxzcGFuIGNsYXNzPVwiVE1NYXJrIFRNTWFya19UTUg2XCI+JDM8L3NwYW4+J1xuICB9LFxuICBUTUJsb2NrcXVvdGU6IHsgXG4gICAgcmVnZXhwOiAvXiggezAsM30+WyBdPykoLiopJC8sIFxuICAgIHJlcGxhY2VtZW50OiAnPHNwYW4gY2xhc3M9XCJUTU1hcmsgVE1NYXJrX1RNQmxvY2txdW90ZVwiPiQxPC9zcGFuPiQkMidcbiAgfSxcbiAgVE1Db2RlRmVuY2VCYWNrdGlja09wZW46IHsgXG4gICAgcmVnZXhwOiAvXiggezAsM30oPzxzZXE+YGBgYCopXFxzKikoW15gXSo/KShcXHMqKSQvLCBcbiAgICByZXBsYWNlbWVudDogJzxzcGFuIGNsYXNzPVwiVE1NYXJrIFRNTWFya19UTUNvZGVGZW5jZUJhY2t0aWNrXCI+JDE8L3NwYW4+PHNwYW4gY2xhc3M9XCJUTUluZm9TdHJpbmdcIj4kMzwvc3Bhbj4kNCdcbiAgfSxcbiAgVE1Db2RlRmVuY2VUaWxkZU9wZW46IHsgXG4gICAgcmVnZXhwOiAvXiggezAsM30oPzxzZXE+fn5+fiopXFxzKikoLio/KShcXHMqKSQvLCBcbiAgICByZXBsYWNlbWVudDogJzxzcGFuIGNsYXNzPVwiVE1NYXJrIFRNTWFya19UTUNvZGVGZW5jZVRpbGRlXCI+JDE8L3NwYW4+PHNwYW4gY2xhc3M9XCJUTUluZm9TdHJpbmdcIj4kMzwvc3Bhbj4kNCdcbiAgfSxcbiAgVE1Db2RlRmVuY2VCYWNrdGlja0Nsb3NlOiB7IFxuICAgIHJlZ2V4cDogL14oIHswLDN9KD88c2VxPmBgYGAqKSkoXFxzKikkLywgXG4gICAgcmVwbGFjZW1lbnQ6ICc8c3BhbiBjbGFzcz1cIlRNTWFyayBUTU1hcmtfVE1Db2RlRmVuY2VCYWNrdGlja1wiPiQxPC9zcGFuPiQzJ1xuICB9LFxuICBUTUNvZGVGZW5jZVRpbGRlQ2xvc2U6IHsgXG4gICAgcmVnZXhwOiAvXiggezAsM30oPzxzZXE+fn5+fiopKShcXHMqKSQvLCBcbiAgICByZXBsYWNlbWVudDogJzxzcGFuIGNsYXNzPVwiVE1NYXJrIFRNTWFya19UTUNvZGVGZW5jZVRpbGRlXCI+JDE8L3NwYW4+JDMnXG4gIH0sXG4gIFRNQmxhbmtMaW5lOiB7IFxuICAgIHJlZ2V4cDogL14oWyBcXHRdKikkLywgXG4gICAgcmVwbGFjZW1lbnQ6ICckMCdcbiAgfSxcbiAgVE1TZXRleHRIMU1hcmtlcjogeyBcbiAgICByZWdleHA6IC9eIHswLDN9PStcXHMqJC8sIFxuICAgIHJlcGxhY2VtZW50OiAnPHNwYW4gY2xhc3M9XCJUTU1hcmsgVE1NYXJrX1RNU2V0ZXh0SDFNYXJrZXJcIj4kMDwvc3Bhbj4nXG4gIH0sXG4gIFRNU2V0ZXh0SDJNYXJrZXI6IHsgXG4gICAgcmVnZXhwOiAvXiB7MCwzfS0rXFxzKiQvLCBcbiAgICByZXBsYWNlbWVudDogJzxzcGFuIGNsYXNzPVwiVE1NYXJrIFRNTWFya19UTVNldGV4dEgxTWFya2VyXCI+JDA8L3NwYW4+J1xuICB9LFxuICBUTUhSOiB7IFxuICAgIHJlZ2V4cDogL14oIHswLDN9KFxcKlsgXFx0XSpcXCpbIFxcdF0qXFwqWyBcXHQqXSopfCgtWyBcXHRdKi1bIFxcdF0qLVsgXFx0LV0qKXwoX1sgXFx0XSpfWyBcXHRdKl9bIFxcdF9dKikpJC8sIFxuICAgIHJlcGxhY2VtZW50OiAnPHNwYW4gY2xhc3M9XCJUTU1hcmsgVE1NYXJrX1RNSFJcIj4kMDwvc3Bhbj4nXG4gIH0sXG4gIFRNVUw6IHsgXG4gICAgcmVnZXhwOiAvXiggezAsM31bKyotXSB7MSw0fSkoLiopJC8sIFxuICAgIHJlcGxhY2VtZW50OiAnPHNwYW4gY2xhc3M9XCJUTU1hcmsgVE1NYXJrX1RNVUxcIj4kMTwvc3Bhbj4kJDInXG4gIH0sXG4gIFRNT0w6IHsgXG4gICAgcmVnZXhwOiAvXiggezAsM31cXGR7MSw5fVsuKV0gezEsNH0pKC4qKSQvLCBcbiAgICByZXBsYWNlbWVudDogJzxzcGFuIGNsYXNzPVwiVE1NYXJrIFRNTWFya19UTU9MXCI+JDE8L3NwYW4+JCQyJ1xuICB9LFxuICAvLyBUT0RPOiBUaGlzIGlzIGN1cnJlbnRseSBwcmV2ZW50aW5nIHN1Ymxpc3RzIChhbmQgYW55IGNvbnRlbnQgd2l0aGluIGxpc3QgaXRlbXMsIHJlYWxseSkgZnJvbSB3b3JraW5nXG4gIFRNSW5kZW50ZWRDb2RlOiB7IFxuICAgIHJlZ2V4cDogL14oIHs0fXxcXHQpKC4qKSQvLCBcbiAgICByZXBsYWNlbWVudDogJzxzcGFuIGNsYXNzPVwiVE1NYXJrIFRNTWFya19UTUluZGVudGVkQ29kZVwiPiQxPC9zcGFuPiQyJ1xuICB9LFxuICBUTUxpbmtSZWZlcmVuY2VEZWZpbml0aW9uOiB7XG4gICAgLy8gVE9ETzogTGluayBkZXN0aW5hdGlvbiBjYW4ndCBpbmNsdWRlIHVuYmFsYW5jZWQgcGFyYW50aGVzZXMsIGJ1dCB3ZSBqdXN0IGlnbm9yZSB0aGF0IGhlcmUgXG4gICAgcmVnZXhwOiAvXiggezAsM31cXFtcXHMqKShbXlxcc1xcXV0oPzpbXlxcXV18XFxcXFxcXSkqPykoXFxzKlxcXTpcXHMqKSgoPzpbXlxcczw+XSspfCg/OjwoPzpbXjw+XFxcXF18XFxcXC4pKj4pKT8oXFxzKikoKD86XFwoKD86W14oKVxcXFxdfFxcXFwuKSpcXCkpfCg/OlwiKD86W15cIlxcXFxdfFxcXFwuKSpcIil8KD86Jyg/OlteJ1xcXFxdfFxcXFwuKSonKSk/KFxccyopJC8sIFxuICAgIHJlcGxhY2VtZW50OiAnPHNwYW4gY2xhc3M9XCJUTU1hcmsgVE1NYXJrX1RNTGlua1JlZmVyZW5jZURlZmluaXRpb25cIj4kMTwvc3Bhbj48c3BhbiBjbGFzcz1cIlRNTGlua0xhYmVsIFRNTGlua0xhYmVsX0RlZmluaXRpb25cIj4kMjwvc3Bhbj48c3BhbiBjbGFzcz1cIlRNTWFyayBUTU1hcmtfVE1MaW5rUmVmZXJlbmNlRGVmaW5pdGlvblwiPiQzPC9zcGFuPjxzcGFuIGNsYXNzPVwiVE1MaW5rRGVzdGluYXRpb25cIj4kNDwvc3Bhbj4kNTxzcGFuIGNsYXNzPVwiVE1MaW5rVGl0bGVcIj4kNjwvc3Bhbj4kNycsXG4gICAgbGFiZWxQbGFjZWhvbGRlcjogMiwgLy8gdGhpcyBkZWZpbmVzIHdoaWNoIHBsYWNlaG9sZGVyIGluIHRoZSBhYm92ZSByZWdleCBpcyB0aGUgbGluayBcImxhYmVsXCJcbiAgfSxcbn07XG5cbi8qKlxuICogSFRNTCBibG9ja3MgaGF2ZSBtdWx0aXBsZSBkaWZmZXJlbnQgY2xhc3NlcyBvZiBvcGVuZXIgYW5kIGNsb3Nlci4gVGhpcyBhcnJheSBkZWZpbmVzIGFsbCB0aGUgY2FzZXNcbiAqL1xudmFyIGh0bWxCbG9ja0dyYW1tYXIgPSBbXG4gIHsgc3RhcnQ6IC9eIHswLDN9PCg/OnNjcmlwdHxwcmV8c3R5bGUpKD86XFxzfD58JCkvaSwgZW5kOiAvKD86PFxcL3NjcmlwdD58PFxcL3ByZT58PFxcL3N0eWxlPikvaSwgcGFyYUludGVycnVwdDogdHJ1ZSB9LFxuICB7IHN0YXJ0OiAvXiB7MCwzfTwhLS0vLCBlbmQ6IC8tLT4vLCBwYXJhSW50ZXJydXB0OiB0cnVlIH0sXG4gIHsgc3RhcnQ6IC9eIHswLDN9PFxcPy8sIGVuZDogL1xcPz4vLCBwYXJhSW50ZXJydXB0OiB0cnVlIH0sXG4gIHsgc3RhcnQ6IC9eIHswLDN9PCFbQS1aXS8sIGVuZDogLz4vLCBwYXJhSW50ZXJydXB0IDogdHJ1ZX0sXG4gIHsgc3RhcnQ6IC9eIHswLDN9PCFcXFtDREFUQVxcWy8sIGVuZDogL1xcXVxcXT4vLCBwYXJhSW50ZXJydXB0IDogdHJ1ZX0sXG4gIHsgc3RhcnQ6IC9eIHswLDN9KD86PHw8XFwvKSg/Oktub3duVGFnKSg/Olxcc3w+fFxcLz58JCkvaSwgZW5kOiBmYWxzZSwgcGFyYUludGVycnVwdDogdHJ1ZX0sXG4gIHsgc3RhcnQ6IC9eIHswLDN9KD86SFRNTE9wZW5UYWd8SFRNTENsb3NlVGFnKVxccyokLywgZW5kOiBmYWxzZSwgcGFyYUludGVycnVwdDogZmFsc2V9LFxuXTtcblxuLyoqXG4gKiBTdHJ1Y3R1cmUgb2YgdGhlIG9iamVjdDpcbiAqIFRvcCBsZXZlbCBlbnRyaWVzIGFyZSBydWxlcywgZWFjaCBjb25zaXN0aW5nIG9mIGEgcmVndWxhciBleHByZXNzaW9ucyAoaW4gc3RyaW5nIGZvcm1hdCkgYXMgd2VsbCBhcyBhIHJlcGxhY2VtZW50LlxuICogSW4gdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbnMsIHJlcGxhY2VtZW50cyBmcm9tIHRoZSBvYmplY3QgJ3JlcGxhY2VtZW50cycgd2lsbCBiZSBwcm9jZXNzZWQgYmVmb3JlIGNvbXBpbGluZyBpbnRvIHRoZSBwcm9wZXJ0eSByZWdleHAuXG4gKi9cbnZhciBpbmxpbmVHcmFtbWFyID0ge1xuICBlc2NhcGUgOiB7XG4gICAgcmVnZXhwOiAvXlxcXFwoQVNDSUlQdW5jdHVhdGlvbikvLFxuICAgIHJlcGxhY2VtZW50IDogJzxzcGFuIGNsYXNzPVwiVE1NYXJrIFRNTWFya19UTUVzY2FwZVwiPlxcXFw8L3NwYW4+JDEnXG4gIH0sXG4gIGNvZGUgOiB7XG4gICAgcmVnZXhwOiAvXihgKykoKD86W15gXSl8KD86W15gXS4qP1teYF0pKShcXDEpLyxcbiAgICByZXBsYWNlbWVudCA6ICc8c3BhbiBjbGFzcz1cIlRNTWFyayBUTU1hcmtfVE1Db2RlXCI+JDE8L3NwYW4+PGNvZGUgY2xhc3M9XCJUTUNvZGVcIj4kMjwvY29kZT48c3BhbiBjbGFzcz1cIlRNTWFyayBUTU1hcmtfVE1Db2RlXCI+JDM8L3NwYW4+JyBcbiAgfSxcbiAgYXV0b2xpbmsgOiB7XG4gICAgcmVnZXhwOiAvXjwoKD86U2NoZW1lOlteXFxzPD5dKil8KD86RW1haWwpKT4vLFxuICAgIHJlcGxhY2VtZW50OiAnPHNwYW4gY2xhc3M9XCJUTU1hcmsgVE1NYXJrX1RNQXV0b2xpbmtcIj4mbHQ7PC9zcGFuPjxzcGFuIGNsYXNzPVwiVE1BdXRvbGlua1wiPiQxPC9zcGFuPjxzcGFuIGNsYXNzPVwiVE1NYXJrIFRNTWFya19UTUF1dG9saW5rXCI+Jmd0Ozwvc3Bhbj4nXG4gIH0sXG4gIGh0bWwgOiB7XG4gICAgcmVnZXhwOiAvXigoPzpIVE1MT3BlblRhZyl8KD86SFRNTENsb3NlVGFnKXwoPzpIVE1MQ29tbWVudCl8KD86SFRNTFBJKXwoPzpIVE1MRGVjbGFyYXRpb24pfCg/OkhUTUxDREFUQSkpLyxcbiAgICByZXBsYWNlbWVudDogJzxzcGFuIGNsYXNzPVwiVE1IVE1MXCI+JDE8L3NwYW4+JyxcbiAgfSxcbiAgbGlua09wZW4gOiB7XG4gICAgcmVnZXhwOiAvXlxcWy8sXG4gICAgcmVwbGFjZW1lbnQ6ICcnXG4gIH0sXG4gIGltYWdlT3BlbiA6IHtcbiAgICByZWdleHA6IC9eIVxcWy8sXG4gICAgcmVwbGFjZW1lbnQgOiAnJ1xuICB9LFxuICBsaW5rTGFiZWwgOiB7XG4gICAgcmVnZXhwOiAvXihcXFtcXHMqKShbXlxcXV0qPykoXFxzKlxcXSkvLFxuICAgIHJlcGxhY2VtZW50OiAnJyxcbiAgICBsYWJlbFBsYWNlaG9sZGVyOiAyXG4gIH0sXG4gIGRlZmF1bHQgOiB7XG4gICAgcmVnZXhwOiAvXigufCg/Ok5vdFRyaWdnZXJDaGFyKykpLyxcbiAgICByZXBsYWNlbWVudDogJyQxJ1xuICB9XG59O1xuXG4vLyBQcm9jZXNzIHJlcGxhY2VtZW50cyBpbiByZWdleHBzXG5jb25zdCByZXBsYWNlbWVudFJlZ2V4cCA9IG5ldyBSZWdFeHAoT2JqZWN0LmtleXMocmVwbGFjZW1lbnRzKS5qb2luKCd8JykpO1xuXG4vLyBJbmxpbmVcbmNvbnN0IGlubGluZVJ1bGVzID1bLi4uT2JqZWN0LmtleXMoaW5saW5lR3JhbW1hcildO1xuZm9yIChsZXQgcnVsZSBvZiBpbmxpbmVSdWxlcykge1xuICBsZXQgcmUgPSBpbmxpbmVHcmFtbWFyW3J1bGVdLnJlZ2V4cC5zb3VyY2U7XG4gIC8vIFJlcGxhY2Ugd2hpbGUgdGhlcmUgaXMgc29tZXRoaW5nIHRvIHJlcGxhY2UuIFRoaXMgbWVhbnMgaXQgYWxzbyB3b3JrcyBvdmVyIG11bHRpcGxlIGxldmVscyAocmVwbGFjZW1lbnRzIGNvbnRhaW5pbmcgcmVwbGFjZW1lbnRzKVxuICB3aGlsZSAocmUubWF0Y2gocmVwbGFjZW1lbnRSZWdleHApKSB7XG4gICAgcmUgPSByZS5yZXBsYWNlKHJlcGxhY2VtZW50UmVnZXhwLCAoc3RyaW5nKSA9PiB7IHJldHVybiByZXBsYWNlbWVudHNbc3RyaW5nXS5zb3VyY2U7IH0pO1xuICB9XG4gIGlubGluZUdyYW1tYXJbcnVsZV0ucmVnZXhwID0gbmV3IFJlZ0V4cChyZSwgaW5saW5lR3JhbW1hcltydWxlXS5yZWdleHAuZmxhZ3MpO1xufVxuXG4vLyBIVE1MIEJsb2NrIChvbmx5IG9wZW5pbmcgcnVsZSBpcyBwcm9jZXNzZWQgY3VycmVudGx5KVxuZm9yIChsZXQgcnVsZSBvZiBodG1sQmxvY2tHcmFtbWFyKSB7XG4gIGxldCByZSA9IHJ1bGUuc3RhcnQuc291cmNlO1xuICAvLyBSZXBsYWNlIHdoaWxlIHRoZXJlIGlzIHNvbWV0aGluZyB0byByZXBsYWNlLiBUaGlzIG1lYW5zIGl0IGFsc28gd29ya3Mgb3ZlciBtdWx0aXBsZSBsZXZlbHMgKHJlcGxhY2VtZW50cyBjb250YWluaW5nIHJlcGxhY2VtZW50cylcbiAgd2hpbGUgKHJlLm1hdGNoKHJlcGxhY2VtZW50UmVnZXhwKSkge1xuICAgIHJlID0gcmUucmVwbGFjZShyZXBsYWNlbWVudFJlZ2V4cCwgKHN0cmluZykgPT4geyByZXR1cm4gcmVwbGFjZW1lbnRzW3N0cmluZ10uc291cmNlOyB9KTtcbiAgfVxuICBydWxlLnN0YXJ0ID0gbmV3IFJlZ0V4cChyZSwgcnVsZS5zdGFydC5mbGFncyk7XG59XG5cbi8qKlxuICogRXNjYXBlcyBIVE1MIHNwZWNpYWwgY2hhcmFjdGVycyAoPCwgPiwgYW5kICYpIGluIHRoZSBzdHJpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSByYXcgc3RyaW5nIHRvIGJlIGVzY2FwZWRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBzdHJpbmcsIHJlYWR5IHRvIGJlIHVzZWQgaW4gSFRNTFxuICovXG5mdW5jdGlvbiBodG1sZXNjYXBlKHN0cmluZykge1xuICByZXR1cm4gKHN0cmluZyA/IHN0cmluZyA6ICcnKVxuICAgIC5yZXBsYWNlKC8mL2csICcmYW1wOycpXG4gICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7Jyk7XG59XG4vKipcbiAqIENvbnRhaW5zIHRoZSBjb21tYW5kcyB0aGF0IGNhbiBiZSBzZW50IHRvIHRoZSBlZGl0b3IuIENvbnRhaW5zIG9iamVjdHMgd2l0aCBhIG5hbWUgcmVwcmVzZW50aW5nIHRoZSBuYW1lIG9mIHRoZSBjb21tYW5kLlxuICogRWFjaCBvZiB0aGUgb2JqZWN0cyBjb250YWlucyB0aGUgZm9sbG93aW5nIGtleXM6XG4gKiBcbiAqICAgLSB0eXBlOiBDYW4gYmUgZWl0aGVyIGlubGluZSAoZm9yIGlubGluZSBmb3JtYXR0aW5nKSBvciBsaW5lIChmb3IgYmxvY2sgLyBsaW5lIGZvcm1hdHRpbmcpLlxuICogICAtIGNsYXNzTmFtZTogVXNlZCB0byBkZXRlcm1pbmUgd2hldGhlciB0aGUgY29tbWFuZCBpcyBhY3RpdmUgYXQgYSBnaXZlbiBwb3NpdGlvbi4gXG4gKiAgICAgRm9yIGxpbmUgZm9ybWF0dGluZywgdGhpcyBsb29rcyBhdCB0aGUgY2xhc3Mgb2YgdGhlIGxpbmUgZWxlbWVudC4gRm9yIGlubGluZSBlbGVtZW50cywgdHJpZXMgdG8gZmluZCBhbiBlbmNsb3NpbmcgZWxlbWVudCB3aXRoIHRoYXQgY2xhc3MuXG4gKiAgIC0gc2V0IC8gdW5zZXQ6IENvbnRhaW4gaW5zdHJ1Y3Rpb25zIGhvdyB0byBzZXQgYW5kIHVuc2V0IHRoZSBjb21tYW5kLiBGb3IgbGluZSB0eXBlIGNvbW1hbmRzLCBib3RoIGNvbnNpc3Qgb2YgYSBwYXR0ZXJuIGFuZCByZXBsYWNlbWVudCB0aGF0IFxuICogICAgIHdpbGwgYmUgYXBwbGllZCB0byBlYWNoIGxpbmUgKHVzaW5nIFN0cmluZy5yZXBsYWNlKS4gRm9yIGlubGluZSB0eXBlIGNvbW1hbmRzLCB0aGUgc2V0IG9iamVjdCBjb250YWlucyBhIHByZSBhbmQgcG9zdCBzdHJpbmcgd2hpY2ggd2lsbFxuICogICAgIGJlIGluc2VydGVkIGJlZm9yZSBhbmQgYWZ0ZXIgdGhlIHNlbGVjdGlvbi4gVGhlIHVuc2V0IG9iamVjdCBjb250YWlucyBhIHByZVBhdHRlcm4gYW5kIGEgcG9zdFBhdHRlcm4uIEJvdGggc2hvdWxkIGJlIHJlZ3VsYXIgZXhwcmVzc2lvbnMgYW5kIFxuICogICAgIHRoZXkgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3J0aW9uIG9mIHRoZSBsaW5lIGJlZm9yZSBhbmQgYWZ0ZXIgdGhlIHNlbGVjdGlvbiAodXNpbmcgU3RyaW5nLnJlcGxhY2UsIHdpdGggYW4gZW1wdHkgcmVwbGFjZW1lbnQgc3RyaW5nKS5cbiAqL1xuY29uc3QgY29tbWFuZHMgPSB7XG4gIC8vIFJlcGxhY2VtZW50cyBmb3IgdW5zZXQgZm9yIGlubGluZSBjb21tYW5kcyBhcmUgJycgYnkgZGVmYXVsdFxuICBib2xkOiB7XG4gICAgdHlwZTogJ2lubGluZScsIFxuICAgIGNsYXNzTmFtZTogJ1RNU3Ryb25nJywgXG4gICAgc2V0OiB7cHJlOiAnKionLCBwb3N0OiAnKionfSwgXG4gICAgdW5zZXQ6IHtwcmVQYXR0ZXJuOiAvKD86XFwqXFwqfF9fKSQvLCBwb3N0UGF0dGVybjogL14oPzpcXCpcXCp8X18pL31cbiAgfSwgXG4gIGl0YWxpYzoge1xuICAgIHR5cGU6ICdpbmxpbmUnLCBcbiAgICBjbGFzc05hbWU6ICdUTUVtJywgXG4gICAgc2V0OiB7cHJlOiAnKicsIHBvc3Q6ICcqJ30sIFxuICAgIHVuc2V0OiB7cHJlUGF0dGVybjogLyg/OlxcKnxfKSQvLCBwb3N0UGF0dGVybjogL14oPzpcXCp8XykvfVxuICB9LFxuICBjb2RlOiB7XG4gICAgdHlwZTogJ2lubGluZScsIFxuICAgIGNsYXNzTmFtZTogJ1RNQ29kZScsIFxuICAgIHNldDoge3ByZTogJ2AnLCBwb3N0OiAnYCd9LCBcbiAgICB1bnNldDoge3ByZVBhdHRlcm46IC9gKyQvLCBwb3N0UGF0dGVybjogL15gKy99IC8vIEZJWE1FIHRoaXMgZG9lc24ndCBlbnN1cmUgYmFsYW5jZWQgYmFja3RpY2tzIHJpZ2h0IG5vd1xuICB9LCBcbiAgc3RyaWtldGhyb3VnaDoge1xuICAgIHR5cGU6ICdpbmxpbmUnLCBcbiAgICBjbGFzc05hbWU6ICdUTVN0cmlrZXRocm91Z2gnLCBcbiAgICBzZXQ6IHtwcmU6ICd+ficsIHBvc3Q6ICd+fid9LCBcbiAgICB1bnNldDoge3ByZVBhdHRlcm46L35+JC8sIHBvc3RQYXR0ZXJuOiAvXn5+LyB9XG4gIH0sXG4gIGgxOiB7XG4gICAgdHlwZTogJ2xpbmUnLCBcbiAgICBjbGFzc05hbWU6ICdUTUgxJywgXG4gICAgc2V0OiB7cGF0dGVybjogL14oIHswLDN9KD86KD86Iyt8WzAtOV17MSw5fVspLl18Wz5cXC0qK10pXFxzKyk/KSguKikkLywgcmVwbGFjZW1lbnQ6ICcjICQyJ30sIFxuICAgIHVuc2V0OiB7cGF0dGVybjogL14oIHswLDN9I1xccyspKC4qPykoKD86XFxzKyMrXFxzKik/KSQvLCByZXBsYWNlbWVudDogJyQyJ31cbiAgfSxcbiAgaDI6IHtcbiAgICB0eXBlOiAnbGluZScsIFxuICAgIGNsYXNzTmFtZTogJ1RNSDInLCBcbiAgICBzZXQ6IHtwYXR0ZXJuOiAvXiggezAsM30oPzooPzojK3xbMC05XXsxLDl9WykuXXxbPlxcLSorXSlcXHMrKT8pKC4qKSQvLCByZXBsYWNlbWVudDogJyMjICQyJ30sIFxuICAgIHVuc2V0OiB7cGF0dGVybjogL14oIHswLDN9IyNcXHMrKSguKj8pKCg/OlxccysjK1xccyopPykkLywgcmVwbGFjZW1lbnQ6ICckMid9XG4gIH0sXG4gIGgzOiB7XG4gICAgdHlwZTogJ2xpbmUnLCBcbiAgICBjbGFzc05hbWU6ICdUTUgzJywgXG4gICAgc2V0OiB7cGF0dGVybjogL14oIHswLDN9KD86KD86Iyt8WzAtOV17MSw5fVspLl18Wz5cXC0qK10pXFxzKyk/KSguKikkLywgcmVwbGFjZW1lbnQ6ICcjIyMgJDInfSwgXG4gICAgdW5zZXQ6IHtwYXR0ZXJuOiAvXiggezAsM30jIyNcXHMrKSguKj8pKCg/OlxccysjK1xccyopPykkLywgcmVwbGFjZW1lbnQ6ICckMid9XG4gIH0sXG4gIGg0OiB7XG4gICAgdHlwZTogJ2xpbmUnLCBcbiAgICBjbGFzc05hbWU6ICdUTUg0JywgXG4gICAgc2V0OiB7cGF0dGVybjogL14oIHswLDN9KD86KD86Iyt8WzAtOV17MSw5fVspLl18Wz5cXC0qK10pXFxzKyk/KSguKikkLywgcmVwbGFjZW1lbnQ6ICcjIyMjICQyJ30sIFxuICAgIHVuc2V0OiB7cGF0dGVybjogL14oIHswLDN9IyMjI1xccyspKC4qPykoKD86XFxzKyMrXFxzKik/KSQvLCByZXBsYWNlbWVudDogJyQyJ31cbiAgfSxcbiAgaDU6IHtcbiAgICB0eXBlOiAnbGluZScsIFxuICAgIGNsYXNzTmFtZTogJ1RNSDUnLCBcbiAgICBzZXQ6IHtwYXR0ZXJuOiAvXiggezAsM30oPzooPzojK3xbMC05XXsxLDl9WykuXXxbPlxcLSorXSlcXHMrKT8pKC4qKSQvLCByZXBsYWNlbWVudDogJyMjIyMjICQyJ30sIFxuICAgIHVuc2V0OiB7cGF0dGVybjogL14oIHswLDN9IyMjIyNcXHMrKSguKj8pKCg/OlxccysjK1xccyopPykkLywgcmVwbGFjZW1lbnQ6ICckMid9XG4gIH0sXG4gIGg2OiB7XG4gICAgdHlwZTogJ2xpbmUnLCBcbiAgICBjbGFzc05hbWU6ICdUTUg2JywgXG4gICAgc2V0OiB7cGF0dGVybjogL14oIHswLDN9KD86KD86Iyt8WzAtOV17MSw5fVspLl18Wz5cXC0qK10pXFxzKyk/KSguKikkLywgcmVwbGFjZW1lbnQ6ICcjIyMjIyMgJDInfSwgXG4gICAgdW5zZXQ6IHtwYXR0ZXJuOiAvXiggezAsM30jIyMjIyNcXHMrKSguKj8pKCg/OlxccysjK1xccyopPykkLywgcmVwbGFjZW1lbnQ6ICckMid9XG4gIH0sXG4gIHVsOiB7XG4gICAgdHlwZTogJ2xpbmUnLCBcbiAgICBjbGFzc05hbWU6ICdUTVVMJywgXG4gICAgc2V0OiB7cGF0dGVybjogL14oIHswLDN9KD86KD86Iyt8WzAtOV17MSw5fVspLl18Wz5cXC0qK10pXFxzKyk/KSguKikkLywgcmVwbGFjZW1lbnQ6ICctICQyJ30sIFxuICAgIHVuc2V0OiB7cGF0dGVybjogL14oIHswLDN9WysqLV0gezEsNH0pKC4qKSQvLCByZXBsYWNlbWVudDogJyQyJ31cbiAgfSxcbiAgb2w6IHtcbiAgICB0eXBlOiAnbGluZScsIFxuICAgIGNsYXNzTmFtZTogJ1RNT0wnLCBcbiAgICBzZXQ6IHtwYXR0ZXJuOiAvXiggezAsM30oPzooPzojK3xbMC05XXsxLDl9WykuXXxbPlxcLSorXSlcXHMrKT8pKC4qKSQvLCByZXBsYWNlbWVudDogJyQjLiAkMid9LCBcbiAgICB1bnNldDoge3BhdHRlcm46IC9eKCB7MCwzfVxcZHsxLDl9Wy4pXSB7MSw0fSkoLiopJC8sIHJlcGxhY2VtZW50OiAnJDInfVxuICB9LCBcbiAgYmxvY2txdW90ZToge1xuICAgIHR5cGU6ICdsaW5lJywgXG4gICAgY2xhc3NOYW1lOiAnVE1CbG9ja3F1b3RlJywgXG4gICAgc2V0OiB7cGF0dGVybjogL14oIHswLDN9KD86KD86Iyt8WzAtOV17MSw5fVspLl18Wz5cXC0qK10pXFxzKyk/KSguKikkLywgcmVwbGFjZW1lbnQ6ICc+ICQyJ30sIFxuICAgIHVuc2V0OiB7cGF0dGVybjogL14oIHswLDN9PlsgXT8pKC4qKSQvLCByZXBsYWNlbWVudDogJyQyJ31cbiAgfSxcbn07XG5cbmV4cG9ydCB7IGxpbmVHcmFtbWFyLCBpbmxpbmVHcmFtbWFyLCBwdW5jdHVhdGlvbkxlYWRpbmcsIHB1bmN0dWF0aW9uVHJhaWxpbmcsIGh0bWxlc2NhcGUsIGh0bWxCbG9ja0dyYW1tYXIsIGNvbW1hbmRzIH07IiwiaW1wb3J0IHtcbiAgaW5saW5lR3JhbW1hcixcbiAgbGluZUdyYW1tYXIsXG4gIHB1bmN0dWF0aW9uTGVhZGluZyxcbiAgcHVuY3R1YXRpb25UcmFpbGluZyxcbiAgaHRtbGVzY2FwZSxcbiAgaHRtbEJsb2NrR3JhbW1hcixcbiAgY29tbWFuZHMsXG59IGZyb20gXCIuL2dyYW1tYXJcIjtcblxuY2xhc3MgRWRpdG9yIHtcbiAgY29uc3RydWN0b3IocHJvcHMgPSB7fSkge1xuICAgIHRoaXMuZSA9IG51bGw7XG4gICAgdGhpcy50ZXh0YXJlYSA9IG51bGw7XG4gICAgdGhpcy5saW5lcyA9IFtdO1xuICAgIHRoaXMubGluZUVsZW1lbnRzID0gW107XG4gICAgdGhpcy5saW5lVHlwZXMgPSBbXTtcbiAgICB0aGlzLmxpbmVDYXB0dXJlcyA9IFtdO1xuICAgIHRoaXMubGluZVJlcGxhY2VtZW50cyA9IFtdO1xuICAgIHRoaXMubGlua0xhYmVscyA9IFtdO1xuICAgIHRoaXMubGluZURpcnR5ID0gW107XG4gICAgdGhpcy5sYXN0Q29tbWFuZFN0YXRlID0gbnVsbDtcblxuICAgIHRoaXMubGlzdGVuZXJzID0ge1xuICAgICAgY2hhbmdlOiBbXSxcbiAgICAgIHNlbGVjdGlvbjogW10sXG4gICAgICBkcm9wOiBbXSxcbiAgICB9O1xuXG4gICAgbGV0IGVsZW1lbnQgPSBwcm9wcy5lbGVtZW50O1xuICAgIHRoaXMudGV4dGFyZWEgPSBwcm9wcy50ZXh0YXJlYTtcblxuICAgIGlmICh0aGlzLnRleHRhcmVhKSB7XG4gICAgICBpZiAoIXRoaXMudGV4dGFyZWEudGFnTmFtZSkge1xuICAgICAgICB0aGlzLnRleHRhcmVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy50ZXh0YXJlYSk7XG4gICAgICB9XG4gICAgICBpZiAoIWVsZW1lbnQpIGVsZW1lbnQgPSB0aGlzLnRleHRhcmVhO1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50ICYmICFlbGVtZW50LnRhZ05hbWUpIHtcbiAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcm9wcy5lbGVtZW50KTtcbiAgICB9XG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudC50YWdOYW1lID09IFwiVEVYVEFSRUFcIikge1xuICAgICAgdGhpcy50ZXh0YXJlYSA9IGVsZW1lbnQ7XG4gICAgICBlbGVtZW50ID0gdGhpcy50ZXh0YXJlYS5wYXJlbnROb2RlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnRleHRhcmVhKSB7XG4gICAgICB0aGlzLnRleHRhcmVhLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG5cbiAgICB0aGlzLmNyZWF0ZUVkaXRvckVsZW1lbnQoZWxlbWVudCk7XG4gICAgdGhpcy5zZXRDb250ZW50KFxuICAgICAgdHlwZW9mIHByb3BzLmNvbnRlbnQgPT09IFwic3RyaW5nXCJcbiAgICAgICAgPyBwcm9wcy5jb250ZW50XG4gICAgICAgIDogdGhpcy50ZXh0YXJlYVxuICAgICAgICA/IHRoaXMudGV4dGFyZWEudmFsdWVcbiAgICAgICAgOiBcIiMgSGVsbG8gVGlueU1ERSFcXG5FZGl0ICoqaGVyZSoqXCJcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGhlIGVkaXRvciBlbGVtZW50IGluc2lkZSB0aGUgdGFyZ2V0IGVsZW1lbnQgb2YgdGhlIERPTSB0cmVlXG4gICAqIEBwYXJhbSBlbGVtZW50IFRoZSB0YXJnZXQgZWxlbWVudCBvZiB0aGUgRE9NIHRyZWVcbiAgICovXG4gIGNyZWF0ZUVkaXRvckVsZW1lbnQoZWxlbWVudCkge1xuICAgIHRoaXMuZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5lLmNsYXNzTmFtZSA9IFwiVGlueU1ERVwiO1xuICAgIHRoaXMuZS5jb250ZW50RWRpdGFibGUgPSB0cnVlO1xuICAgIC8vIFRoZSBmb2xsb3dpbmcgaXMgaW1wb3J0YW50IGZvciBmb3JtYXR0aW5nIHB1cnBvc2VzLCBidXQgYWxzbyBzaW5jZSBvdGhlcndpc2UgdGhlIGJyb3dzZXIgcmVwbGFjZXMgc3Vic2VxdWVudCBzcGFjZXMgd2l0aCAgJm5ic3A7ICZuYnNwO1xuICAgIC8vIFRoYXQgYnJlYWtzIGEgbG90IG9mIHN0dWZmLCBzbyB3ZSBkbyB0aGlzIGhlcmUgYW5kIG5vdCBpbiBDU1PigJR0aGVyZWZvcmUsIHlvdSBkb24ndCBoYXZlIHRvIHJlbWVtYmVyIHRvIHB1dCB0aGlzIGluIHRoZSBDU1MgZmlsZVxuICAgIHRoaXMuZS5zdHlsZS53aGl0ZVNwYWNlID0gXCJwcmUtd3JhcFwiO1xuICAgIC8vIEF2b2lkIGZvcm1hdHRpbmcgKEIgLyBJIC8gVSkgcG9wcGluZyB1cCBvbiBpT1NcbiAgICB0aGlzLmUuc3R5bGUud2Via2l0VXNlck1vZGlmeSA9IFwicmVhZC13cml0ZS1wbGFpbnRleHQtb25seVwiO1xuICAgIGlmIChcbiAgICAgIHRoaXMudGV4dGFyZWEgJiZcbiAgICAgIHRoaXMudGV4dGFyZWEucGFyZW50Tm9kZSA9PSBlbGVtZW50ICYmXG4gICAgICB0aGlzLnRleHRhcmVhLm5leHRTaWJsaW5nXG4gICAgKSB7XG4gICAgICBlbGVtZW50Lmluc2VydEJlZm9yZSh0aGlzLmUsIHRoaXMudGV4dGFyZWEubmV4dFNpYmxpbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuZSk7XG4gICAgfVxuXG4gICAgdGhpcy5lLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4gdGhpcy5oYW5kbGVJbnB1dEV2ZW50KGUpKTtcbiAgICB0aGlzLmUuYWRkRXZlbnRMaXN0ZW5lcihcImNvbXBvc2l0aW9uZW5kXCIsIChlKSA9PiB0aGlzLmhhbmRsZUlucHV0RXZlbnQoZSkpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzZWxlY3Rpb25jaGFuZ2VcIiwgKGUpID0+XG4gICAgICB0aGlzLmhhbmRsZVNlbGVjdGlvbkNoYW5nZUV2ZW50KGUpXG4gICAgKTtcbiAgICB0aGlzLmUuYWRkRXZlbnRMaXN0ZW5lcihcInBhc3RlXCIsIChlKSA9PiB0aGlzLmhhbmRsZVBhc3RlKGUpKTtcbiAgICB0aGlzLmUuYWRkRXZlbnRMaXN0ZW5lcihcImRyb3BcIiwgKGUpID0+IHRoaXMuaGFuZGxlRHJvcChlKSk7XG4gICAgdGhpcy5saW5lRWxlbWVudHMgPSB0aGlzLmUuY2hpbGROb2RlczsgLy8gdGhpcyB3aWxsIGF1dG9tYXRpY2FsbHkgdXBkYXRlXG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZWRpdG9yIGNvbnRlbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IFRoZSBuZXcgTWFya2Rvd24gY29udGVudFxuICAgKi9cbiAgc2V0Q29udGVudChjb250ZW50KSB7XG4gICAgLy8gRGVsZXRlIGFueSBleGlzdGluZyBjb250ZW50XG4gICAgd2hpbGUgKHRoaXMuZS5maXJzdENoaWxkKSB7XG4gICAgICB0aGlzLmUucmVtb3ZlQ2hpbGQodGhpcy5lLmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICB0aGlzLmxpbmVzID0gY29udGVudC5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLyk7XG4gICAgdGhpcy5saW5lRGlydHkgPSBbXTtcbiAgICBmb3IgKGxldCBsaW5lTnVtID0gMDsgbGluZU51bSA8IHRoaXMubGluZXMubGVuZ3RoOyBsaW5lTnVtKyspIHtcbiAgICAgIGxldCBsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICB0aGlzLmUuYXBwZW5kQ2hpbGQobGUpO1xuICAgICAgdGhpcy5saW5lRGlydHkucHVzaCh0cnVlKTtcbiAgICB9XG4gICAgdGhpcy5saW5lVHlwZXMgPSBuZXcgQXJyYXkodGhpcy5saW5lcy5sZW5ndGgpO1xuICAgIHRoaXMudXBkYXRlRm9ybWF0dGluZygpO1xuICAgIHRoaXMuZmlyZUNoYW5nZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGVkaXRvciBjb250ZW50IGFzIGEgTWFya2Rvd24gc3RyaW5nLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZWRpdG9yIGNvbnRlbnQgYXMgYSBtYXJrZG93biBzdHJpbmdcbiAgICovXG4gIGdldENvbnRlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMubGluZXMuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBtYWluIG1ldGhvZCB0byB1cGRhdGUgdGhlIGZvcm1hdHRpbmcgKGZyb20gdGhpcy5saW5lcyB0byBIVE1MIG91dHB1dClcbiAgICovXG4gIHVwZGF0ZUZvcm1hdHRpbmcoKSB7XG4gICAgLy8gRmlyc3QsIHBhcnNlIGxpbmUgdHlwZXMuIFRoaXMgd2lsbCB1cGRhdGUgdGhpcy5saW5lVHlwZXMsIHRoaXMubGluZVJlcGxhY2VtZW50cywgYW5kIHRoaXMubGluZUNhcHR1cmVzXG4gICAgLy8gV2UgZG9uJ3QgYXBwbHkgdGhlIGZvcm1hdHRpbmcgeWV0XG4gICAgdGhpcy51cGRhdGVMaW5lVHlwZXMoKTtcbiAgICAvLyBDb2xsZWN0IGFueSB2YWxpZCBsaW5rIGxhYmVscyBmcm9tIGxpbmsgcmVmZXJlbmNlIGRlZmluaXRpb25z4oCUd2UgbmVlZCB0aGF0IGZvciBmb3JtYXR0aW5nIHRvIGRldGVybWluZSB3aGF0J3MgYSB2YWxpZCBsaW5rXG4gICAgdGhpcy51cGRhdGVMaW5rTGFiZWxzKCk7XG4gICAgLy8gTm93LCBhcHBseSB0aGUgZm9ybWF0dGluZ1xuICAgIHRoaXMuYXBwbHlMaW5lVHlwZXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoaXMubGlua0xhYmVsczogRm9yIGV2ZXJ5IGxpbmsgcmVmZXJlbmNlIGRlZmluaXRpb24gKGxpbmUgdHlwZSBUTUxpbmtSZWZlcmVuY2VEZWZpbml0aW9uKSwgd2UgY29sbGVjdCB0aGUgbGFiZWxcbiAgICovXG4gIHVwZGF0ZUxpbmtMYWJlbHMoKSB7XG4gICAgdGhpcy5saW5rTGFiZWxzID0gW107XG4gICAgZm9yIChsZXQgbCA9IDA7IGwgPCB0aGlzLmxpbmVzLmxlbmd0aDsgbCsrKSB7XG4gICAgICBpZiAodGhpcy5saW5lVHlwZXNbbF0gPT0gXCJUTUxpbmtSZWZlcmVuY2VEZWZpbml0aW9uXCIpIHtcbiAgICAgICAgdGhpcy5saW5rTGFiZWxzLnB1c2goXG4gICAgICAgICAgdGhpcy5saW5lQ2FwdHVyZXNbbF1bXG4gICAgICAgICAgICBsaW5lR3JhbW1hci5UTUxpbmtSZWZlcmVuY2VEZWZpbml0aW9uLmxhYmVsUGxhY2Vob2xkZXJcbiAgICAgICAgICBdXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciBmdW5jdGlvbiB0byByZXBsYWNlIHBsYWNlaG9sZGVycyBmcm9tIGEgUmVnRXhwIGNhcHR1cmUuIFRoZSByZXBsYWNlbWVudCBzdHJpbmcgY2FuIGNvbnRhaW4gcmVndWxhciBkb2xsYXIgcGxhY2Vob2xkZXJzIChlLmcuLCAkMSksXG4gICAqIHdoaWNoIGFyZSBpbnRlcnByZXRlZCBsaWtlIGluIFN0cmluZy5yZXBsYWNlKCksIGJ1dCBhbHNvIGRvdWJsZSBkb2xsYXIgcGxhY2Vob2xkZXJzICgkJDEpLiBJbiB0aGUgY2FzZSBvZiBkb3VibGUgZG9sbGFyIHBsYWNlaG9sZGVycyxcbiAgICogTWFya2Rvd24gaW5saW5lIGdyYW1tYXIgaXMgYXBwbGllZCBvbiB0aGUgY29udGVudCBvZiB0aGUgY2FwdHVyZWQgc3ViZ3JvdXAsIGkuZS4sICQkMSBwcm9jZXNzZXMgaW5saW5lIE1hcmtkb3duIGdyYW1tYXIgaW4gdGhlIGNvbnRlbnQgb2YgdGhlXG4gICAqIGZpcnN0IGNhcHR1cmVkIHN1Ymdyb3VwLCBhbmQgcmVwbGFjZXMgYCQkMWAgd2l0aCB0aGUgcmVzdWx0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVwbGFjZW1lbnQgVGhlIHJlcGxhY2VtZW50IHN0cmluZywgaW5jbHVkaW5nIHBsYWNlaG9sZGVycy5cbiAgICogQHBhcmFtICBjYXB0dXJlIFRoZSByZXN1bHQgb2YgYSBSZWdFeHAuZXhlYygpIGNhbGxcbiAgICogQHJldHVybnMgVGhlIHJlcGxhY2VtZW50IHN0cmluZywgd2l0aCBwbGFjZWhvbGRlcnMgcmVwbGFjZWQgZnJvbSB0aGUgY2FwdHVyZSByZXN1bHQuXG4gICAqL1xuICByZXBsYWNlKHJlcGxhY2VtZW50LCBjYXB0dXJlKSB7XG4gICAgcmV0dXJuIHJlcGxhY2VtZW50LnJlcGxhY2UoLyhcXCR7MSwyfSkoWzAtOV0pL2csIChzdHIsIHAxLCBwMikgPT4ge1xuICAgICAgaWYgKHAxID09IFwiJFwiKSByZXR1cm4gaHRtbGVzY2FwZShjYXB0dXJlW3AyXSk7XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiBgPHNwYW4gY2xhc3M9XCJUTUlubGluZUZvcm1hdHRlZFwiPiR7dGhpcy5wcm9jZXNzSW5saW5lU3R5bGVzKFxuICAgICAgICAgIGNhcHR1cmVbcDJdXG4gICAgICAgICl9PC9zcGFuPmA7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQXBwbGllcyB0aGUgbGluZSB0eXBlcyAoZnJvbSB0aGlzLmxpbmVUeXBlcyBhcyB3ZWxsIGFzIHRoZSBjYXB0dXJlIHJlc3VsdCBpbiB0aGlzLmxpbmVSZXBsYWNlbWVudHMgYW5kIHRoaXMubGluZUNhcHR1cmVzKVxuICAgKiBhbmQgcHJvY2Vzc2VzIGlubGluZSBmb3JtYXR0aW5nIGZvciBhbGwgbGluZXMuXG4gICAqL1xuICBhcHBseUxpbmVUeXBlcygpIHtcbiAgICBmb3IgKGxldCBsaW5lTnVtID0gMDsgbGluZU51bSA8IHRoaXMubGluZXMubGVuZ3RoOyBsaW5lTnVtKyspIHtcbiAgICAgIGlmICh0aGlzLmxpbmVEaXJ0eVtsaW5lTnVtXSkge1xuICAgICAgICBsZXQgY29udGVudEhUTUwgPSB0aGlzLnJlcGxhY2UoXG4gICAgICAgICAgdGhpcy5saW5lUmVwbGFjZW1lbnRzW2xpbmVOdW1dLFxuICAgICAgICAgIHRoaXMubGluZUNhcHR1cmVzW2xpbmVOdW1dXG4gICAgICAgICk7XG4gICAgICAgIC8vIHRoaXMubGluZUhUTUxbbGluZU51bV0gPSAoY29udGVudEhUTUwgPT0gJycgPyAnPGJyIC8+JyA6IGNvbnRlbnRIVE1MKTsgLy8gUHJldmVudCBlbXB0eSBlbGVtZW50cyB3aGljaCBjYW4ndCBiZSBzZWxlY3RlZCBldGMuXG4gICAgICAgIHRoaXMubGluZUVsZW1lbnRzW2xpbmVOdW1dLmNsYXNzTmFtZSA9IHRoaXMubGluZVR5cGVzW2xpbmVOdW1dO1xuICAgICAgICB0aGlzLmxpbmVFbGVtZW50c1tsaW5lTnVtXS5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgICAgICAgdGhpcy5saW5lRWxlbWVudHNbbGluZU51bV0uaW5uZXJIVE1MID1cbiAgICAgICAgICBjb250ZW50SFRNTCA9PSBcIlwiID8gXCI8YnIgLz5cIiA6IGNvbnRlbnRIVE1MOyAvLyBQcmV2ZW50IGVtcHR5IGVsZW1lbnRzIHdoaWNoIGNhbid0IGJlIHNlbGVjdGVkIGV0Yy5cbiAgICAgIH1cbiAgICAgIHRoaXMubGluZUVsZW1lbnRzW2xpbmVOdW1dLmRhdGFzZXQubGluZU51bSA9IGxpbmVOdW07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgbGluZSB0eXBlcyBmb3IgYWxsIGxpbmVzIGJhc2VkIG9uIHRoZSBsaW5lIC8gYmxvY2sgZ3JhbW1hci4gQ2FwdHVyZXMgdGhlIHJlc3VsdHMgb2YgdGhlIHJlc3BlY3RpdmUgbGluZVxuICAgKiBncmFtbWFyIHJlZ3VsYXIgZXhwcmVzc2lvbnMuXG4gICAqIFVwZGF0ZXMgdGhpcy5saW5lVHlwZXMsIHRoaXMubGluZUNhcHR1cmVzLCBhbmQgdGhpcy5saW5lUmVwbGFjZW1lbnRzLlxuICAgKi9cbiAgdXBkYXRlTGluZVR5cGVzKCkge1xuICAgIGxldCBjb2RlQmxvY2tUeXBlID0gZmFsc2U7XG4gICAgbGV0IGNvZGVCbG9ja1NlcUxlbmd0aCA9IDA7XG4gICAgbGV0IGh0bWxCbG9jayA9IGZhbHNlO1xuXG4gICAgZm9yIChsZXQgbGluZU51bSA9IDA7IGxpbmVOdW0gPCB0aGlzLmxpbmVzLmxlbmd0aDsgbGluZU51bSsrKSB7XG4gICAgICBsZXQgbGluZVR5cGUgPSBcIlRNUGFyYVwiO1xuICAgICAgbGV0IGxpbmVDYXB0dXJlID0gW3RoaXMubGluZXNbbGluZU51bV1dO1xuICAgICAgbGV0IGxpbmVSZXBsYWNlbWVudCA9IFwiJCQwXCI7IC8vIERlZmF1bHQgcmVwbGFjZW1lbnQgZm9yIHBhcmFncmFwaDogSW5saW5lIGZvcm1hdCB0aGUgZW50aXJlIGxpbmVcblxuICAgICAgLy8gQ2hlY2sgb25nb2luZyBjb2RlIGJsb2Nrc1xuICAgICAgLy8gaWYgKGxpbmVOdW0gPiAwICYmICh0aGlzLmxpbmVUeXBlc1tsaW5lTnVtIC0gMV0gPT0gJ1RNQ29kZUZlbmNlQmFja3RpY2tPcGVuJyB8fCB0aGlzLmxpbmVUeXBlc1tsaW5lTnVtIC0gMV0gPT0gJ1RNRmVuY2VkQ29kZUJhY2t0aWNrJykpIHtcbiAgICAgIGlmIChjb2RlQmxvY2tUeXBlID09IFwiVE1Db2RlRmVuY2VCYWNrdGlja09wZW5cIikge1xuICAgICAgICAvLyBXZSdyZSBpbiBhIGJhY2t0aWNrLWZlbmNlZCBjb2RlIGJsb2NrLCBjaGVjayBpZiB0aGUgY3VycmVudCBsaW5lIGNsb3NlcyBpdFxuICAgICAgICBsZXQgY2FwdHVyZSA9IGxpbmVHcmFtbWFyLlRNQ29kZUZlbmNlQmFja3RpY2tDbG9zZS5yZWdleHAuZXhlYyhcbiAgICAgICAgICB0aGlzLmxpbmVzW2xpbmVOdW1dXG4gICAgICAgICk7XG4gICAgICAgIGlmIChjYXB0dXJlICYmIGNhcHR1cmUuZ3JvdXBzW1wic2VxXCJdLmxlbmd0aCA+PSBjb2RlQmxvY2tTZXFMZW5ndGgpIHtcbiAgICAgICAgICBsaW5lVHlwZSA9IFwiVE1Db2RlRmVuY2VCYWNrdGlja0Nsb3NlXCI7XG4gICAgICAgICAgbGluZVJlcGxhY2VtZW50ID0gbGluZUdyYW1tYXIuVE1Db2RlRmVuY2VCYWNrdGlja0Nsb3NlLnJlcGxhY2VtZW50O1xuICAgICAgICAgIGxpbmVDYXB0dXJlID0gY2FwdHVyZTtcbiAgICAgICAgICBjb2RlQmxvY2tUeXBlID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGluZVR5cGUgPSBcIlRNRmVuY2VkQ29kZUJhY2t0aWNrXCI7XG4gICAgICAgICAgbGluZVJlcGxhY2VtZW50ID0gJzxzcGFuIGNsYXNzPVwiVE1GZW5jZWRDb2RlXCI+JDA8YnIgLz48L3NwYW4+JztcbiAgICAgICAgICBsaW5lQ2FwdHVyZSA9IFt0aGlzLmxpbmVzW2xpbmVOdW1dXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gaWYgKGxpbmVOdW0gPiAwICYmICh0aGlzLmxpbmVUeXBlc1tsaW5lTnVtIC0gMV0gPT0gJ1RNQ29kZUZlbmNlVGlsZGVPcGVuJyB8fCB0aGlzLmxpbmVUeXBlc1tsaW5lTnVtIC0gMV0gPT0gJ1RNRmVuY2VkQ29kZVRpbGRlJykpIHtcbiAgICAgIGVsc2UgaWYgKGNvZGVCbG9ja1R5cGUgPT0gXCJUTUNvZGVGZW5jZVRpbGRlT3BlblwiKSB7XG4gICAgICAgIC8vIFdlJ3JlIGluIGEgdGlsZGUtZmVuY2VkIGNvZGUgYmxvY2tcbiAgICAgICAgbGV0IGNhcHR1cmUgPSBsaW5lR3JhbW1hci5UTUNvZGVGZW5jZVRpbGRlQ2xvc2UucmVnZXhwLmV4ZWMoXG4gICAgICAgICAgdGhpcy5saW5lc1tsaW5lTnVtXVxuICAgICAgICApO1xuICAgICAgICBpZiAoY2FwdHVyZSAmJiBjYXB0dXJlLmdyb3Vwc1tcInNlcVwiXS5sZW5ndGggPj0gY29kZUJsb2NrU2VxTGVuZ3RoKSB7XG4gICAgICAgICAgbGluZVR5cGUgPSBcIlRNQ29kZUZlbmNlVGlsZGVDbG9zZVwiO1xuICAgICAgICAgIGxpbmVSZXBsYWNlbWVudCA9IGxpbmVHcmFtbWFyLlRNQ29kZUZlbmNlVGlsZGVDbG9zZS5yZXBsYWNlbWVudDtcbiAgICAgICAgICBsaW5lQ2FwdHVyZSA9IGNhcHR1cmU7XG4gICAgICAgICAgY29kZUJsb2NrVHlwZSA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpbmVUeXBlID0gXCJUTUZlbmNlZENvZGVUaWxkZVwiO1xuICAgICAgICAgIGxpbmVSZXBsYWNlbWVudCA9ICc8c3BhbiBjbGFzcz1cIlRNRmVuY2VkQ29kZVwiPiQwPGJyIC8+PC9zcGFuPic7XG4gICAgICAgICAgbGluZUNhcHR1cmUgPSBbdGhpcy5saW5lc1tsaW5lTnVtXV07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgSFRNTCBibG9jayB0eXBlc1xuICAgICAgaWYgKGxpbmVUeXBlID09IFwiVE1QYXJhXCIgJiYgaHRtbEJsb2NrID09PSBmYWxzZSkge1xuICAgICAgICBmb3IgKGxldCBodG1sQmxvY2tUeXBlIG9mIGh0bWxCbG9ja0dyYW1tYXIpIHtcbiAgICAgICAgICBpZiAodGhpcy5saW5lc1tsaW5lTnVtXS5tYXRjaChodG1sQmxvY2tUeXBlLnN0YXJ0KSkge1xuICAgICAgICAgICAgLy8gTWF0Y2hpbmcgc3RhcnQgY29uZGl0aW9uLiBDaGVjayBpZiB0aGlzIHRhZyBjYW4gc3RhcnQgaGVyZSAobm90IGFsbCBzdGFydCBjb25kaXRpb25zIGFsbG93IGJyZWFraW5nIGEgcGFyYWdyYXBoKS5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgaHRtbEJsb2NrVHlwZS5wYXJhSW50ZXJydXB0IHx8XG4gICAgICAgICAgICAgIGxpbmVOdW0gPT0gMCB8fFxuICAgICAgICAgICAgICAhKFxuICAgICAgICAgICAgICAgIHRoaXMubGluZVR5cGVzW2xpbmVOdW0gLSAxXSA9PSBcIlRNUGFyYVwiIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5saW5lVHlwZXNbbGluZU51bSAtIDFdID09IFwiVE1VTFwiIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5saW5lVHlwZXNbbGluZU51bSAtIDFdID09IFwiVE1PTFwiIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5saW5lVHlwZXNbbGluZU51bSAtIDFdID09IFwiVE1CbG9ja3F1b3RlXCJcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGh0bWxCbG9jayA9IGh0bWxCbG9ja1R5cGU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaHRtbEJsb2NrICE9PSBmYWxzZSkge1xuICAgICAgICBsaW5lVHlwZSA9IFwiVE1IVE1MQmxvY2tcIjtcbiAgICAgICAgbGluZVJlcGxhY2VtZW50ID0gJzxzcGFuIGNsYXNzPVwiVE1IVE1MQ29udGVudFwiPiQwPGJyIC8+PC9zcGFuPic7IC8vIE5vIGZvcm1hdHRpbmcgaW4gVE1IVE1MQmxvY2tcbiAgICAgICAgbGluZUNhcHR1cmUgPSBbdGhpcy5saW5lc1tsaW5lTnVtXV07IC8vIFRoaXMgc2hvdWxkIGFscmVhZHkgYmUgc2V0IGJ1dCBiZXR0ZXIgc2FmZSB0aGFuIHNvcnJ5XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgSFRNTCBibG9jayBzaG91bGQgYmUgY2xvc2VkXG4gICAgICAgIGlmIChodG1sQmxvY2suZW5kKSB7XG4gICAgICAgICAgLy8gU3BlY2lmaWMgZW5kIGNvbmRpdGlvblxuICAgICAgICAgIGlmICh0aGlzLmxpbmVzW2xpbmVOdW1dLm1hdGNoKGh0bWxCbG9jay5lbmQpKSB7XG4gICAgICAgICAgICBodG1sQmxvY2sgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTm8gc3BlY2lmaWMgZW5kIGNvbmRpdGlvbiwgZW5kcyB3aXRoIGJsYW5rIGxpbmVcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBsaW5lTnVtID09IHRoaXMubGluZXMubGVuZ3RoIC0gMSB8fFxuICAgICAgICAgICAgdGhpcy5saW5lc1tsaW5lTnVtICsgMV0ubWF0Y2gobGluZUdyYW1tYXIuVE1CbGFua0xpbmUucmVnZXhwKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaHRtbEJsb2NrID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGFsbCByZWdleHBzIGlmIHdlIGhhdmVuJ3QgYXBwbGllZCBvbmUgb2YgdGhlIGNvZGUgYmxvY2sgdHlwZXNcbiAgICAgIGlmIChsaW5lVHlwZSA9PSBcIlRNUGFyYVwiKSB7XG4gICAgICAgIGZvciAobGV0IHR5cGUgaW4gbGluZUdyYW1tYXIpIHtcbiAgICAgICAgICBpZiAobGluZUdyYW1tYXJbdHlwZV0ucmVnZXhwKSB7XG4gICAgICAgICAgICBsZXQgY2FwdHVyZSA9IGxpbmVHcmFtbWFyW3R5cGVdLnJlZ2V4cC5leGVjKHRoaXMubGluZXNbbGluZU51bV0pO1xuICAgICAgICAgICAgaWYgKGNhcHR1cmUpIHtcbiAgICAgICAgICAgICAgbGluZVR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgICBsaW5lUmVwbGFjZW1lbnQgPSBsaW5lR3JhbW1hclt0eXBlXS5yZXBsYWNlbWVudDtcbiAgICAgICAgICAgICAgbGluZUNhcHR1cmUgPSBjYXB0dXJlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UndmUgb3BlbmVkIGEgY29kZSBibG9jaywgcmVtZW1iZXIgdGhhdFxuICAgICAgaWYgKFxuICAgICAgICBsaW5lVHlwZSA9PSBcIlRNQ29kZUZlbmNlQmFja3RpY2tPcGVuXCIgfHxcbiAgICAgICAgbGluZVR5cGUgPT0gXCJUTUNvZGVGZW5jZVRpbGRlT3BlblwiXG4gICAgICApIHtcbiAgICAgICAgY29kZUJsb2NrVHlwZSA9IGxpbmVUeXBlO1xuICAgICAgICBjb2RlQmxvY2tTZXFMZW5ndGggPSBsaW5lQ2FwdHVyZS5ncm91cHNbXCJzZXFcIl0ubGVuZ3RoO1xuICAgICAgfVxuXG4gICAgICAvLyBMaW5rIHJlZmVyZW5jZSBkZWZpbml0aW9uIGFuZCBpbmRlbnRlZCBjb2RlIGNhbid0IGludGVycnVwdCBhIHBhcmFncmFwaFxuICAgICAgaWYgKFxuICAgICAgICAobGluZVR5cGUgPT0gXCJUTUluZGVudGVkQ29kZVwiIHx8XG4gICAgICAgICAgbGluZVR5cGUgPT0gXCJUTUxpbmtSZWZlcmVuY2VEZWZpbml0aW9uXCIpICYmXG4gICAgICAgIGxpbmVOdW0gPiAwICYmXG4gICAgICAgICh0aGlzLmxpbmVUeXBlc1tsaW5lTnVtIC0gMV0gPT0gXCJUTVBhcmFcIiB8fFxuICAgICAgICAgIHRoaXMubGluZVR5cGVzW2xpbmVOdW0gLSAxXSA9PSBcIlRNVUxcIiB8fFxuICAgICAgICAgIHRoaXMubGluZVR5cGVzW2xpbmVOdW0gLSAxXSA9PSBcIlRNT0xcIiB8fFxuICAgICAgICAgIHRoaXMubGluZVR5cGVzW2xpbmVOdW0gLSAxXSA9PSBcIlRNQmxvY2txdW90ZVwiKVxuICAgICAgKSB7XG4gICAgICAgIC8vIEZhbGwgYmFjayB0byBUTVBhcmFcbiAgICAgICAgbGluZVR5cGUgPSBcIlRNUGFyYVwiO1xuICAgICAgICBsaW5lQ2FwdHVyZSA9IFt0aGlzLmxpbmVzW2xpbmVOdW1dXTtcbiAgICAgICAgbGluZVJlcGxhY2VtZW50ID0gXCIkJDBcIjtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0ZXh0IEgyIG1hcmtlcnMgdGhhdCBjYW4gYWxzbyBiZSBpbnRlcnByZXRlZCBhcyBhbiBlbXB0eSBsaXN0IGl0ZW0gc2hvdWxkIGJlIHJlZ2FyZGVkIGFzIHN1Y2ggKGFzIHBlciBDb21tb25NYXJrIHNwZWMpXG4gICAgICBpZiAobGluZVR5cGUgPT0gXCJUTVNldGV4dEgyTWFya2VyXCIpIHtcbiAgICAgICAgbGV0IGNhcHR1cmUgPSBsaW5lR3JhbW1hci5UTVVMLnJlZ2V4cC5leGVjKHRoaXMubGluZXNbbGluZU51bV0pO1xuICAgICAgICBpZiAoY2FwdHVyZSkge1xuICAgICAgICAgIGxpbmVUeXBlID0gXCJUTVVMXCI7XG4gICAgICAgICAgbGluZVJlcGxhY2VtZW50ID0gbGluZUdyYW1tYXIuVE1VTC5yZXBsYWNlbWVudDtcbiAgICAgICAgICBsaW5lQ2FwdHVyZSA9IGNhcHR1cmU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gU2V0ZXh0IGhlYWRpbmdzIGFyZSBvbmx5IHZhbGlkIGlmIHByZWNlZGVkIGJ5IGEgcGFyYWdyYXBoIChhbmQgaWYgc28sIHRoZXkgY2hhbmdlIHRoZSB0eXBlIG9mIHRoZSBwcmV2aW91cyBwYXJhZ3JhcGgpXG4gICAgICBpZiAobGluZVR5cGUgPT0gXCJUTVNldGV4dEgxTWFya2VyXCIgfHwgbGluZVR5cGUgPT0gXCJUTVNldGV4dEgyTWFya2VyXCIpIHtcbiAgICAgICAgaWYgKGxpbmVOdW0gPT0gMCB8fCB0aGlzLmxpbmVUeXBlc1tsaW5lTnVtIC0gMV0gIT0gXCJUTVBhcmFcIikge1xuICAgICAgICAgIC8vIFNldGV4dCBtYXJrZXIgaXMgaW52YWxpZC4gSG93ZXZlciwgYSBIMiBtYXJrZXIgbWlnaHQgc3RpbGwgYmUgYSB2YWxpZCBIUiwgc28gbGV0J3MgY2hlY2sgdGhhdFxuICAgICAgICAgIGxldCBjYXB0dXJlID0gbGluZUdyYW1tYXIuVE1IUi5yZWdleHAuZXhlYyh0aGlzLmxpbmVzW2xpbmVOdW1dKTtcbiAgICAgICAgICBpZiAoY2FwdHVyZSkge1xuICAgICAgICAgICAgLy8gVmFsaWQgSFJcbiAgICAgICAgICAgIGxpbmVUeXBlID0gXCJUTUhSXCI7XG4gICAgICAgICAgICBsaW5lQ2FwdHVyZSA9IGNhcHR1cmU7XG4gICAgICAgICAgICBsaW5lUmVwbGFjZW1lbnQgPSBsaW5lR3JhbW1hci5UTUhSLnJlcGxhY2VtZW50O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBOb3QgdmFsaWQgSFIsIGZvcm1hdCBhcyBUTVBhcmFcbiAgICAgICAgICAgIGxpbmVUeXBlID0gXCJUTVBhcmFcIjtcbiAgICAgICAgICAgIGxpbmVDYXB0dXJlID0gW3RoaXMubGluZXNbbGluZU51bV1dO1xuICAgICAgICAgICAgbGluZVJlcGxhY2VtZW50ID0gXCIkJDBcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVmFsaWQgc2V0ZXh0IG1hcmtlci4gQ2hhbmdlIHR5cGVzIG9mIHByZWNlZGluZyBwYXJhIGxpbmVzXG4gICAgICAgICAgbGV0IGhlYWRpbmdMaW5lID0gbGluZU51bSAtIDE7XG4gICAgICAgICAgY29uc3QgaGVhZGluZ0xpbmVUeXBlID1cbiAgICAgICAgICAgIGxpbmVUeXBlID09IFwiVE1TZXRleHRIMU1hcmtlclwiID8gXCJUTVNldGV4dEgxXCIgOiBcIlRNU2V0ZXh0SDJcIjtcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAodGhpcy5saW5lVHlwZXNbaGVhZGluZ0xpbmVUeXBlXSAhPSBoZWFkaW5nTGluZVR5cGUpIHtcbiAgICAgICAgICAgICAgdGhpcy5saW5lVHlwZXNbaGVhZGluZ0xpbmVdID0gaGVhZGluZ0xpbmVUeXBlO1xuICAgICAgICAgICAgICB0aGlzLmxpbmVEaXJ0eVtoZWFkaW5nTGluZVR5cGVdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubGluZVJlcGxhY2VtZW50c1toZWFkaW5nTGluZV0gPSBcIiQkMFwiO1xuICAgICAgICAgICAgdGhpcy5saW5lQ2FwdHVyZXNbaGVhZGluZ0xpbmVdID0gW3RoaXMubGluZXNbaGVhZGluZ0xpbmVdXTtcblxuICAgICAgICAgICAgaGVhZGluZ0xpbmUtLTtcbiAgICAgICAgICB9IHdoaWxlIChoZWFkaW5nTGluZSA+PSAwICYmIHRoaXMubGluZVR5cGVzW2hlYWRpbmdMaW5lXSA9PSBcIlRNUGFyYVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gTGFzdGx5LCBzYXZlIHRoZSBsaW5lIHN0eWxlIHRvIGJlIGFwcGxpZWQgbGF0ZXJcbiAgICAgIGlmICh0aGlzLmxpbmVUeXBlc1tsaW5lTnVtXSAhPSBsaW5lVHlwZSkge1xuICAgICAgICB0aGlzLmxpbmVUeXBlc1tsaW5lTnVtXSA9IGxpbmVUeXBlO1xuICAgICAgICB0aGlzLmxpbmVEaXJ0eVtsaW5lTnVtXSA9IHRydWU7XG4gICAgICB9XG4gICAgICB0aGlzLmxpbmVSZXBsYWNlbWVudHNbbGluZU51bV0gPSBsaW5lUmVwbGFjZW1lbnQ7XG4gICAgICB0aGlzLmxpbmVDYXB0dXJlc1tsaW5lTnVtXSA9IGxpbmVDYXB0dXJlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGFsbCBsaW5lIGNvbnRlbnRzIGZyb20gdGhlIEhUTUwsIHRoZW4gcmUtYXBwbGllcyBmb3JtYXR0aW5nLlxuICAgKi9cbiAgdXBkYXRlTGluZUNvbnRlbnRzQW5kRm9ybWF0dGluZygpIHtcbiAgICB0aGlzLmNsZWFyRGlydHlGbGFnKCk7XG4gICAgdGhpcy51cGRhdGVMaW5lQ29udGVudHMoKTtcbiAgICB0aGlzLnVwZGF0ZUZvcm1hdHRpbmcoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRlbXB0cyB0byBwYXJzZSBhIGxpbmsgb3IgaW1hZ2UgYXQgdGhlIGN1cnJlbnQgcG9zaXRpb24uIFRoaXMgYXNzdW1lcyB0aGF0IHRoZSBvcGVuaW5nIFsgb3IgIVsgaGFzIGFscmVhZHkgYmVlbiBtYXRjaGVkLlxuICAgKiBSZXR1cm5zIGZhbHNlIGlmIHRoaXMgaXMgbm90IGEgdmFsaWQgbGluaywgaW1hZ2UuIFNlZSBiZWxvdyBmb3IgbW9yZSBpbmZvcm1hdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3JpZ2luYWxTdHJpbmcgVGhlIG9yaWdpbmFsIHN0cmluZywgc3RhcnRpbmcgYXQgdGhlIG9wZW5pbmcgbWFya2VyIChbIG9yICFbKVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzSW1hZ2UgV2hldGhlciBvciBub3QgdGhpcyBpcyBhbiBpbWFnZSAob3BlbmVyID09ICFbKVxuICAgKiBAcmV0dXJucyBmYWxzZSBpZiBub3QgYSB2YWxpZCBsaW5rIC8gaW1hZ2UuXG4gICAqIE90aGVyd2lzZSByZXR1cm5zIGFuIG9iamVjdCB3aXRoIHR3byBwcm9wZXJ0aWVzOiBvdXRwdXQgaXMgdGhlIHN0cmluZyB0byBiZSBpbmNsdWRlZCBpbiB0aGUgcHJvY2Vzc2VkIG91dHB1dCxcbiAgICogY2hhckNvdW50IGlzIHRoZSBudW1iZXIgb2YgaW5wdXQgY2hhcmFjdGVycyAoZnJvbSBvcmlnaW5hbFN0cmluZykgY29uc3VtZWQuXG4gICAqL1xuICBwYXJzZUxpbmtPckltYWdlKG9yaWdpbmFsU3RyaW5nLCBpc0ltYWdlKSB7XG4gICAgLy8gU2tpcCB0aGUgb3BlbmluZyBicmFja2V0XG4gICAgbGV0IHRleHRPZmZzZXQgPSBpc0ltYWdlID8gMiA6IDE7XG4gICAgbGV0IG9wZW5lciA9IG9yaWdpbmFsU3RyaW5nLnN1YnN0cigwLCB0ZXh0T2Zmc2V0KTtcbiAgICBsZXQgdHlwZSA9IGlzSW1hZ2UgPyBcIlRNSW1hZ2VcIiA6IFwiVE1MaW5rXCI7XG4gICAgbGV0IGN1cnJlbnRPZmZzZXQgPSB0ZXh0T2Zmc2V0O1xuXG4gICAgbGV0IGJyYWNrZXRMZXZlbCA9IDE7XG4gICAgbGV0IGxpbmtUZXh0ID0gZmFsc2U7XG4gICAgbGV0IGxpbmtSZWYgPSBmYWxzZTtcbiAgICBsZXQgbGlua0xhYmVsID0gW107XG4gICAgbGV0IGxpbmtEZXRhaWxzID0gW107IC8vIElmIG1hdGNoZWQsIHRoaXMgd2lsbCBiZSBhbiBhcnJheTogW3doaXRlc3BhY2UgKyBsaW5rIGRlc3RpbmF0aW9uIGRlbGltaXRlciwgbGluayBkZXN0aW5hdGlvbiwgbGluayBkZXN0aW5hdGlvbiBkZWxpbWl0ZXIsIHdoaXRlc3BhY2UsIGxpbmsgdGl0bGUgZGVsaW1pdGVyLCBsaW5rIHRpdGxlLCBsaW5rIHRpdGxlIGRlbGltaXRlciArIHdoaXRlc3BhY2VdLiBBbGwgY2FuIGJlIGVtcHR5IHN0cmluZ3MuXG5cbiAgICB0ZXh0T3V0ZXI6IHdoaWxlIChcbiAgICAgIGN1cnJlbnRPZmZzZXQgPCBvcmlnaW5hbFN0cmluZy5sZW5ndGggJiZcbiAgICAgIGxpbmtUZXh0ID09PSBmYWxzZSAvKiBlbXB0eSBzdHJpbmcgaXMgb2theSAqL1xuICAgICkge1xuICAgICAgbGV0IHN0cmluZyA9IG9yaWdpbmFsU3RyaW5nLnN1YnN0cihjdXJyZW50T2Zmc2V0KTtcblxuICAgICAgLy8gQ2FwdHVyZSBhbnkgZXNjYXBlcyBhbmQgY29kZSBibG9ja3MgYXQgY3VycmVudCBwb3NpdGlvbiwgdGhleSBiaW5kIG1vcmUgc3Ryb25nbHkgdGhhbiBsaW5rc1xuICAgICAgLy8gV2UgZG9uJ3QgaGF2ZSB0byBhY3R1YWxseSBwcm9jZXNzIHRoZW0gaGVyZSwgdGhhdCdsbCBiZSBkb25lIGxhdGVyIGluIGNhc2UgdGhlIGxpbmsgLyBpbWFnZSBpcyB2YWxpZCwgYnV0IHdlIG5lZWQgdG8gc2tpcCBvdmVyIHRoZW0uXG4gICAgICBmb3IgKGxldCBydWxlIG9mIFtcImVzY2FwZVwiLCBcImNvZGVcIiwgXCJhdXRvbGlua1wiLCBcImh0bWxcIl0pIHtcbiAgICAgICAgbGV0IGNhcCA9IGlubGluZUdyYW1tYXJbcnVsZV0ucmVnZXhwLmV4ZWMoc3RyaW5nKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgIGN1cnJlbnRPZmZzZXQgKz0gY2FwWzBdLmxlbmd0aDtcbiAgICAgICAgICBjb250aW51ZSB0ZXh0T3V0ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgZm9yIGltYWdlLiBJdCdzIG9rYXkgZm9yIGFuIGltYWdlIHRvIGJlIGluY2x1ZGVkIGluIGEgbGluayBvciBpbWFnZVxuICAgICAgaWYgKHN0cmluZy5tYXRjaChpbmxpbmVHcmFtbWFyLmltYWdlT3Blbi5yZWdleHApKSB7XG4gICAgICAgIC8vIE9wZW5pbmcgaW1hZ2UuIEl0J3Mgb2theSBpZiB0aGlzIGlzIGEgbWF0Y2hpbmcgcGFpciBvZiBicmFja2V0c1xuICAgICAgICBicmFja2V0TGV2ZWwrKztcbiAgICAgICAgY3VycmVudE9mZnNldCArPSAyO1xuICAgICAgICBjb250aW51ZSB0ZXh0T3V0ZXI7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGZvciBsaW5rIChub3QgYW4gaW1hZ2UgYmVjYXVzZSB0aGF0IHdvdWxkIGhhdmUgYmVlbiBjYXB0dXJlZCBhbmQgc2tpcHBlZCBvdmVyIGFib3ZlKVxuICAgICAgaWYgKHN0cmluZy5tYXRjaChpbmxpbmVHcmFtbWFyLmxpbmtPcGVuLnJlZ2V4cCkpIHtcbiAgICAgICAgLy8gT3BlbmluZyBicmFja2V0LiBUd28gdGhpbmdzIHRvIGRvOlxuICAgICAgICAvLyAxKSBpdCdzIG9rYXkgaWYgdGhpcyBwYXJ0IG9mIGEgcGFpciBvZiBicmFja2V0cy5cbiAgICAgICAgLy8gMikgSWYgd2UgYXJlIGN1cnJlbnRseSB0cnlpbmcgdG8gcGFyc2UgYSBsaW5rLCB0aGlzIG5lc3RlZCBicmFja2V0IG11c24ndCBzdGFydCBhIHZhbGlkIGxpbmsgKG5vIG5lc3RlZCBsaW5rcyBhbGxvd2VkKVxuICAgICAgICBicmFja2V0TGV2ZWwrKztcbiAgICAgICAgLy8gaWYgKGJyYWNrZXRMZXZlbCA+PSAyKSByZXR1cm4gZmFsc2U7IC8vIE5lc3RlZCB1bmVzY2FwZWQgYnJhY2tldHMsIHRoaXMgZG9lc24ndCBxdWFsaWZ5IGFzIGEgbGluayAvIGltYWdlXG4gICAgICAgIGlmICghaXNJbWFnZSkge1xuICAgICAgICAgIGlmICh0aGlzLnBhcnNlTGlua09ySW1hZ2Uoc3RyaW5nLCBmYWxzZSkpIHtcbiAgICAgICAgICAgIC8vIFZhbGlkIGxpbmsgaW5zaWRlIHRoaXMgcG9zc2libGUgbGluaywgd2hpY2ggbWFrZXMgdGhpcyBsaW5rIGludmFsaWQgKGlubmVyIGxpbmtzIGJlYXQgb3V0ZXIgb25lcylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudE9mZnNldCArPSAxO1xuICAgICAgICBjb250aW51ZSB0ZXh0T3V0ZXI7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGZvciBjbG9zaW5nIGJyYWNrZXRcbiAgICAgIGlmIChzdHJpbmcubWF0Y2goL15cXF0vKSkge1xuICAgICAgICBicmFja2V0TGV2ZWwtLTtcbiAgICAgICAgaWYgKGJyYWNrZXRMZXZlbCA9PSAwKSB7XG4gICAgICAgICAgLy8gRm91bmQgbWF0Y2hpbmcgYnJhY2tldCBhbmQgaGF2ZW4ndCBmb3VuZCBhbnl0aGluZyBkaXNxdWFsaWZ5aW5nIHRoaXMgYXMgbGluayAvIGltYWdlLlxuICAgICAgICAgIGxpbmtUZXh0ID0gb3JpZ2luYWxTdHJpbmcuc3Vic3RyKFxuICAgICAgICAgICAgdGV4dE9mZnNldCxcbiAgICAgICAgICAgIGN1cnJlbnRPZmZzZXQgLSB0ZXh0T2Zmc2V0XG4gICAgICAgICAgKTtcbiAgICAgICAgICBjdXJyZW50T2Zmc2V0Kys7XG4gICAgICAgICAgY29udGludWUgdGV4dE91dGVyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIE5vdGhpbmcgbWF0Y2hlcywgcHJvY2VlZCB0byBuZXh0IGNoYXJcbiAgICAgIGN1cnJlbnRPZmZzZXQrKztcbiAgICB9XG5cbiAgICAvLyBEaWQgd2UgZmluZCBhIGxpbmsgdGV4dCAoaS5lLiwgZmluZCBhIG1hdGNoaW5nIGNsb3NpbmcgYnJhY2tldD8pXG4gICAgaWYgKGxpbmtUZXh0ID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlOyAvLyBOb3BlXG5cbiAgICAvLyBTbyBmYXIsIHNvIGdvb2QuIFdlJ3ZlIGdvdCBhIHZhbGlkIGxpbmsgdGV4dC4gTGV0J3Mgc2VlIHdoYXQgdHlwZSBvZiBsaW5rIHRoaXMgaXNcbiAgICBsZXQgbmV4dENoYXIgPVxuICAgICAgY3VycmVudE9mZnNldCA8IG9yaWdpbmFsU3RyaW5nLmxlbmd0aFxuICAgICAgICA/IG9yaWdpbmFsU3RyaW5nLnN1YnN0cihjdXJyZW50T2Zmc2V0LCAxKVxuICAgICAgICA6IFwiXCI7XG5cbiAgICAvLyBSRUZFUkVOQ0UgTElOS1NcbiAgICBpZiAobmV4dENoYXIgPT0gXCJbXCIpIHtcbiAgICAgIGxldCBzdHJpbmcgPSBvcmlnaW5hbFN0cmluZy5zdWJzdHIoY3VycmVudE9mZnNldCk7XG4gICAgICBsZXQgY2FwID0gaW5saW5lR3JhbW1hci5saW5rTGFiZWwucmVnZXhwLmV4ZWMoc3RyaW5nKTtcbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgLy8gVmFsaWQgbGluayBsYWJlbFxuICAgICAgICBjdXJyZW50T2Zmc2V0ICs9IGNhcFswXS5sZW5ndGg7XG4gICAgICAgIGxpbmtMYWJlbC5wdXNoKGNhcFsxXSwgY2FwWzJdLCBjYXBbM10pO1xuICAgICAgICBpZiAoY2FwW2lubGluZUdyYW1tYXIubGlua0xhYmVsLmxhYmVsUGxhY2Vob2xkZXJdKSB7XG4gICAgICAgICAgLy8gRnVsbCByZWZlcmVuY2UgbGlua1xuICAgICAgICAgIGxpbmtSZWYgPSBjYXBbaW5saW5lR3JhbW1hci5saW5rTGFiZWwubGFiZWxQbGFjZWhvbGRlcl07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQ29sbGFwc2VkIHJlZmVyZW5jZSBsaW5rXG4gICAgICAgICAgbGlua1JlZiA9IGxpbmtUZXh0LnRyaW0oKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm90IGEgdmFsaWQgbGluayBsYWJlbFxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChuZXh0Q2hhciAhPSBcIihcIikge1xuICAgICAgLy8gU2hvcnRjdXQgcmVmIGxpbmtcbiAgICAgIGxpbmtSZWYgPSBsaW5rVGV4dC50cmltKCk7XG5cbiAgICAgIC8vIElOTElORSBMSU5LU1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBuZXh0Q2hhciA9PSAnKCdcblxuICAgICAgLy8gUG90ZW50aWFsIGlubGluZSBsaW5rXG4gICAgICBjdXJyZW50T2Zmc2V0Kys7XG5cbiAgICAgIGxldCBwYXJlbnRoZXNpc0xldmVsID0gMTtcbiAgICAgIGlubGluZU91dGVyOiB3aGlsZSAoXG4gICAgICAgIGN1cnJlbnRPZmZzZXQgPCBvcmlnaW5hbFN0cmluZy5sZW5ndGggJiZcbiAgICAgICAgcGFyZW50aGVzaXNMZXZlbCA+IDBcbiAgICAgICkge1xuICAgICAgICBsZXQgc3RyaW5nID0gb3JpZ2luYWxTdHJpbmcuc3Vic3RyKGN1cnJlbnRPZmZzZXQpO1xuXG4gICAgICAgIC8vIFByb2Nlc3Mgd2hpdGVzcGFjZVxuICAgICAgICBsZXQgY2FwID0gL15cXHMrLy5leGVjKHN0cmluZyk7XG4gICAgICAgIGlmIChjYXApIHtcbiAgICAgICAgICBzd2l0Y2ggKGxpbmtEZXRhaWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBsaW5rRGV0YWlscy5wdXNoKGNhcFswXSk7XG4gICAgICAgICAgICAgIGJyZWFrOyAvLyBPcGVuaW5nIHdoaXRlc3BhY2VcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgbGlua0RldGFpbHMucHVzaChjYXBbMF0pO1xuICAgICAgICAgICAgICBicmVhazsgLy8gT3BlbiBkZXN0aW5hdGlvbiwgYnV0IG5vdCBhIGRlc3RpbmF0aW9uIHlldDsgZGVzaW5hdGlvbiBvcGVuZWQgd2l0aCA8XG4gICAgICAgICAgICBjYXNlIDI6IC8vIE9wZW4gZGVzdGluYXRpb24gd2l0aCBjb250ZW50IGluIGl0LiBXaGl0ZXNwYWNlIG9ubHkgYWxsb3dlZCBpZiBvcGVuZWQgYnkgYW5nbGUgYnJhY2tldCwgb3RoZXJ3aXNlIHRoaXMgY2xvc2VzIHRoZSBkZXN0aW5hdGlvblxuICAgICAgICAgICAgICBpZiAobGlua0RldGFpbHNbMF0ubWF0Y2goLzwvKSkge1xuICAgICAgICAgICAgICAgIGxpbmtEZXRhaWxzWzFdID0gbGlua0RldGFpbHNbMV0uY29uY2F0KGNhcFswXSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudGhlc2lzTGV2ZWwgIT0gMSkgcmV0dXJuIGZhbHNlOyAvLyBVbmJhbGFuY2VkIHBhcmVudGhlc2lzXG4gICAgICAgICAgICAgICAgbGlua0RldGFpbHMucHVzaChcIlwiKTsgLy8gRW1wdHkgZW5kIGRlbGltaXRlciBmb3IgZGVzdGluYXRpb25cbiAgICAgICAgICAgICAgICBsaW5rRGV0YWlscy5wdXNoKGNhcFswXSk7IC8vIFdoaXRlc3BhY2UgaW4gYmV0d2VlbiBkZXN0aW5hdGlvbiBhbmQgdGl0bGVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgbGlua0RldGFpbHMucHVzaChjYXBbMF0pO1xuICAgICAgICAgICAgICBicmVhazsgLy8gV2hpdGVzcGFjZSBiZXR3ZWVuIGRlc3RpbmF0aW9uIGFuZCB0aXRsZVxuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIFRoaXMgc2hvdWxkIG5ldmVyIGhhcHBlbiAobm8gb3BlbmVyIGZvciB0aXRsZSB5ZXQsIGJ1dCBtb3JlIHdoaXRlc3BhY2UgdG8gY2FwdHVyZSlcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgbGlua0RldGFpbHMucHVzaChcIlwiKTsgLy8gV2hpdGVzcGFjZSBhdCBiZWdpbm5pbmcgb2YgdGl0bGUsIHB1c2ggZW1wdHkgdGl0bGUgYW5kIGNvbnRpbnVlXG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgIGxpbmtEZXRhaWxzWzVdID0gbGlua0RldGFpbHNbNV0uY29uY2F0KGNhcFswXSk7XG4gICAgICAgICAgICAgIGJyZWFrOyAvLyBXaGl0ZXNwYWNlIGluIHRpdGxlXG4gICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgIGxpbmtEZXRhaWxzWzZdID0gbGlua0RldGFpbHNbNl0uY29uY2F0KGNhcFswXSk7XG4gICAgICAgICAgICAgIGJyZWFrOyAvLyBXaGl0ZXNwYWNlIGFmdGVyIGNsb3NpbmcgZGVsaW1pdGVyXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIFdlIHNob3VsZCBuZXZlciBnZXQgaGVyZVxuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50T2Zmc2V0ICs9IGNhcFswXS5sZW5ndGg7XG4gICAgICAgICAgY29udGludWUgaW5saW5lT3V0ZXI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQcm9jZXNzIGJhY2tzbGFzaCBlc2NhcGVzXG4gICAgICAgIGNhcCA9IGlubGluZUdyYW1tYXIuZXNjYXBlLnJlZ2V4cC5leGVjKHN0cmluZyk7XG4gICAgICAgIGlmIChjYXApIHtcbiAgICAgICAgICBzd2l0Y2ggKGxpbmtEZXRhaWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBsaW5rRGV0YWlscy5wdXNoKFwiXCIpOyAvLyB0aGlzIG9wZW5zIHRoZSBsaW5rIGRlc3RpbmF0aW9uLCBhZGQgZW1wdHkgb3BlbmluZyBkZWxpbWl0ZXIgYW5kIHByb2NlZWQgdG8gbmV4dCBjYXNlXG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIGxpbmtEZXRhaWxzLnB1c2goY2FwWzBdKTtcbiAgICAgICAgICAgICAgYnJlYWs7IC8vIFRoaXMgb3BlbnMgdGhlIGxpbmsgZGVzdGluYXRpb24sIGFwcGVuZCBpdFxuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBsaW5rRGV0YWlsc1sxXSA9IGxpbmtEZXRhaWxzWzFdLmNvbmNhdChjYXBbMF0pO1xuICAgICAgICAgICAgICBicmVhazsgLy8gUGFydCBvZiB0aGUgbGluayBkZXN0aW5hdGlvblxuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIExhY2tpbmcgb3BlbmluZyBkZWxpbWl0ZXIgZm9yIGxpbmsgdGl0bGVcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBMY2FraW5nIG9wZW5pbmcgZGVsaW1pdGVyIGZvciBsaW5rIHRpdGxlXG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGxpbmtEZXRhaWxzLnB1c2goXCJcIik7IC8vIFRoaXMgb3BlbnMgdGhlIGxpbmsgdGl0bGVcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgbGlua0RldGFpbHNbNV0gPSBsaW5rRGV0YWlsc1s1XS5jb25jYXQoY2FwWzBdKTtcbiAgICAgICAgICAgICAgYnJlYWs7IC8vIFBhcnQgb2YgdGhlIGxpbmsgdGl0bGVcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gQWZ0ZXIgbGluayB0aXRsZSB3YXMgY2xvc2VkLCB3aXRob3V0IGNsb3NpbmcgcGFyZW50aGVzaXNcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudE9mZnNldCArPSBjYXBbMF0ubGVuZ3RoO1xuICAgICAgICAgIGNvbnRpbnVlIGlubGluZU91dGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJvY2VzcyBvcGVuaW5nIGFuZ2xlIGJyYWNrZXQgYXMgZGVpbGltaXRlciBvZiBkZXN0aW5hdGlvblxuICAgICAgICBpZiAobGlua0RldGFpbHMubGVuZ3RoIDwgMiAmJiBzdHJpbmcubWF0Y2goL148LykpIHtcbiAgICAgICAgICBpZiAobGlua0RldGFpbHMubGVuZ3RoID09IDApIGxpbmtEZXRhaWxzLnB1c2goXCJcIik7XG4gICAgICAgICAgbGlua0RldGFpbHNbMF0gPSBsaW5rRGV0YWlsc1swXS5jb25jYXQoXCI8XCIpO1xuICAgICAgICAgIGN1cnJlbnRPZmZzZXQrKztcbiAgICAgICAgICBjb250aW51ZSBpbmxpbmVPdXRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByb2Nlc3MgY2xvc2luZyBhbmdsZSBicmFja2V0IGFzIGRlbGltaXRlciBvZiBkZXN0aW5hdGlvblxuICAgICAgICBpZiAoXG4gICAgICAgICAgKGxpbmtEZXRhaWxzLmxlbmd0aCA9PSAxIHx8IGxpbmtEZXRhaWxzLmxlbmd0aCA9PSAyKSAmJlxuICAgICAgICAgIHN0cmluZy5tYXRjaCgvXj4vKVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAobGlua0RldGFpbHMubGVuZ3RoID09IDEpIGxpbmtEZXRhaWxzLnB1c2goXCJcIik7IC8vIEVtcHR5IGxpbmsgZGVzdGluYXRpb25cbiAgICAgICAgICBsaW5rRGV0YWlscy5wdXNoKFwiPlwiKTtcbiAgICAgICAgICBjdXJyZW50T2Zmc2V0Kys7XG4gICAgICAgICAgY29udGludWUgaW5saW5lT3V0ZXI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQcm9jZXNzICBub24tcGFyZW50aGVzaXMgZGVsaW1pdGVyIGZvciB0aXRsZS5cbiAgICAgICAgY2FwID0gL15bXCInXS8uZXhlYyhzdHJpbmcpO1xuICAgICAgICAvLyBGb3IgdGhpcyB0byBiZSBhIHZhbGlkIG9wZW5lciwgd2UgaGF2ZSB0byBlaXRoZXIgaGF2ZSBubyBkZXN0aW5hdGlvbiwgb25seSB3aGl0ZXNwYWNlIHNvIGZhcixcbiAgICAgICAgLy8gb3IgYSBkZXN0aW5hdGlvbiB3aXRoIHRyYWlsaW5nIHdoaXRlc3BhY2UuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBjYXAgJiZcbiAgICAgICAgICAobGlua0RldGFpbHMubGVuZ3RoID09IDAgfHxcbiAgICAgICAgICAgIGxpbmtEZXRhaWxzLmxlbmd0aCA9PSAxIHx8XG4gICAgICAgICAgICBsaW5rRGV0YWlscy5sZW5ndGggPT0gNClcbiAgICAgICAgKSB7XG4gICAgICAgICAgd2hpbGUgKGxpbmtEZXRhaWxzLmxlbmd0aCA8IDQpIGxpbmtEZXRhaWxzLnB1c2goXCJcIik7XG4gICAgICAgICAgbGlua0RldGFpbHMucHVzaChjYXBbMF0pO1xuICAgICAgICAgIGN1cnJlbnRPZmZzZXQrKztcbiAgICAgICAgICBjb250aW51ZSBpbmxpbmVPdXRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvciB0aGlzIHRvIGJlIGEgdmFsaWQgY2xvc2VyLCB3ZSBoYXZlIHRvIGhhdmUgYW4gb3BlbmVyIGFuZCBzb21lIG9yIG5vIHRpdGxlLCBhbmQgdGhpcyBoYXMgdG8gbWF0Y2ggdGhlIG9wZW5lclxuICAgICAgICBpZiAoXG4gICAgICAgICAgY2FwICYmXG4gICAgICAgICAgKGxpbmtEZXRhaWxzLmxlbmd0aCA9PSA1IHx8IGxpbmtEZXRhaWxzLmxlbmd0aCA9PSA2KSAmJlxuICAgICAgICAgIGxpbmtEZXRhaWxzWzRdID09IGNhcFswXVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAobGlua0RldGFpbHMubGVuZ3RoID09IDUpIGxpbmtEZXRhaWxzLnB1c2goXCJcIik7IC8vIEVtcHR5IGxpbmsgdGl0bGVcbiAgICAgICAgICBsaW5rRGV0YWlscy5wdXNoKGNhcFswXSk7XG4gICAgICAgICAgY3VycmVudE9mZnNldCsrO1xuICAgICAgICAgIGNvbnRpbnVlIGlubGluZU91dGVyO1xuICAgICAgICB9XG4gICAgICAgIC8vIE90aGVyIGNhc2VzIChsaW5rRGV0YWlscy5sZW5ndGggPT0gMiwgMywgNykgd2lsbCBiZSBoYW5kbGVkIHdpdGggdGhlIFwiZGVmYXVsdFwiIGNhc2UgYmVsb3cuXG5cbiAgICAgICAgLy8gUHJvY2VzcyBvcGVuaW5nIHBhcmVudGhlc2lzXG4gICAgICAgIGlmIChzdHJpbmcubWF0Y2goL15cXCgvKSkge1xuICAgICAgICAgIHN3aXRjaCAobGlua0RldGFpbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIGxpbmtEZXRhaWxzLnB1c2goXCJcIik7IC8vIHRoaXMgb3BlbnMgdGhlIGxpbmsgZGVzdGluYXRpb24sIGFkZCBlbXB0eSBvcGVuaW5nIGRlbGltaXRlciBhbmQgcHJvY2VlZCB0byBuZXh0IGNhc2VcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgbGlua0RldGFpbHMucHVzaChcIlwiKTsgLy8gVGhpcyBvcGVucyB0aGUgbGluayBkZXN0aW5hdGlvblxuICAgICAgICAgICAgY2FzZSAyOiAvLyBQYXJ0IG9mIHRoZSBsaW5rIGRlc3RpbmF0aW9uXG4gICAgICAgICAgICAgIGxpbmtEZXRhaWxzWzFdID0gbGlua0RldGFpbHNbMV0uY29uY2F0KFwiKFwiKTtcbiAgICAgICAgICAgICAgaWYgKCFsaW5rRGV0YWlsc1swXS5tYXRjaCgvPCQvKSkgcGFyZW50aGVzaXNMZXZlbCsrO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgbGlua0RldGFpbHMucHVzaChcIlwiKTsgLy8gIG9wZW5pbmcgZGVsaW1pdGVyIGZvciBsaW5rIHRpdGxlXG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGxpbmtEZXRhaWxzLnB1c2goXCIoXCIpO1xuICAgICAgICAgICAgICBicmVhazsgLy8gb3BlbmluZyBkZWxpbWl0ZXIgZm9yIGxpbmsgdGl0bGVcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgbGlua0RldGFpbHMucHVzaChcIlwiKTsgLy8gb3BlbnMgdGhlIGxpbmsgdGl0bGUsIGFkZCBlbXB0eSB0aXRsZSBjb250ZW50IGFuZCBwcm9jZWVkIHRvIG5leHQgY2FzZVxuICAgICAgICAgICAgY2FzZSA2OiAvLyBQYXJ0IG9mIHRoZSBsaW5rIHRpdGxlLiBVbi1lc2NhcGVkIHBhcmVudGhlc2lzIG9ubHkgYWxsb3dlZCBpbiBcIiBvciAnIGRlbGltaXRlZCB0aXRsZVxuICAgICAgICAgICAgICBpZiAobGlua0RldGFpbHNbNF0gPT0gXCIoXCIpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgbGlua0RldGFpbHNbNV0gPSBsaW5rRGV0YWlsc1s1XS5jb25jYXQoXCIoXCIpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gQWZ0ZXIgbGluayB0aXRsZSB3YXMgY2xvc2VkLCB3aXRob3V0IGNsb3NpbmcgcGFyZW50aGVzaXNcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudE9mZnNldCsrO1xuICAgICAgICAgIGNvbnRpbnVlIGlubGluZU91dGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJvY2VzcyBjbG9zaW5nIHBhcmVudGhlc2lzXG4gICAgICAgIGlmIChzdHJpbmcubWF0Y2goL15cXCkvKSkge1xuICAgICAgICAgIGlmIChsaW5rRGV0YWlscy5sZW5ndGggPD0gMikge1xuICAgICAgICAgICAgLy8gV2UgYXJlIGluc2lkZSB0aGUgbGluayBkZXN0aW5hdGlvbi4gUGFyZW50aGVzZXMgaGF2ZSB0byBiZSBtYXRjaGVkIGlmIG5vdCBpbiBhbmdsZSBicmFja2V0c1xuICAgICAgICAgICAgd2hpbGUgKGxpbmtEZXRhaWxzLmxlbmd0aCA8IDIpIGxpbmtEZXRhaWxzLnB1c2goXCJcIik7XG5cbiAgICAgICAgICAgIGlmICghbGlua0RldGFpbHNbMF0ubWF0Y2goLzwkLykpIHBhcmVudGhlc2lzTGV2ZWwtLTtcblxuICAgICAgICAgICAgaWYgKHBhcmVudGhlc2lzTGV2ZWwgPiAwKSB7XG4gICAgICAgICAgICAgIGxpbmtEZXRhaWxzWzFdID0gbGlua0RldGFpbHNbMV0uY29uY2F0KFwiKVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGxpbmtEZXRhaWxzLmxlbmd0aCA9PSA1IHx8IGxpbmtEZXRhaWxzLmxlbmd0aCA9PSA2KSB7XG4gICAgICAgICAgICAvLyBXZSBhcmUgaW5zaWRlIHRoZSBsaW5rIHRpdGxlLlxuICAgICAgICAgICAgaWYgKGxpbmtEZXRhaWxzWzRdID09IFwiKFwiKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgY2xvc2VzIHRoZSBsaW5rIHRpdGxlXG4gICAgICAgICAgICAgIGlmIChsaW5rRGV0YWlscy5sZW5ndGggPT0gNSkgbGlua0RldGFpbHMucHVzaChcIlwiKTtcbiAgICAgICAgICAgICAgbGlua0RldGFpbHMucHVzaChcIilcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBKdXN0IHJlZ3VsYXIgb2wnIGNvbnRlbnRcbiAgICAgICAgICAgICAgaWYgKGxpbmtEZXRhaWxzLmxlbmd0aCA9PSA1KSBsaW5rRGV0YWlscy5wdXNoKFwiKVwiKTtcbiAgICAgICAgICAgICAgZWxzZSBsaW5rRGV0YWlsc1s1XSA9IGxpbmtEZXRhaWxzWzVdLmNvbmNhdChcIilcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcmVudGhlc2lzTGV2ZWwtLTsgLy8gVGhpcyBzaG91bGQgZGVjcmVhc2UgaXQgZnJvbSAxIHRvIDAuLi5cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocGFyZW50aGVzaXNMZXZlbCA9PSAwKSB7XG4gICAgICAgICAgICAvLyBObyBpbnZhbGlkIGNvbmRpdGlvbiwgbGV0J3MgbWFrZSBzdXJlIHRoZSBsaW5rRGV0YWlscyBhcnJheSBpcyBjb21wbGV0ZVxuICAgICAgICAgICAgd2hpbGUgKGxpbmtEZXRhaWxzLmxlbmd0aCA8IDcpIGxpbmtEZXRhaWxzLnB1c2goXCJcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY3VycmVudE9mZnNldCsrO1xuICAgICAgICAgIGNvbnRpbnVlIGlubGluZU91dGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQW55IG9sZCBjaGFyYWN0ZXJcbiAgICAgICAgY2FwID0gL14uLy5leGVjKHN0cmluZyk7XG4gICAgICAgIGlmIChjYXApIHtcbiAgICAgICAgICBzd2l0Y2ggKGxpbmtEZXRhaWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBsaW5rRGV0YWlscy5wdXNoKFwiXCIpOyAvLyB0aGlzIG9wZW5zIHRoZSBsaW5rIGRlc3RpbmF0aW9uLCBhZGQgZW1wdHkgb3BlbmluZyBkZWxpbWl0ZXIgYW5kIHByb2NlZWQgdG8gbmV4dCBjYXNlXG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIGxpbmtEZXRhaWxzLnB1c2goY2FwWzBdKTtcbiAgICAgICAgICAgICAgYnJlYWs7IC8vIFRoaXMgb3BlbnMgdGhlIGxpbmsgZGVzdGluYXRpb24sIGFwcGVuZCBpdFxuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBsaW5rRGV0YWlsc1sxXSA9IGxpbmtEZXRhaWxzWzFdLmNvbmNhdChjYXBbMF0pO1xuICAgICAgICAgICAgICBicmVhazsgLy8gUGFydCBvZiB0aGUgbGluayBkZXN0aW5hdGlvblxuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIExhY2tpbmcgb3BlbmluZyBkZWxpbWl0ZXIgZm9yIGxpbmsgdGl0bGVcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBMY2FraW5nIG9wZW5pbmcgZGVsaW1pdGVyIGZvciBsaW5rIHRpdGxlXG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGxpbmtEZXRhaWxzLnB1c2goXCJcIik7IC8vIFRoaXMgb3BlbnMgdGhlIGxpbmsgdGl0bGVcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgbGlua0RldGFpbHNbNV0gPSBsaW5rRGV0YWlsc1s1XS5jb25jYXQoY2FwWzBdKTtcbiAgICAgICAgICAgICAgYnJlYWs7IC8vIFBhcnQgb2YgdGhlIGxpbmsgdGl0bGVcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gQWZ0ZXIgbGluayB0aXRsZSB3YXMgY2xvc2VkLCB3aXRob3V0IGNsb3NpbmcgcGFyZW50aGVzaXNcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudE9mZnNldCArPSBjYXBbMF0ubGVuZ3RoO1xuICAgICAgICAgIGNvbnRpbnVlIGlubGluZU91dGVyO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IFwiSW5maW5pdGUgbG9vcFwiOyAvLyB3ZSBzaG91bGQgbmV2ZXIgZ2V0IGhlcmUgc2luY2UgdGhlIGxhc3QgdGVzdCBtYXRjaGVzIGFueSBjaGFyYWN0ZXJcbiAgICAgIH1cbiAgICAgIGlmIChwYXJlbnRoZXNpc0xldmVsID4gMCkgcmV0dXJuIGZhbHNlOyAvLyBQYXJlbnRoZXMoZXMpIG5vdCBjbG9zZWRcbiAgICB9XG5cbiAgICBpZiAobGlua1JlZiAhPT0gZmFsc2UpIHtcbiAgICAgIC8vIFJlZiBsaW5rOyBjaGVjayB0aGF0IGxpbmtSZWYgaXMgdmFsaWRcbiAgICAgIGxldCB2YWxpZCA9IGZhbHNlO1xuICAgICAgZm9yIChsZXQgbGFiZWwgb2YgdGhpcy5saW5rTGFiZWxzKSB7XG4gICAgICAgIGlmIChsYWJlbCA9PSBsaW5rUmVmKSB7XG4gICAgICAgICAgdmFsaWQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgbGFiZWwgPSB2YWxpZFxuICAgICAgICA/IFwiVE1MaW5rTGFiZWwgVE1MaW5rTGFiZWxfVmFsaWRcIlxuICAgICAgICA6IFwiVE1MaW5rTGFiZWwgVE1MaW5rTGFiZWxfSW52YWxpZFwiO1xuICAgICAgbGV0IG91dHB1dCA9IGA8c3BhbiBjbGFzcz1cIlRNTWFyayBUTU1hcmtfJHt0eXBlfVwiPiR7b3BlbmVyfTwvc3Bhbj48c3BhbiBjbGFzcz1cIiR7dHlwZX0gJHtcbiAgICAgICAgbGlua0xhYmVsLmxlbmd0aCA8IDMgfHwgIWxpbmtMYWJlbFsxXSA/IGxhYmVsIDogXCJcIlxuICAgICAgfVwiPiR7dGhpcy5wcm9jZXNzSW5saW5lU3R5bGVzKFxuICAgICAgICBsaW5rVGV4dFxuICAgICAgKX08L3NwYW4+PHNwYW4gY2xhc3M9XCJUTU1hcmsgVE1NYXJrXyR7dHlwZX1cIj5dPC9zcGFuPmA7XG5cbiAgICAgIGlmIChsaW5rTGFiZWwubGVuZ3RoID49IDMpIHtcbiAgICAgICAgb3V0cHV0ID0gb3V0cHV0LmNvbmNhdChcbiAgICAgICAgICBgPHNwYW4gY2xhc3M9XCJUTU1hcmsgVE1NYXJrXyR7dHlwZX1cIj4ke2xpbmtMYWJlbFswXX08L3NwYW4+YCxcbiAgICAgICAgICBgPHNwYW4gY2xhc3M9XCIke2xhYmVsfVwiPiR7bGlua0xhYmVsWzFdfTwvc3Bhbj5gLFxuICAgICAgICAgIGA8c3BhbiBjbGFzcz1cIlRNTWFyayBUTU1hcmtfJHt0eXBlfVwiPiR7bGlua0xhYmVsWzJdfTwvc3Bhbj5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvdXRwdXQ6IG91dHB1dCxcbiAgICAgICAgY2hhckNvdW50OiBjdXJyZW50T2Zmc2V0LFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGxpbmtEZXRhaWxzKSB7XG4gICAgICAvLyBJbmxpbmUgbGlua1xuXG4gICAgICAvLyBUaGlzIHNob3VsZCBuZXZlciBoYXBwZW4sIGJ1dCBiZXR0ZXIgc2FmZSB0aGFuIHNvcnJ5LlxuICAgICAgd2hpbGUgKGxpbmtEZXRhaWxzLmxlbmd0aCA8IDcpIHtcbiAgICAgICAgbGlua0RldGFpbHMucHVzaChcIlwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb3V0cHV0OiBgPHNwYW4gY2xhc3M9XCJUTU1hcmsgVE1NYXJrXyR7dHlwZX1cIj4ke29wZW5lcn08L3NwYW4+PHNwYW4gY2xhc3M9XCIke3R5cGV9XCI+JHt0aGlzLnByb2Nlc3NJbmxpbmVTdHlsZXMoXG4gICAgICAgICAgbGlua1RleHRcbiAgICAgICAgKX08L3NwYW4+PHNwYW4gY2xhc3M9XCJUTU1hcmsgVE1NYXJrXyR7dHlwZX1cIj5dKCR7XG4gICAgICAgICAgbGlua0RldGFpbHNbMF1cbiAgICAgICAgfTwvc3Bhbj48c3BhbiBjbGFzcz1cIiR7dHlwZX1EZXN0aW5hdGlvblwiPiR7XG4gICAgICAgICAgbGlua0RldGFpbHNbMV1cbiAgICAgICAgfTwvc3Bhbj48c3BhbiBjbGFzcz1cIlRNTWFyayBUTU1hcmtfJHt0eXBlfVwiPiR7bGlua0RldGFpbHNbMl19JHtcbiAgICAgICAgICBsaW5rRGV0YWlsc1szXVxuICAgICAgICB9JHtsaW5rRGV0YWlsc1s0XX08L3NwYW4+PHNwYW4gY2xhc3M9XCIke3R5cGV9VGl0bGVcIj4ke1xuICAgICAgICAgIGxpbmtEZXRhaWxzWzVdXG4gICAgICAgIH08L3NwYW4+PHNwYW4gY2xhc3M9XCJUTU1hcmsgVE1NYXJrXyR7dHlwZX1cIj4ke2xpbmtEZXRhaWxzWzZdfSk8L3NwYW4+YCxcbiAgICAgICAgY2hhckNvdW50OiBjdXJyZW50T2Zmc2V0LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0cyBhIG1hcmtkb3duIHN0cmluZyBhcyBIVE1MLCB1c2luZyBNYXJrZG93biBpbmxpbmUgZm9ybWF0dGluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG9yaWdpbmFsU3RyaW5nIFRoZSBpbnB1dCAobWFya2Rvd24gaW5saW5lIGZvcm1hdHRlZCkgc3RyaW5nXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBIVE1MIGZvcm1hdHRlZCBvdXRwdXRcbiAgICovXG4gIHByb2Nlc3NJbmxpbmVTdHlsZXMob3JpZ2luYWxTdHJpbmcpIHtcbiAgICBsZXQgcHJvY2Vzc2VkID0gXCJcIjtcbiAgICBsZXQgc3RhY2sgPSBbXTsgLy8gU3RhY2sgaXMgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvZiB0aGUgZm9ybWF0OiB7ZGVsaW1pdGVyLCBkZWxpbVN0cmluZywgY291bnQsIG91dHB1dH1cbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBsZXQgc3RyaW5nID0gb3JpZ2luYWxTdHJpbmc7XG5cbiAgICBvdXRlcjogd2hpbGUgKHN0cmluZykge1xuICAgICAgLy8gUHJvY2VzcyBzaW1wbGUgcnVsZXMgKG5vbi1kZWxpbWl0ZXIpXG4gICAgICBmb3IgKGxldCBydWxlIG9mIFtcImVzY2FwZVwiLCBcImNvZGVcIiwgXCJhdXRvbGlua1wiLCBcImh0bWxcIl0pIHtcbiAgICAgICAgbGV0IGNhcCA9IGlubGluZUdyYW1tYXJbcnVsZV0ucmVnZXhwLmV4ZWMoc3RyaW5nKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHIoY2FwWzBdLmxlbmd0aCk7XG4gICAgICAgICAgb2Zmc2V0ICs9IGNhcFswXS5sZW5ndGg7XG4gICAgICAgICAgcHJvY2Vzc2VkICs9IGlubGluZUdyYW1tYXJbcnVsZV0ucmVwbGFjZW1lbnRcbiAgICAgICAgICAgIC8vIC5yZXBsYWNlKC9cXCRcXCQoWzEtOV0pL2csIChzdHIsIHAxKSA9PiBwcm9jZXNzSW5saW5lU3R5bGVzKGNhcFtwMV0pKSAvLyB0b2RvIHJlY3Vyc2l2ZSBjYWxsaW5nXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwkKFsxLTldKS9nLCAoc3RyLCBwMSkgPT4gaHRtbGVzY2FwZShjYXBbcDFdKSk7XG4gICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgZm9yIGxpbmtzIC8gaW1hZ2VzXG4gICAgICBsZXQgcG90ZW50aWFsTGluayA9IHN0cmluZy5tYXRjaChpbmxpbmVHcmFtbWFyLmxpbmtPcGVuLnJlZ2V4cCk7XG4gICAgICBsZXQgcG90ZW50aWFsSW1hZ2UgPSBzdHJpbmcubWF0Y2goaW5saW5lR3JhbW1hci5pbWFnZU9wZW4ucmVnZXhwKTtcbiAgICAgIGlmIChwb3RlbnRpYWxJbWFnZSB8fCBwb3RlbnRpYWxMaW5rKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLnBhcnNlTGlua09ySW1hZ2Uoc3RyaW5nLCBwb3RlbnRpYWxJbWFnZSk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBwcm9jZXNzZWQgPSBgJHtwcm9jZXNzZWR9JHtyZXN1bHQub3V0cHV0fWA7XG4gICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cihyZXN1bHQuY2hhckNvdW50KTtcbiAgICAgICAgICBvZmZzZXQgKz0gcmVzdWx0LmNoYXJDb3VudDtcbiAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBmb3IgZW0gLyBzdHJvbmcgZGVsaW1pdGVyc1xuICAgICAgbGV0IGNhcCA9IC8oXlxcKispfCheXyspLy5leGVjKHN0cmluZyk7XG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIGxldCBkZWxpbUNvdW50ID0gY2FwWzBdLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZGVsaW1TdHJpbmcgPSBjYXBbMF07XG4gICAgICAgIGNvbnN0IGN1cnJlbnREZWxpbWl0ZXIgPSBjYXBbMF1bMF07IC8vIFRoaXMgc2hvdWxkIGJlICogb3IgX1xuXG4gICAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHIoY2FwWzBdLmxlbmd0aCk7XG5cbiAgICAgICAgLy8gV2UgaGF2ZSBhIGRlbGltaXRlciBydW4uIExldCdzIGNoZWNrIGlmIGl0IGNhbiBvcGVuIG9yIGNsb3NlIGFuIGVtcGhhc2lzLlxuXG4gICAgICAgIGNvbnN0IHByZWNlZGluZyA9IG9mZnNldCA+IDAgPyBvcmlnaW5hbFN0cmluZy5zdWJzdHIoMCwgb2Zmc2V0KSA6IFwiIFwiOyAvLyBiZWdpbm5pbmcgYW5kIGVuZCBvZiBsaW5lIGNvdW50IGFzIHdoaXRlc3BhY2VcbiAgICAgICAgY29uc3QgZm9sbG93aW5nID1cbiAgICAgICAgICBvZmZzZXQgKyBjYXBbMF0ubGVuZ3RoIDwgb3JpZ2luYWxTdHJpbmcubGVuZ3RoID8gc3RyaW5nIDogXCIgXCI7XG5cbiAgICAgICAgY29uc3QgcHVuY3R1YXRpb25Gb2xsb3dzID0gZm9sbG93aW5nLm1hdGNoKHB1bmN0dWF0aW9uTGVhZGluZyk7XG4gICAgICAgIGNvbnN0IHB1bmN0dWF0aW9uUHJlY2VkZXMgPSBwcmVjZWRpbmcubWF0Y2gocHVuY3R1YXRpb25UcmFpbGluZyk7XG4gICAgICAgIGNvbnN0IHdoaXRlc3BhY2VGb2xsb3dzID0gZm9sbG93aW5nLm1hdGNoKC9eXFxzLyk7XG4gICAgICAgIGNvbnN0IHdoaXRlc3BhY2VQcmVjZWRlcyA9IHByZWNlZGluZy5tYXRjaCgvXFxzJC8pO1xuXG4gICAgICAgIC8vIFRoZXNlIGFyZSB0aGUgcnVsZXMgZm9yIHJpZ2h0LWZsYW5raW5nIGFuZCBsZWZ0LWZsYW5raW5nIGRlbGltaXRlciBydW5zIGFzIHBlciBDb21tb25NYXJrIHNwZWNcbiAgICAgICAgbGV0IGNhbk9wZW4gPVxuICAgICAgICAgICF3aGl0ZXNwYWNlRm9sbG93cyAmJlxuICAgICAgICAgICghcHVuY3R1YXRpb25Gb2xsb3dzIHx8XG4gICAgICAgICAgICAhIXdoaXRlc3BhY2VQcmVjZWRlcyB8fFxuICAgICAgICAgICAgISFwdW5jdHVhdGlvblByZWNlZGVzKTtcbiAgICAgICAgbGV0IGNhbkNsb3NlID1cbiAgICAgICAgICAhd2hpdGVzcGFjZVByZWNlZGVzICYmXG4gICAgICAgICAgKCFwdW5jdHVhdGlvblByZWNlZGVzIHx8ICEhd2hpdGVzcGFjZUZvbGxvd3MgfHwgISFwdW5jdHVhdGlvbkZvbGxvd3MpO1xuXG4gICAgICAgIC8vIFVuZGVyc2NvcmVzIGhhdmUgbW9yZSBkZXRhaWxlZCBydWxlcyB0aGFuIGp1c3QgYmVpbmcgcGFydCBvZiBsZWZ0LSBvciByaWdodC1mbGFua2luZyBydW46XG4gICAgICAgIGlmIChjdXJyZW50RGVsaW1pdGVyID09IFwiX1wiICYmIGNhbk9wZW4gJiYgY2FuQ2xvc2UpIHtcbiAgICAgICAgICBjYW5PcGVuID0gcHVuY3R1YXRpb25QcmVjZWRlcztcbiAgICAgICAgICBjYW5DbG9zZSA9IHB1bmN0dWF0aW9uRm9sbG93cztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZSBkZWxpbWl0ZXIgY2FuIGNsb3NlLCBjaGVjayB0aGUgc3RhY2sgaWYgdGhlcmUncyBzb21ldGhpbmcgaXQgY2FuIGNsb3NlXG4gICAgICAgIGlmIChjYW5DbG9zZSkge1xuICAgICAgICAgIGxldCBzdGFja1BvaW50ZXIgPSBzdGFjay5sZW5ndGggLSAxO1xuICAgICAgICAgIC8vIFNlZSBpZiB3ZSBjYW4gZmluZCBhIG1hdGNoaW5nIG9wZW5pbmcgZGVsaW1pdGVyLCBtb3ZlIGRvd24gdGhyb3VnaCB0aGUgc3RhY2tcbiAgICAgICAgICB3aGlsZSAoZGVsaW1Db3VudCAmJiBzdGFja1BvaW50ZXIgPj0gMCkge1xuICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrUG9pbnRlcl0uZGVsaW1pdGVyID09IGN1cnJlbnREZWxpbWl0ZXIpIHtcbiAgICAgICAgICAgICAgLy8gV2UgZm91bmQgYSBtYXRjaGluZyBkZWxpbWl0ZXIsIGxldCdzIGNvbnN0cnVjdCB0aGUgZm9ybWF0dGVkIHN0cmluZ1xuXG4gICAgICAgICAgICAgIC8vIEZpcnN0bHksIGlmIHdlIHNraXBwZWQgYW55IHN0YWNrIGxldmVscywgcG9wIHRoZW0gaW1tZWRpYXRlbHkgKG5vbi1tYXRjaGluZyBkZWxpbWl0ZXJzKVxuICAgICAgICAgICAgICB3aGlsZSAoc3RhY2tQb2ludGVyIDwgc3RhY2subGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkID0gYCR7ZW50cnkub3V0cHV0fSR7ZW50cnkuZGVsaW1TdHJpbmcuc3Vic3RyKFxuICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgIGVudHJ5LmNvdW50XG4gICAgICAgICAgICAgICAgKX0ke3Byb2Nlc3NlZH1gO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gVGhlbiwgZm9ybWF0IHRoZSBzdHJpbmdcbiAgICAgICAgICAgICAgaWYgKGRlbGltQ291bnQgPj0gMiAmJiBzdGFja1tzdGFja1BvaW50ZXJdLmNvdW50ID49IDIpIHtcbiAgICAgICAgICAgICAgICAvLyBTdHJvbmdcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWQgPSBgPHNwYW4gY2xhc3M9XCJUTU1hcmtcIj4ke2N1cnJlbnREZWxpbWl0ZXJ9JHtjdXJyZW50RGVsaW1pdGVyfTwvc3Bhbj48c3Ryb25nIGNsYXNzPVwiVE1TdHJvbmdcIj4ke3Byb2Nlc3NlZH08L3N0cm9uZz48c3BhbiBjbGFzcz1cIlRNTWFya1wiPiR7Y3VycmVudERlbGltaXRlcn0ke2N1cnJlbnREZWxpbWl0ZXJ9PC9zcGFuPmA7XG4gICAgICAgICAgICAgICAgZGVsaW1Db3VudCAtPSAyO1xuICAgICAgICAgICAgICAgIHN0YWNrW3N0YWNrUG9pbnRlcl0uY291bnQgLT0gMjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBFbVxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZCA9IGA8c3BhbiBjbGFzcz1cIlRNTWFya1wiPiR7Y3VycmVudERlbGltaXRlcn08L3NwYW4+PGVtIGNsYXNzPVwiVE1FbVwiPiR7cHJvY2Vzc2VkfTwvZW0+PHNwYW4gY2xhc3M9XCJUTU1hcmtcIj4ke2N1cnJlbnREZWxpbWl0ZXJ9PC9zcGFuPmA7XG4gICAgICAgICAgICAgICAgZGVsaW1Db3VudCAtPSAxO1xuICAgICAgICAgICAgICAgIHN0YWNrW3N0YWNrUG9pbnRlcl0uY291bnQgLT0gMTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIElmIHRoYXQgc3RhY2sgbGV2ZWwgaXMgZW1wdHkgbm93LCBwb3AgaXRcbiAgICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrUG9pbnRlcl0uY291bnQgPT0gMCkge1xuICAgICAgICAgICAgICAgIGxldCBlbnRyeSA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIHByb2Nlc3NlZCA9IGAke2VudHJ5Lm91dHB1dH0ke3Byb2Nlc3NlZH1gO1xuICAgICAgICAgICAgICAgIHN0YWNrUG9pbnRlci0tO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBUaGlzIHN0YWNrIGxldmVsJ3MgZGVsaW1pdGVyIHR5cGUgZG9lc24ndCBtYXRjaCB0aGUgY3VycmVudCBkZWxpbWl0ZXIgdHlwZVxuICAgICAgICAgICAgICAvLyBHbyBkb3duIG9uZSBsZXZlbCBpbiB0aGUgc3RhY2tcbiAgICAgICAgICAgICAgc3RhY2tQb2ludGVyLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBzdGlsbCBkZWxpbWl0ZXJzIGxlZnQsIGFuZCB0aGUgZGVsaW1pdGVyIHJ1biBjYW4gb3BlbiwgcHVzaCBpdCBvbiB0aGUgc3RhY2tcbiAgICAgICAgaWYgKGRlbGltQ291bnQgJiYgY2FuT3Blbikge1xuICAgICAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICAgICAgZGVsaW1pdGVyOiBjdXJyZW50RGVsaW1pdGVyLFxuICAgICAgICAgICAgZGVsaW1TdHJpbmc6IGRlbGltU3RyaW5nLFxuICAgICAgICAgICAgY291bnQ6IGRlbGltQ291bnQsXG4gICAgICAgICAgICBvdXRwdXQ6IHByb2Nlc3NlZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwcm9jZXNzZWQgPSBcIlwiOyAvLyBDdXJyZW50IGZvcm1hdHRlZCBvdXRwdXQgaGFzIGJlZW4gcHVzaGVkIG9uIHRoZSBzdGFjayBhbmQgd2lsbCBiZSBwcmVwZW5kZWQgd2hlbiB0aGUgc3RhY2sgZ2V0cyBwb3BwZWRcbiAgICAgICAgICBkZWxpbUNvdW50ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFueSBkZWxpbWl0ZXJzIHRoYXQgYXJlIGxlZnQgKGNsb3NpbmcgdW5tYXRjaGVkKSBhcmUgYXBwZW5kZWQgdG8gdGhlIG91dHB1dC5cbiAgICAgICAgaWYgKGRlbGltQ291bnQpIHtcbiAgICAgICAgICBwcm9jZXNzZWQgPSBgJHtwcm9jZXNzZWR9JHtkZWxpbVN0cmluZy5zdWJzdHIoMCwgZGVsaW1Db3VudCl9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIG9mZnNldCArPSBjYXBbMF0ubGVuZ3RoO1xuICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgZm9yIHN0cmlrZXRocm91Z2ggZGVsaW1pdGVyXG4gICAgICBjYXAgPSAvXn5+Ly5leGVjKHN0cmluZyk7XG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIGxldCBjb25zdW1lZCA9IGZhbHNlO1xuICAgICAgICBsZXQgc3RhY2tQb2ludGVyID0gc3RhY2subGVuZ3RoIC0gMTtcbiAgICAgICAgLy8gU2VlIGlmIHdlIGNhbiBmaW5kIGEgbWF0Y2hpbmcgb3BlbmluZyBkZWxpbWl0ZXIsIG1vdmUgZG93biB0aHJvdWdoIHRoZSBzdGFja1xuICAgICAgICB3aGlsZSAoIWNvbnN1bWVkICYmIHN0YWNrUG9pbnRlciA+PSAwKSB7XG4gICAgICAgICAgaWYgKHN0YWNrW3N0YWNrUG9pbnRlcl0uZGVsaW1pdGVyID09IFwiflwiKSB7XG4gICAgICAgICAgICAvLyBXZSBmb3VuZCBhIG1hdGNoaW5nIGRlbGltaXRlciwgbGV0J3MgY29uc3RydWN0IHRoZSBmb3JtYXR0ZWQgc3RyaW5nXG5cbiAgICAgICAgICAgIC8vIEZpcnN0bHksIGlmIHdlIHNraXBwZWQgYW55IHN0YWNrIGxldmVscywgcG9wIHRoZW0gaW1tZWRpYXRlbHkgKG5vbi1tYXRjaGluZyBkZWxpbWl0ZXJzKVxuICAgICAgICAgICAgd2hpbGUgKHN0YWNrUG9pbnRlciA8IHN0YWNrLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgY29uc3QgZW50cnkgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgcHJvY2Vzc2VkID0gYCR7ZW50cnkub3V0cHV0fSR7ZW50cnkuZGVsaW1TdHJpbmcuc3Vic3RyKFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgZW50cnkuY291bnRcbiAgICAgICAgICAgICAgKX0ke3Byb2Nlc3NlZH1gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUaGVuLCBmb3JtYXQgdGhlIHN0cmluZ1xuICAgICAgICAgICAgcHJvY2Vzc2VkID0gYDxzcGFuIGNsYXNzPVwiVE1NYXJrXCI+fn48L3NwYW4+PGRlbCBjbGFzcz1cIlRNU3RyaWtldGhyb3VnaFwiPiR7cHJvY2Vzc2VkfTwvZGVsPjxzcGFuIGNsYXNzPVwiVE1NYXJrXCI+fn48L3NwYW4+YDtcbiAgICAgICAgICAgIGxldCBlbnRyeSA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgcHJvY2Vzc2VkID0gYCR7ZW50cnkub3V0cHV0fSR7cHJvY2Vzc2VkfWA7XG4gICAgICAgICAgICBjb25zdW1lZCA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRoaXMgc3RhY2sgbGV2ZWwncyBkZWxpbWl0ZXIgdHlwZSBkb2Vzbid0IG1hdGNoIHRoZSBjdXJyZW50IGRlbGltaXRlciB0eXBlXG4gICAgICAgICAgICAvLyBHbyBkb3duIG9uZSBsZXZlbCBpbiB0aGUgc3RhY2tcbiAgICAgICAgICAgIHN0YWNrUG9pbnRlci0tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBzdGlsbCBkZWxpbWl0ZXJzIGxlZnQsIGFuZCB0aGUgZGVsaW1pdGVyIHJ1biBjYW4gb3BlbiwgcHVzaCBpdCBvbiB0aGUgc3RhY2tcbiAgICAgICAgaWYgKCFjb25zdW1lZCkge1xuICAgICAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICAgICAgZGVsaW1pdGVyOiBcIn5cIixcbiAgICAgICAgICAgIGRlbGltU3RyaW5nOiBcIn5+XCIsXG4gICAgICAgICAgICBjb3VudDogMixcbiAgICAgICAgICAgIG91dHB1dDogcHJvY2Vzc2VkLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHByb2Nlc3NlZCA9IFwiXCI7IC8vIEN1cnJlbnQgZm9ybWF0dGVkIG91dHB1dCBoYXMgYmVlbiBwdXNoZWQgb24gdGhlIHN0YWNrIGFuZCB3aWxsIGJlIHByZXBlbmRlZCB3aGVuIHRoZSBzdGFjayBnZXRzIHBvcHBlZFxuICAgICAgICB9XG5cbiAgICAgICAgb2Zmc2V0ICs9IGNhcFswXS5sZW5ndGg7XG4gICAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHIoY2FwWzBdLmxlbmd0aCk7XG4gICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgfVxuXG4gICAgICAvLyBQcm9jZXNzICdkZWZhdWx0JyBydWxlXG4gICAgICBjYXAgPSBpbmxpbmVHcmFtbWFyLmRlZmF1bHQucmVnZXhwLmV4ZWMoc3RyaW5nKTtcbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cihjYXBbMF0ubGVuZ3RoKTtcbiAgICAgICAgb2Zmc2V0ICs9IGNhcFswXS5sZW5ndGg7XG4gICAgICAgIHByb2Nlc3NlZCArPSBpbmxpbmVHcmFtbWFyLmRlZmF1bHQucmVwbGFjZW1lbnQucmVwbGFjZShcbiAgICAgICAgICAvXFwkKFsxLTldKS9nLFxuICAgICAgICAgIChzdHIsIHAxKSA9PiBodG1sZXNjYXBlKGNhcFtwMV0pXG4gICAgICAgICk7XG4gICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgfVxuICAgICAgdGhyb3cgXCJJbmZpbml0ZSBsb29wIVwiO1xuICAgIH1cblxuICAgIC8vIEVtcHR5IHRoZSBzdGFjaywgYW55IG9wZW5pbmcgZGVsaW1pdGVycyBhcmUgdW51c2VkXG4gICAgd2hpbGUgKHN0YWNrLmxlbmd0aCkge1xuICAgICAgY29uc3QgZW50cnkgPSBzdGFjay5wb3AoKTtcbiAgICAgIHByb2Nlc3NlZCA9IGAke2VudHJ5Lm91dHB1dH0ke2VudHJ5LmRlbGltU3RyaW5nLnN1YnN0cihcbiAgICAgICAgMCxcbiAgICAgICAgZW50cnkuY291bnRcbiAgICAgICl9JHtwcm9jZXNzZWR9YDtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvY2Vzc2VkO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgbGluZSBkaXJ0eSBmbGFnIChyZXNldHMgaXQgdG8gYW4gYXJyYXkgb2YgZmFsc2UpXG4gICAqL1xuICBjbGVhckRpcnR5RmxhZygpIHtcbiAgICB0aGlzLmxpbmVEaXJ0eSA9IG5ldyBBcnJheSh0aGlzLmxpbmVzLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpbmVEaXJ0eS5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5saW5lRGlydHlbaV0gPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY2xhc3MgcHJvcGVydGllcyAobGluZXMsIGxpbmVFbGVtZW50cykgZnJvbSB0aGUgRE9NLlxuICAgKiBAcmV0dXJucyB0cnVlIGlmIGNvbnRlbnRzIGNoYW5nZWRcbiAgICovXG4gIHVwZGF0ZUxpbmVDb250ZW50cygpIHtcbiAgICAvLyB0aGlzLmxpbmVEaXJ0eSA9IFtdO1xuICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgY2hhbmdlZCBhbnl0aGluZyBhYm91dCB0aGUgbnVtYmVyIG9mIGxpbmVzIChpbnNlcnRlZCBvciBkZWxldGVkIGEgcGFyYWdyYXBoKVxuICAgIC8vIDwgMCBtZWFucyBsaW5lKHMpIHJlbW92ZWQ7ID4gMCBtZWFucyBsaW5lKHMpIGFkZGVkXG4gICAgbGV0IGxpbmVEZWx0YSA9IHRoaXMuZS5jaGlsZEVsZW1lbnRDb3VudCAtIHRoaXMubGluZXMubGVuZ3RoO1xuICAgIGlmIChsaW5lRGVsdGEpIHtcbiAgICAgIC8vIHl1cC4gTGV0J3MgdHJ5IGhvdyBtdWNoIHdlIGNhbiBzYWx2YWdlIChmaW5kIG91dCB3aGljaCBsaW5lcyBmcm9tIGJlZ2lubmluZyBhbmQgZW5kIHdlcmUgdW5jaGFuZ2VkKVxuICAgICAgLy8gRmluZCBsaW5lcyBmcm9tIHRoZSBiZWdpbm5pbmcgdGhhdCBoYXZlbid0IGNoYW5nZWQuLi5cbiAgICAgIGxldCBmaXJzdENoYW5nZWRMaW5lID0gMDtcbiAgICAgIHdoaWxlIChcbiAgICAgICAgZmlyc3RDaGFuZ2VkTGluZSA8PSB0aGlzLmxpbmVzLmxlbmd0aCAmJlxuICAgICAgICBmaXJzdENoYW5nZWRMaW5lIDw9IHRoaXMubGluZUVsZW1lbnRzLmxlbmd0aCAmJlxuICAgICAgICB0aGlzLmxpbmVFbGVtZW50c1tmaXJzdENoYW5nZWRMaW5lXSAmJiAvLyBDaGVjayB0aGF0IHRoZSBsaW5lIGVsZW1lbnQgaGFzbid0IGJlZW4gZGVsZXRlZFxuICAgICAgICB0aGlzLmxpbmVzW2ZpcnN0Q2hhbmdlZExpbmVdID09XG4gICAgICAgICAgdGhpcy5saW5lRWxlbWVudHNbZmlyc3RDaGFuZ2VkTGluZV0udGV4dENvbnRlbnRcbiAgICAgICkge1xuICAgICAgICBmaXJzdENoYW5nZWRMaW5lKys7XG4gICAgICB9XG5cbiAgICAgIC8vIEVuZCBhbHNvIGZyb20gdGhlIGVuZFxuICAgICAgbGV0IGxhc3RDaGFuZ2VkTGluZSA9IC0xO1xuICAgICAgd2hpbGUgKFxuICAgICAgICAtbGFzdENoYW5nZWRMaW5lIDwgdGhpcy5saW5lcy5sZW5ndGggJiZcbiAgICAgICAgLWxhc3RDaGFuZ2VkTGluZSA8IHRoaXMubGluZUVsZW1lbnRzLmxlbmd0aCAmJlxuICAgICAgICB0aGlzLmxpbmVzW3RoaXMubGluZXMubGVuZ3RoICsgbGFzdENoYW5nZWRMaW5lXSA9PVxuICAgICAgICAgIHRoaXMubGluZUVsZW1lbnRzW3RoaXMubGluZUVsZW1lbnRzLmxlbmd0aCArIGxhc3RDaGFuZ2VkTGluZV1cbiAgICAgICAgICAgIC50ZXh0Q29udGVudFxuICAgICAgKSB7XG4gICAgICAgIGxhc3RDaGFuZ2VkTGluZS0tO1xuICAgICAgfVxuXG4gICAgICBsZXQgbGluZXNUb0RlbGV0ZSA9XG4gICAgICAgIHRoaXMubGluZXMubGVuZ3RoICsgbGFzdENoYW5nZWRMaW5lICsgMSAtIGZpcnN0Q2hhbmdlZExpbmU7XG4gICAgICBpZiAobGluZXNUb0RlbGV0ZSA8IC1saW5lRGVsdGEpIGxpbmVzVG9EZWxldGUgPSAtbGluZURlbHRhO1xuICAgICAgaWYgKGxpbmVzVG9EZWxldGUgPCAwKSBsaW5lc1RvRGVsZXRlID0gMDtcblxuICAgICAgbGV0IGxpbmVzVG9BZGQgPSBbXTtcbiAgICAgIGZvciAobGV0IGwgPSAwOyBsIDwgbGluZXNUb0RlbGV0ZSArIGxpbmVEZWx0YTsgbCsrKSB7XG4gICAgICAgIGxpbmVzVG9BZGQucHVzaCh0aGlzLmxpbmVFbGVtZW50c1tmaXJzdENoYW5nZWRMaW5lICsgbF0udGV4dENvbnRlbnQpO1xuICAgICAgfVxuICAgICAgdGhpcy5zcGxpY2VMaW5lcyhmaXJzdENoYW5nZWRMaW5lLCBsaW5lc1RvRGVsZXRlLCBsaW5lc1RvQWRkLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vIGxpbmVzIGFkZGVkIG9yIHJlbW92ZWRcbiAgICAgIGZvciAobGV0IGxpbmUgPSAwOyBsaW5lIDwgdGhpcy5saW5lRWxlbWVudHMubGVuZ3RoOyBsaW5lKyspIHtcbiAgICAgICAgbGV0IGUgPSB0aGlzLmxpbmVFbGVtZW50c1tsaW5lXTtcbiAgICAgICAgbGV0IGN0ID0gZS50ZXh0Q29udGVudDtcbiAgICAgICAgaWYgKHRoaXMubGluZXNbbGluZV0gIT09IGN0KSB7XG4gICAgICAgICAgLy8gTGluZSBjaGFuZ2VkLCB1cGRhdGUgaXRcbiAgICAgICAgICB0aGlzLmxpbmVzW2xpbmVdID0gY3Q7XG4gICAgICAgICAgdGhpcy5saW5lRGlydHlbbGluZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFByb2Nlc3NlcyBhIG5ldyBwYXJhZ3JhcGguXG4gICAqIEBwYXJhbSBzZWwgVGhlIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAqL1xuICBwcm9jZXNzTmV3UGFyYWdyYXBoKHNlbCkge1xuICAgIGlmICghc2VsKSByZXR1cm47XG5cbiAgICAvLyBVcGRhdGUgbGluZXMgZnJvbSBjb250ZW50XG4gICAgdGhpcy51cGRhdGVMaW5lQ29udGVudHMoKTtcblxuICAgIGxldCBjb250aW51YWJsZVR5cGUgPSBmYWxzZTtcbiAgICAvLyBMZXQncyBzZWUgaWYgd2UgbmVlZCB0byBjb250aW51ZSBhIGxpc3RcblxuICAgIGxldCBjaGVja0xpbmUgPSBzZWwuY29sID4gMCA/IHNlbC5yb3cgOiBzZWwucm93IC0gMTtcbiAgICBzd2l0Y2ggKHRoaXMubGluZVR5cGVzW2NoZWNrTGluZV0pIHtcbiAgICAgIGNhc2UgXCJUTVVMXCI6XG4gICAgICAgIGNvbnRpbnVhYmxlVHlwZSA9IFwiVE1VTFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJUTU9MXCI6XG4gICAgICAgIGNvbnRpbnVhYmxlVHlwZSA9IFwiVE1PTFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJUTUluZGVudGVkQ29kZVwiOlxuICAgICAgICBjb250aW51YWJsZVR5cGUgPSBcIlRNSW5kZW50ZWRDb2RlXCI7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGxldCBsaW5lcyA9IHRoaXMubGluZXNbc2VsLnJvd11cbiAgICAgIC5yZXBsYWNlKC9cXG5cXG4kLywgXCJcXG5cIilcbiAgICAgIC5zcGxpdCgvKD86XFxyXFxufFxcbnxcXHIpLyk7XG4gICAgaWYgKGxpbmVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAvLyBObyBuZXcgbGluZVxuICAgICAgdGhpcy51cGRhdGVGb3JtYXR0aW5nKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc3BsaWNlTGluZXMoc2VsLnJvdywgMSwgbGluZXMsIHRydWUpO1xuICAgIHNlbC5yb3crKztcbiAgICBzZWwuY29sID0gMDtcblxuICAgIGlmIChjb250aW51YWJsZVR5cGUpIHtcbiAgICAgIC8vIENoZWNrIGlmIHRoZSBwcmV2aW91cyBsaW5lIHdhcyBub24tZW1wdHlcbiAgICAgIGxldCBjYXB0dXJlID0gbGluZUdyYW1tYXJbY29udGludWFibGVUeXBlXS5yZWdleHAuZXhlYyhcbiAgICAgICAgdGhpcy5saW5lc1tzZWwucm93IC0gMV1cbiAgICAgICk7XG4gICAgICBpZiAoY2FwdHVyZSkge1xuICAgICAgICAvLyBDb252ZW50aW9uOiBjYXB0dXJlWzFdIGlzIHRoZSBsaW5lIHR5cGUgbWFya2VyLCBjYXB0dXJlWzJdIGlzIHRoZSBjb250ZW50XG4gICAgICAgIGlmIChjYXB0dXJlWzJdKSB7XG4gICAgICAgICAgLy8gUHJldmlvdXMgbGluZSBoYXMgY29udGVudCwgY29udGludWUgdGhlIGNvbnRpbnVhYmxlIHR5cGVcblxuICAgICAgICAgIC8vIEhhY2sgZm9yIE9MOiBpbmNyZW1lbnQgbnVtYmVyXG4gICAgICAgICAgaWYgKGNvbnRpbnVhYmxlVHlwZSA9PSBcIlRNT0xcIikge1xuICAgICAgICAgICAgY2FwdHVyZVsxXSA9IGNhcHR1cmVbMV0ucmVwbGFjZSgvXFxkezEsOX0vLCAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChyZXN1bHRbMF0pICsgMTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmxpbmVzW3NlbC5yb3ddID0gYCR7Y2FwdHVyZVsxXX0ke3RoaXMubGluZXNbc2VsLnJvd119YDtcbiAgICAgICAgICB0aGlzLmxpbmVEaXJ0eVtzZWwucm93XSA9IHRydWU7XG4gICAgICAgICAgc2VsLmNvbCA9IGNhcHR1cmVbMV0ubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFByZXZpb3VzIGxpbmUgaGFzIG5vIGNvbnRlbnQsIHJlbW92ZSB0aGUgY29udGludWFibGUgdHlwZSBmcm9tIHRoZSBwcmV2aW91cyByb3dcbiAgICAgICAgICB0aGlzLmxpbmVzW3NlbC5yb3cgLSAxXSA9IFwiXCI7XG4gICAgICAgICAgdGhpcy5saW5lRGlydHlbc2VsLnJvdyAtIDFdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnVwZGF0ZUZvcm1hdHRpbmcoKTtcbiAgfVxuXG4gIC8vIC8qKlxuICAvLyAgKiBQcm9jZXNzZXMgYSBcImRlbGV0ZVwiIGlucHV0IGFjdGlvbi5cbiAgLy8gICogQHBhcmFtIHtvYmplY3R9IGZvY3VzIFRoZSBzZWxlY3Rpb25cbiAgLy8gICogQHBhcmFtIHtib29sZWFufSBmb3J3YXJkIElmIHRydWUsIHBlcmZvcm1zIGEgZm9yd2FyZCBkZWxldGUsIG90aGVyd2lzZSBwZXJmb3JtcyBhIGJhY2t3YXJkIGRlbGV0ZVxuICAvLyAgKi9cbiAgLy8gcHJvY2Vzc0RlbGV0ZShmb2N1cywgZm9yd2FyZCkge1xuICAvLyAgIGlmICghZm9jdXMpIHJldHVybjtcbiAgLy8gICBsZXQgYW5jaG9yID0gdGhpcy5nZXRTZWxlY3Rpb24odHJ1ZSk7XG4gIC8vICAgLy8gRG8gd2UgaGF2ZSBhIG5vbi1lbXB0eSBzZWxlY3Rpb24/XG4gIC8vICAgaWYgKGZvY3VzLmNvbCAhPSBhbmNob3IuY29sIHx8IGZvY3VzLnJvdyAhPSBhbmNob3Iucm93KSB7XG4gIC8vICAgICAvLyBub24tZW1wdHkuIGRpcmVjdGlvbiBkb2Vzbid0IG1hdHRlci5cbiAgLy8gICAgIHRoaXMucGFzdGUoJycsIGFuY2hvciwgZm9jdXMpO1xuICAvLyAgIH0gZWxzZSB7XG4gIC8vICAgICBpZiAoZm9yd2FyZCkge1xuICAvLyAgICAgICBpZiAoZm9jdXMuY29sIDwgdGhpcy5saW5lc1tmb2N1cy5yb3ddLmxlbmd0aCkgdGhpcy5wYXN0ZSgnJywge3JvdzogZm9jdXMucm93LCBjb2w6IGZvY3VzLmNvbCArIDF9LCBmb2N1cyk7XG4gIC8vICAgICAgIGVsc2UgaWYgKGZvY3VzLmNvbCA8IHRoaXMubGluZXMubGVuZ3RoKSB0aGlzLnBhc3RlKCcnLCB7cm93OiBmb2N1cy5yb3cgKyAxLCBjb2w6IDB9LCBmb2N1cyk7XG4gIC8vICAgICAgIC8vIE90aGVyd2lzZSwgd2UncmUgYXQgdGhlIHZlcnkgZW5kIGFuZCBjYW4ndCBkZWxldGUgZm9yd2FyZFxuICAvLyAgICAgfSBlbHNlIHtcbiAgLy8gICAgICAgaWYgKGZvY3VzLmNvbCA+IDApIHRoaXMucGFzdGUoJycsIHtyb3c6IGZvY3VzLnJvdywgY29sOiBmb2N1cy5jb2wgLSAxfSwgZm9jdXMpO1xuICAvLyAgICAgICBlbHNlIGlmIChmb2N1cy5yb3cgPiAwKSB0aGlzLnBhc3RlKCcnLCB7cm93OiBmb2N1cy5yb3cgLSAxLCBjb2w6IHRoaXMubGluZXNbZm9jdXMucm93IC0gMV0ubGVuZ3RoIC0gMX0sIGZvY3VzKTtcbiAgLy8gICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSdyZSBhdCB0aGUgdmVyeSBiZWdpbm5pbmcgYW5kIGNhbid0IGRlbGV0ZSBiYWNrd2FyZHNcbiAgLy8gICAgIH1cbiAgLy8gICB9XG5cbiAgLy8gfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50IHBvc2l0aW9uIG9mIHRoZSBzZWxlY3Rpb24gY291bnRlZCBieSByb3cgYW5kIGNvbHVtbiBvZiB0aGUgZWRpdG9yIE1hcmtkb3duIGNvbnRlbnQgKGFzIG9wcG9zZWQgdG8gdGhlIHBvc2l0aW9uIGluIHRoZSBET00pLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGdldEFuY2hvciBpZiBzZXQgdG8gdHJ1ZSwgZ2V0cyB0aGUgc2VsZWN0aW9uIGFuY2hvciAoc3RhcnQgcG9pbnQgb2YgdGhlIHNlbGVjdGlvbiksIG90aGVyd2lzZSBnZXRzIHRoZSBmb2N1cyAoZW5kIHBvaW50KS5cbiAgICogQHJldHVybiB7b2JqZWN0fSBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBzZWxlY3Rpb24sIHdpdGggcHJvcGVydGllcyBjb2wgYW5kIHJvdy5cbiAgICovXG4gIGdldFNlbGVjdGlvbihnZXRBbmNob3IgPSBmYWxzZSkge1xuICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICBsZXQgc3RhcnROb2RlID0gZ2V0QW5jaG9yID8gc2VsZWN0aW9uLmFuY2hvck5vZGUgOiBzZWxlY3Rpb24uZm9jdXNOb2RlO1xuICAgIGlmICghc3RhcnROb2RlKSByZXR1cm4gbnVsbDtcbiAgICBsZXQgb2Zmc2V0ID0gZ2V0QW5jaG9yID8gc2VsZWN0aW9uLmFuY2hvck9mZnNldCA6IHNlbGVjdGlvbi5mb2N1c09mZnNldDtcbiAgICBpZiAoc3RhcnROb2RlID09IHRoaXMuZSkge1xuICAgICAgaWYgKG9mZnNldCA8IHRoaXMubGluZXMubGVuZ3RoKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJvdzogb2Zmc2V0LFxuICAgICAgICAgIGNvbDogMCxcbiAgICAgICAgfTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJvdzogb2Zmc2V0IC0gMSxcbiAgICAgICAgY29sOiB0aGlzLmxpbmVzW29mZnNldCAtIDFdLmxlbmd0aCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgbGV0IGNvbCA9IHRoaXMuY29tcHV0ZUNvbHVtbihzdGFydE5vZGUsIG9mZnNldCk7XG4gICAgaWYgKGNvbCA9PT0gbnVsbCkgcmV0dXJuIG51bGw7IC8vIFdlIGFyZSBvdXRzaWRlIG9mIHRoZSBlZGl0b3JcblxuICAgIC8vIEZpbmQgdGhlIHJvdyBub2RlXG4gICAgbGV0IG5vZGUgPSBzdGFydE5vZGU7XG4gICAgd2hpbGUgKG5vZGUucGFyZW50RWxlbWVudCAhPSB0aGlzLmUpIHtcbiAgICAgIG5vZGUgPSBub2RlLnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgbGV0IHJvdyA9IDA7XG4gICAgLy8gQ2hlY2sgaWYgd2UgY2FuIHJlYWQgYSBsaW5lIG51bWJlciBmcm9tIHRoZSBkYXRhLWxpbmUtbnVtIGF0dHJpYnV0ZS5cbiAgICAvLyBUaGUgbGFzdCBjb25kaXRpb24gaXMgYSBzZWN1cml0eSBtZWFzdXJlIHNpbmNlIGluc2VydGluZyBhIG5ldyBwYXJhZ3JhcGggY29waWVzIHRoZSBwcmV2aW91cyByb3dzJyBsaW5lIG51bWJlclxuICAgIGlmIChcbiAgICAgIG5vZGUuZGF0YXNldCAmJlxuICAgICAgbm9kZS5kYXRhc2V0LmxpbmVOdW0gJiZcbiAgICAgICghbm9kZS5wcmV2aW91c1NpYmxpbmcgfHxcbiAgICAgICAgbm9kZS5wcmV2aW91c1NpYmxpbmcuZGF0YXNldC5saW5lTnVtICE9IG5vZGUuZGF0YXNldC5saW5lTnVtKVxuICAgICkge1xuICAgICAgcm93ID0gcGFyc2VJbnQobm9kZS5kYXRhc2V0LmxpbmVOdW0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aGlsZSAobm9kZS5wcmV2aW91c1NpYmxpbmcpIHtcbiAgICAgICAgcm93Kys7XG4gICAgICAgIG5vZGUgPSBub2RlLnByZXZpb3VzU2libGluZztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgcm93OiByb3csIGNvbDogY29sLCBub2RlOiBzdGFydE5vZGUgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wdXRlcyBhIGNvbHVtbiB3aXRoaW4gYW4gZWRpdG9yIGxpbmUgZnJvbSBhIG5vZGUgYW5kIG9mZnNldCB3aXRoaW4gdGhhdCBub2RlLlxuICAgKiBAcGFyYW0ge05vZGV9IHN0YXJ0Tm9kZSBUaGUgbm9kZVxuICAgKiBAcGFyYW0ge2ludH0gb2Zmc2V0IFRIZSBzZWxlY3Rpb25cbiAgICogQHJldHVybnMge2ludH0gdGhlIGNvbHVtbiwgb3IgbnVsbCBpZiB0aGUgbm9kZSBpcyBub3QgaW5zaWRlIHRoZSBlZGl0b3JcbiAgICovXG4gIGNvbXB1dGVDb2x1bW4oc3RhcnROb2RlLCBvZmZzZXQpIHtcbiAgICBsZXQgbm9kZSA9IHN0YXJ0Tm9kZTtcbiAgICBsZXQgY29sO1xuICAgIC8vIEZpcnN0LCBtYWtlIHN1cmUgd2UncmUgYWN0dWFsbHkgaW4gdGhlIGVkaXRvci5cbiAgICB3aGlsZSAobm9kZSAmJiBub2RlLnBhcmVudE5vZGUgIT0gdGhpcy5lKSB7XG4gICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbiAgICBpZiAobm9kZSA9PSBudWxsKSByZXR1cm4gbnVsbDtcblxuICAgIC8vIFRoZXJlIGFyZSB0d28gd2F5cyB0aGF0IG9mZnNldCBjYW4gYmUgZGVmaW5lZDpcbiAgICAvLyAtIEVpdGhlciwgdGhlIG5vZGUgaXMgYSB0ZXh0IG5vZGUsIGluIHdoaWNoIGNhc2UgaXQgaXMgdGhlIG9mZnNldCB3aXRoaW4gdGhlIHRleHRcbiAgICAvLyAtIE9yLCB0aGUgbm9kZSBpcyBhbiBlbGVtZW50IHdpdGggY2hpbGQgbm90ZXMsIGluIHdoaWNoIGNhc2UgdGhlIG9mZnNldCByZWZlcnMgdG8gdGhlXG4gICAgLy8gICBjaGlsZCBub2RlIGFmdGVyIHdoaWNoIHRoZSBzZWxlY3Rpb24gaXMgbG9jYXRlZFxuICAgIGlmIChzdGFydE5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFIHx8IG9mZnNldCA9PT0gMCkge1xuICAgICAgLy8gSW4gdGhlIGNhc2UgdGhhdCB0aGUgbm9kZSBpcyBub24tdGV4dCBub2RlIGJ1dCB0aGUgb2Zmc2V0IGlzIDAsXG4gICAgICAvLyBUaGUgc2VsZWN0aW9uIGlzIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhhdCBlbGVtZW50IHNvIHdlXG4gICAgICAvLyBjYW4gc2ltcGx5IHVzZSB0aGUgc2FtZSBhcHByb2FjaCBhcyBpZiBpdCB3ZXJlIGF0IHRoZSBiZWdpbm5pbmdcbiAgICAgIC8vIG9mIGEgdGV4dCBub2RlLlxuICAgICAgY29sID0gb2Zmc2V0O1xuICAgICAgbm9kZSA9IHN0YXJ0Tm9kZTtcbiAgICB9IGVsc2UgaWYgKG9mZnNldCA+IDApIHtcbiAgICAgIG5vZGUgPSBzdGFydE5vZGUuY2hpbGROb2Rlc1tvZmZzZXQgLSAxXTtcbiAgICAgIGNvbCA9IG5vZGUudGV4dENvbnRlbnQubGVuZ3RoO1xuICAgIH1cbiAgICB3aGlsZSAobm9kZS5wYXJlbnROb2RlICE9IHRoaXMuZSkge1xuICAgICAgaWYgKG5vZGUucHJldmlvdXNTaWJsaW5nKSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnByZXZpb3VzU2libGluZztcbiAgICAgICAgY29sICs9IG5vZGUudGV4dENvbnRlbnQubGVuZ3RoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wdXRlcyBET00gbm9kZSBhbmQgb2Zmc2V0IHdpdGhpbiB0aGF0IG5vZGUgZnJvbSBhIHBvc2l0aW9uIGV4cHJlc3NlZCBhcyByb3cgYW5kIGNvbHVtbi5cbiAgICogQHBhcmFtIHtpbnR9IHJvdyBSb3cgKGxpbmUgbnVtYmVyKVxuICAgKiBAcGFyYW0ge2ludH0gY29sIENvbHVtblxuICAgKiBAcmV0dXJucyBBbiBvYmplY3Qgd2l0aCB0d28gcHJvcGVydGllczogbm9kZSBhbmQgb2Zmc2V0LiBvZmZzZXQgbWF5IGJlIG51bGw7XG4gICAqL1xuICBjb21wdXRlTm9kZUFuZE9mZnNldChyb3csIGNvbCwgYmluZFJpZ2h0ID0gZmFsc2UpIHtcbiAgICBpZiAocm93ID49IHRoaXMubGluZUVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gU2VsZWN0aW9uIHBhc3QgdGhlIGVuZCBvZiB0ZXh0LCBzZXQgc2VsZWN0aW9uIHRvIGVuZCBvZiB0ZXh0XG4gICAgICByb3cgPSB0aGlzLmxpbmVFbGVtZW50cy5sZW5ndGggLSAxO1xuICAgICAgY29sID0gdGhpcy5saW5lc1tyb3ddLmxlbmd0aDtcbiAgICB9XG4gICAgaWYgKGNvbCA+IHRoaXMubGluZXNbcm93XS5sZW5ndGgpIHtcbiAgICAgIGNvbCA9IHRoaXMubGluZXNbcm93XS5sZW5ndGg7XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudE5vZGUgPSB0aGlzLmxpbmVFbGVtZW50c1tyb3ddO1xuICAgIGxldCBub2RlID0gcGFyZW50Tm9kZS5maXJzdENoaWxkO1xuXG4gICAgbGV0IGNoaWxkcmVuQ29tcGxldGUgPSBmYWxzZTtcbiAgICAvLyBkZWZhdWx0IHJldHVybiB2YWx1ZVxuICAgIGxldCBydiA9IHtcbiAgICAgIG5vZGU6IHBhcmVudE5vZGUuZmlyc3RDaGlsZCA/IHBhcmVudE5vZGUuZmlyc3RDaGlsZCA6IHBhcmVudE5vZGUsXG4gICAgICBvZmZzZXQ6IDAsXG4gICAgfTtcblxuICAgIHdoaWxlIChub2RlICE9IHBhcmVudE5vZGUpIHtcbiAgICAgIGlmICghY2hpbGRyZW5Db21wbGV0ZSAmJiBub2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xuICAgICAgICBpZiAobm9kZS5ub2RlVmFsdWUubGVuZ3RoID49IGNvbCkge1xuICAgICAgICAgIGlmIChiaW5kUmlnaHQgJiYgbm9kZS5ub2RlVmFsdWUubGVuZ3RoID09IGNvbCkge1xuICAgICAgICAgICAgLy8gU2VsZWN0aW9uIGlzIGF0IHRoZSBlbmQgb2YgdGhpcyB0ZXh0IG5vZGUsIGJ1dCB3ZSBhcmUgYmluZGluZyByaWdodCAocHJlZmVyIGFuIG9mZnNldCBvZiAwIGluIHRoZSBuZXh0IHRleHQgbm9kZSlcbiAgICAgICAgICAgIC8vIFJlbWVtYmVyIHJldHVybiB2YWx1ZSBpbiBjYXNlIHdlIGRvbid0IGZpbmQgYW5vdGhlciB0ZXh0IG5vZGVcbiAgICAgICAgICAgIHJ2ID0geyBub2RlOiBub2RlLCBvZmZzZXQ6IGNvbCB9O1xuICAgICAgICAgICAgY29sID0gMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgbm9kZTogbm9kZSwgb2Zmc2V0OiBjb2wgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29sIC09IG5vZGUubm9kZVZhbHVlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFjaGlsZHJlbkNvbXBsZXRlICYmIG5vZGUuZmlyc3RDaGlsZCkge1xuICAgICAgICBub2RlID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgfSBlbHNlIGlmIChub2RlLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIGNoaWxkcmVuQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGlsZHJlbkNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBFaXRoZXIsIHRoZSBwb3NpdGlvbiB3YXMgaW52YWxpZCBhbmQgd2UganVzdCByZXR1cm4gdGhlIGRlZmF1bHQgcmV0dXJuIHZhbHVlXG4gICAgLy8gT3Igd2UgYXJlIGJpbmRpbmcgcmlnaHQgYW5kIHRoZSBzZWxlY3Rpb24gaXMgYXQgdGhlIGVuZCBvZiB0aGUgbGluZVxuICAgIHJldHVybiBydjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzZWxlY3Rpb24gYmFzZWQgb24gcm93cyBhbmQgY29sdW1ucyB3aXRoaW4gdGhlIGVkaXRvciBNYXJrZG93biBjb250ZW50LlxuICAgKiBAcGFyYW0ge29iamVjdH0gZm9jdXMgT2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc2VsZWN0aW9uLCBuZWVkcyB0byBoYXZlIHByb3BlcnRpZXMgcm93IGFuZCBjb2wuXG4gICAqIEBwYXJhbSBhbmNob3IgQW5jaG9yIG9mIHRoZSBzZWxlY3Rpb24uIElmIG5vdCBnaXZlbiwgYXNzdW1lcyB0aGUgY3VycmVudCBhbmNob3IuXG4gICAqL1xuICBzZXRTZWxlY3Rpb24oZm9jdXMsIGFuY2hvciA9IG51bGwpIHtcbiAgICBpZiAoIWZvY3VzKSByZXR1cm47XG5cbiAgICBsZXQgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuXG4gICAgbGV0IHsgbm9kZTogZm9jdXNOb2RlLCBvZmZzZXQ6IGZvY3VzT2Zmc2V0IH0gPSB0aGlzLmNvbXB1dGVOb2RlQW5kT2Zmc2V0KFxuICAgICAgZm9jdXMucm93LFxuICAgICAgZm9jdXMuY29sLFxuICAgICAgYW5jaG9yICYmIGFuY2hvci5yb3cgPT0gZm9jdXMucm93ICYmIGFuY2hvci5jb2wgPiBmb2N1cy5jb2xcbiAgICApOyAvLyBCaW5kIHNlbGVjdGlvbiByaWdodCBpZiBhbmNob3IgaXMgaW4gdGhlIHNhbWUgcm93IGFuZCBiZWhpbmQgdGhlIGZvY3VzXG4gICAgbGV0IGFuY2hvck5vZGUgPSBudWxsLFxuICAgICAgYW5jaG9yT2Zmc2V0ID0gbnVsbDtcbiAgICBpZiAoYW5jaG9yICYmIChhbmNob3Iucm93ICE9IGZvY3VzLnJvdyB8fCBhbmNob3IuY29sICE9IGZvY3VzLmNvbCkpIHtcbiAgICAgIGxldCB7IG5vZGUsIG9mZnNldCB9ID0gdGhpcy5jb21wdXRlTm9kZUFuZE9mZnNldChcbiAgICAgICAgYW5jaG9yLnJvdyxcbiAgICAgICAgYW5jaG9yLmNvbCxcbiAgICAgICAgZm9jdXMucm93ID09IGFuY2hvci5yb3cgJiYgZm9jdXMuY29sID4gYW5jaG9yLmNvbFxuICAgICAgKTtcbiAgICAgIGFuY2hvck5vZGUgPSBub2RlO1xuICAgICAgYW5jaG9yT2Zmc2V0ID0gb2Zmc2V0O1xuICAgIH1cblxuICAgIGlmIChhbmNob3JOb2RlKSByYW5nZS5zZXRTdGFydChhbmNob3JOb2RlLCBhbmNob3JPZmZzZXQpO1xuICAgIGVsc2UgcmFuZ2Uuc2V0U3RhcnQoZm9jdXNOb2RlLCBmb2N1c09mZnNldCk7XG4gICAgcmFuZ2Uuc2V0RW5kKGZvY3VzTm9kZSwgZm9jdXNPZmZzZXQpO1xuXG4gICAgbGV0IHdpbmRvd1NlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICB3aW5kb3dTZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgd2luZG93U2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBpbnB1dCBldmVudHNcbiAgICovXG4gIGhhbmRsZUlucHV0RXZlbnQoZXZlbnQpIHtcbiAgICAvLyBGb3IgY29tcG9zaXRpb24gaW5wdXQsIHdlIGFyZSBvbmx5IHVwZGF0aW5nIHRoZSB0ZXh0IGFmdGVyIHdlIGhhdmUgcmVjZWl2ZWRcbiAgICAvLyBhIGNvbXBvc2l0aW9uZW5kIGV2ZW50LCBzbyB3ZSByZXR1cm4gdXBvbiBpbnNlcnRDb21wb3NpdGlvblRleHQuXG4gICAgLy8gT3RoZXJ3aXNlLCB0aGUgRE9NIGNoYW5nZXMgYnJlYWsgdGhlIHRleHQgaW5wdXQuXG4gICAgaWYgKGV2ZW50LmlucHV0VHlwZSA9PSBcImluc2VydENvbXBvc2l0aW9uVGV4dFwiKSByZXR1cm47XG5cbiAgICBsZXQgZm9jdXMgPSB0aGlzLmdldFNlbGVjdGlvbigpO1xuXG4gICAgaWYgKFxuICAgICAgKGV2ZW50LmlucHV0VHlwZSA9PSBcImluc2VydFBhcmFncmFwaFwiIHx8XG4gICAgICAgIGV2ZW50LmlucHV0VHlwZSA9PSBcImluc2VydExpbmVCcmVha1wiKSAmJlxuICAgICAgZm9jdXNcbiAgICApIHtcbiAgICAgIHRoaXMuY2xlYXJEaXJ0eUZsYWcoKTtcbiAgICAgIHRoaXMucHJvY2Vzc05ld1BhcmFncmFwaChmb2N1cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghdGhpcy5lLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgdGhpcy5lLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwiVE1CbGFua0xpbmVcIj48YnI+PC9kaXY+JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZml4Tm9kZUhpZXJhcmNoeSgpO1xuICAgICAgfVxuICAgICAgdGhpcy51cGRhdGVMaW5lQ29udGVudHNBbmRGb3JtYXR0aW5nKCk7XG4gICAgfVxuICAgIGlmIChmb2N1cykge1xuICAgICAgdGhpcy5zZXRTZWxlY3Rpb24oZm9jdXMpO1xuICAgIH1cblxuICAgIHRoaXMuZmlyZUNoYW5nZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpeGVzIHRoZSBub2RlIGhpZXJhcmNoeSDigJMgbWFrZXMgc3VyZSB0aGF0IGVhY2ggbGluZSBpcyBpbiBhIGRpdiwgYW5kIHRoZXJlIGFyZSBubyBuZXN0ZWQgZGl2c1xuICAgKi9cbiAgZml4Tm9kZUhpZXJhcmNoeSgpIHtcbiAgICBjb25zdCBvcmlnaW5hbENoaWxkcmVuID0gQXJyYXkuZnJvbSh0aGlzLmUuY2hpbGROb2Rlcyk7XG5cbiAgICBjb25zdCByZXBsYWNlQ2hpbGQgPSAoY2hpbGQsIC4uLm5ld0NoaWxkcmVuKSA9PiB7XG4gICAgICBjb25zdCBwYXJlbnQgPSBjaGlsZC5wYXJlbnRFbGVtZW50O1xuICAgICAgY29uc3QgbmV4dFNpYmxpbmcgPSBjaGlsZC5uZXh0U2libGluZztcbiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICBuZXdDaGlsZHJlbi5mb3JFYWNoKChuZXdDaGlsZCkgPT5cbiAgICAgICAgbmV4dFNpYmxpbmdcbiAgICAgICAgICA/IHBhcmVudC5pbnNlcnRCZWZvcmUobmV3Q2hpbGQsIG5leHRTaWJsaW5nKVxuICAgICAgICAgIDogcGFyZW50LmFwcGVuZENoaWxkKG5ld0NoaWxkKVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgb3JpZ2luYWxDaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSB8fCBjaGlsZC50YWdOYW1lICE9PSBcIkRJVlwiKSB7XG4gICAgICAgIC8vIEZvdW5kIGEgY2hpbGQgbm9kZSB0aGF0J3MgZWl0aGVyIG5vdCBhbiBlbGVtZW50IG9yIG5vdCBhIGRpdi4gV3JhcCBpdCBpbiBhIGRpdi5cbiAgICAgICAgY29uc3QgZGl2V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHJlcGxhY2VDaGlsZChjaGlsZCwgZGl2V3JhcHBlcik7XG4gICAgICAgIGRpdldyYXBwZXIuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgfSBlbHNlIGlmIChjaGlsZC5jaGlsZE5vZGVzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIC8vIEVtcHR5IGRpdiBjaGlsZCBub2RlLCBpbmNsdWRlIGF0IGxlYXN0IGEgPGJyIC8+XG4gICAgICAgIGNoaWxkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBncmFuZENoaWxkcmVuID0gQXJyYXkuZnJvbShjaGlsZC5jaGlsZE5vZGVzKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGdyYW5kQ2hpbGRyZW4uc29tZShcbiAgICAgICAgICAgIChncmFuZENoaWxkKSA9PlxuICAgICAgICAgICAgICBncmFuZENoaWxkLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSAmJlxuICAgICAgICAgICAgICBncmFuZENoaWxkLnRhZ05hbWUgPT09IFwiRElWXCJcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiByZXBsYWNlQ2hpbGQoY2hpbGQsIGdyYW5kQ2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgdGhlIFwiZHJvcFwiIGV2ZW50XG4gICAqL1xuICBoYW5kbGVEcm9wKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIHRoaXMuZmlyZURyb3AoZXZlbnQuZGF0YVRyYW5zZmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBcInNlbGVjdGlvbmNoYW5nZVwiIGV2ZW50cy5cbiAgICovXG4gIGhhbmRsZVNlbGVjdGlvbkNoYW5nZUV2ZW50KCkge1xuICAgIHRoaXMuZmlyZVNlbGVjdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlbmllbmNlIGZ1bmN0aW9uIHRvIFwic3BsaWNlXCIgbmV3IGxpbmVzIGludG8gdGhlIGFycmF5cyB0aGlzLmxpbmVzLCB0aGlzLmxpbmVEaXJ0eSwgdGhpcy5saW5lVHlwZXMsIGFuZCB0aGUgRE9NIGVsZW1lbnRzXG4gICAqIHVuZGVybmVhdGggdGhlIGVkaXRvciBlbGVtZW50LlxuICAgKiBUaGlzIG1ldGhvZCBpcyBlc3NlbnRpYWxseSBBcnJheS5zcGxpY2UsIG9ubHkgdGhhdCB0aGUgdGhpcmQgcGFyYW1ldGVyIHRha2VzIGFuIHVuLXNwcmVhZCBhcnJheSAoYW5kIHRoZSBmb3J0aCBwYXJhbWV0ZXIpXG4gICAqIGRldGVybWluZXMgd2hldGhlciB0aGUgRE9NIHNob3VsZCBhbHNvIGJlIGFkanVzdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge2ludH0gc3RhcnRMaW5lIFBvc2l0aW9uIGF0IHdoaWNoIHRvIHN0YXJ0IGNoYW5naW5nIHRoZSBhcnJheSBvZiBsaW5lc1xuICAgKiBAcGFyYW0ge2ludH0gbGluZXNUb0RlbGV0ZSBOdW1iZXIgb2YgbGluZXMgdG8gZGVsZXRlXG4gICAqIEBwYXJhbSB7YXJyYXl9IGxpbmVzVG9JbnNlcnQgQXJyYXkgb2Ygc3RyaW5ncyByZXByZXNlbnRpbmcgdGhlIGxpbmVzIHRvIGJlIGluc2VydGVkXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gYWRqdXN0TGluZUVsZW1lbnRzIElmIHRydWUsIHRoZW4gPGRpdj4gZWxlbWVudHMgYXJlIGFsc28gaW5zZXJ0ZWQgaW4gdGhlIERPTSBhdCB0aGUgcmVzcGVjdGl2ZSBwb3NpdGlvblxuICAgKi9cbiAgc3BsaWNlTGluZXMoXG4gICAgc3RhcnRMaW5lLFxuICAgIGxpbmVzVG9EZWxldGUgPSAwLFxuICAgIGxpbmVzVG9JbnNlcnQgPSBbXSxcbiAgICBhZGp1c3RMaW5lRWxlbWVudHMgPSB0cnVlXG4gICkge1xuICAgIGlmIChhZGp1c3RMaW5lRWxlbWVudHMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXNUb0RlbGV0ZTsgaSsrKSB7XG4gICAgICAgIHRoaXMuZS5yZW1vdmVDaGlsZCh0aGlzLmUuY2hpbGROb2Rlc1tzdGFydExpbmVdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgaW5zZXJ0ZWRCbGFuayA9IFtdO1xuICAgIGxldCBpbnNlcnRlZERpcnR5ID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzVG9JbnNlcnQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGluc2VydGVkQmxhbmsucHVzaChcIlwiKTtcbiAgICAgIGluc2VydGVkRGlydHkucHVzaCh0cnVlKTtcbiAgICAgIGlmIChhZGp1c3RMaW5lRWxlbWVudHMpIHtcbiAgICAgICAgaWYgKHRoaXMuZS5jaGlsZE5vZGVzW3N0YXJ0TGluZV0pXG4gICAgICAgICAgdGhpcy5lLmluc2VydEJlZm9yZShcbiAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgICAgICB0aGlzLmUuY2hpbGROb2Rlc1tzdGFydExpbmVdXG4gICAgICAgICAgKTtcbiAgICAgICAgZWxzZSB0aGlzLmUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5saW5lcy5zcGxpY2Uoc3RhcnRMaW5lLCBsaW5lc1RvRGVsZXRlLCAuLi5saW5lc1RvSW5zZXJ0KTtcbiAgICB0aGlzLmxpbmVUeXBlcy5zcGxpY2Uoc3RhcnRMaW5lLCBsaW5lc1RvRGVsZXRlLCAuLi5pbnNlcnRlZEJsYW5rKTtcbiAgICB0aGlzLmxpbmVEaXJ0eS5zcGxpY2Uoc3RhcnRMaW5lLCBsaW5lc1RvRGVsZXRlLCAuLi5pbnNlcnRlZERpcnR5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciB0aGUgXCJwYXN0ZVwiIGV2ZW50XG4gICAqL1xuICBoYW5kbGVQYXN0ZShldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAvLyBnZXQgdGV4dCByZXByZXNlbnRhdGlvbiBvZiBjbGlwYm9hcmRcbiAgICBsZXQgdGV4dCA9IChldmVudC5vcmlnaW5hbEV2ZW50IHx8IGV2ZW50KS5jbGlwYm9hcmREYXRhLmdldERhdGEoXG4gICAgICBcInRleHQvcGxhaW5cIlxuICAgICk7XG5cbiAgICAvLyBpbnNlcnQgdGV4dCBtYW51YWxseVxuICAgIHRoaXMucGFzdGUodGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogUGFzdGVzIHRoZSB0ZXh0IGF0IHRoZSBjdXJyZW50IHNlbGVjdGlvbiAob3IgYXQgdGhlIGVuZCwgaWYgbm8gY3VycmVudCBzZWxlY3Rpb24pXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gICAqL1xuICBwYXN0ZSh0ZXh0LCBhbmNob3IgPSBudWxsLCBmb2N1cyA9IG51bGwpIHtcbiAgICBpZiAoIWFuY2hvcikgYW5jaG9yID0gdGhpcy5nZXRTZWxlY3Rpb24odHJ1ZSk7XG4gICAgaWYgKCFmb2N1cykgZm9jdXMgPSB0aGlzLmdldFNlbGVjdGlvbihmYWxzZSk7XG4gICAgbGV0IGJlZ2lubmluZywgZW5kO1xuICAgIGlmICghZm9jdXMpIHtcbiAgICAgIGZvY3VzID0ge1xuICAgICAgICByb3c6IHRoaXMubGluZXMubGVuZ3RoIC0gMSxcbiAgICAgICAgY29sOiB0aGlzLmxpbmVzW3RoaXMubGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoLFxuICAgICAgfTsgLy8gSW5zZXJ0IGF0IGVuZFxuICAgIH1cbiAgICBpZiAoIWFuY2hvcikge1xuICAgICAgYW5jaG9yID0gZm9jdXM7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGFuY2hvci5yb3cgPCBmb2N1cy5yb3cgfHxcbiAgICAgIChhbmNob3Iucm93ID09IGZvY3VzLnJvdyAmJiBhbmNob3IuY29sIDw9IGZvY3VzLmNvbClcbiAgICApIHtcbiAgICAgIGJlZ2lubmluZyA9IGFuY2hvcjtcbiAgICAgIGVuZCA9IGZvY3VzO1xuICAgIH0gZWxzZSB7XG4gICAgICBiZWdpbm5pbmcgPSBmb2N1cztcbiAgICAgIGVuZCA9IGFuY2hvcjtcbiAgICB9XG4gICAgbGV0IGluc2VydGVkTGluZXMgPSB0ZXh0LnNwbGl0KC8oPzpcXHJcXG58XFxyfFxcbikvKTtcbiAgICBsZXQgbGluZUJlZm9yZSA9IHRoaXMubGluZXNbYmVnaW5uaW5nLnJvd10uc3Vic3RyKDAsIGJlZ2lubmluZy5jb2wpO1xuICAgIGxldCBsaW5lRW5kID0gdGhpcy5saW5lc1tlbmQucm93XS5zdWJzdHIoZW5kLmNvbCk7XG4gICAgaW5zZXJ0ZWRMaW5lc1swXSA9IGxpbmVCZWZvcmUuY29uY2F0KGluc2VydGVkTGluZXNbMF0pO1xuICAgIGxldCBlbmRDb2xQb3MgPSBpbnNlcnRlZExpbmVzW2luc2VydGVkTGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoO1xuICAgIGluc2VydGVkTGluZXNbaW5zZXJ0ZWRMaW5lcy5sZW5ndGggLSAxXSA9XG4gICAgICBpbnNlcnRlZExpbmVzW2luc2VydGVkTGluZXMubGVuZ3RoIC0gMV0uY29uY2F0KGxpbmVFbmQpO1xuICAgIHRoaXMuc3BsaWNlTGluZXMoYmVnaW5uaW5nLnJvdywgMSArIGVuZC5yb3cgLSBiZWdpbm5pbmcucm93LCBpbnNlcnRlZExpbmVzKTtcbiAgICBmb2N1cy5yb3cgPSBiZWdpbm5pbmcucm93ICsgaW5zZXJ0ZWRMaW5lcy5sZW5ndGggLSAxO1xuICAgIGZvY3VzLmNvbCA9IGVuZENvbFBvcztcbiAgICB0aGlzLnVwZGF0ZUZvcm1hdHRpbmcoKTtcbiAgICB0aGlzLnNldFNlbGVjdGlvbihmb2N1cyk7XG4gICAgdGhpcy5maXJlQ2hhbmdlKCk7XG4gIH1cblxuICAvKipcbiAgICogQ29tcHV0ZXMgdGhlIChsb3dlc3QgaW4gdGhlIERPTSB0cmVlKSBjb21tb24gYW5jZXN0b3Igb2YgdHdvIERPTSBub2Rlcy5cbiAgICogQHBhcmFtIHtOb2RlfSBub2RlMSB0aGUgZmlyc3Qgbm9kZVxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGUyIHRoZSBzZWNvbmQgbm9kZVxuICAgKiBAcmV0dXJucyB7Tm9kZX0gVGhlIGNvbW1lbiBhbmNlc3RvciBub2RlLCBvciBudWxsIGlmIHRoZXJlIGlzIG5vIGNvbW1vbiBhbmNlc3RvclxuICAgKi9cbiAgY29tcHV0ZUNvbW1vbkFuY2VzdG9yKG5vZGUxLCBub2RlMikge1xuICAgIGlmICghbm9kZTEgfHwgIW5vZGUyKSByZXR1cm4gbnVsbDtcbiAgICBpZiAobm9kZTEgPT0gbm9kZTIpIHJldHVybiBub2RlMTtcbiAgICBjb25zdCBhbmNlc3RyeSA9IChub2RlKSA9PiB7XG4gICAgICBsZXQgYW5jZXN0cnkgPSBbXTtcbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGFuY2VzdHJ5LnVuc2hpZnQobm9kZSk7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYW5jZXN0cnk7XG4gICAgfTtcblxuICAgIGNvbnN0IGFuY2VzdHJ5MSA9IGFuY2VzdHJ5KG5vZGUxKTtcbiAgICBjb25zdCBhbmNlc3RyeTIgPSBhbmNlc3RyeShub2RlMik7XG5cbiAgICBpZiAoYW5jZXN0cnkxWzBdICE9IGFuY2VzdHJ5MlswXSkgcmV0dXJuIG51bGw7XG4gICAgbGV0IGk7XG4gICAgZm9yIChpID0gMDsgYW5jZXN0cnkxW2ldID09IGFuY2VzdHJ5MltpXTsgaSsrKTtcbiAgICByZXR1cm4gYW5jZXN0cnkxW2kgLSAxXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kcyB0aGUgKGxvd2VzdCBpbiB0aGUgRE9NIHRyZWUpIGVuY2xvc2luZyBET00gbm9kZSB3aXRoIGEgZ2l2ZW4gY2xhc3MuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBmb2N1cyBUaGUgZm9jdXMgc2VsZWN0aW9uIG9iamVjdFxuICAgKiBAcGFyYW0ge29iamVjdH0gYW5jaG9yIFRoZSBhbmNob3Igc2VsZWN0aW9uIG9iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIFRoZSBjbGFzcyBuYW1lIHRvIGZpbmRcbiAgICogQHJldHVybnMge05vZGV9IFRoZSBlbmNsb3NpbmcgRE9NIG5vZGUgd2l0aCB0aGUgcmVzcGVjdGl2ZSBjbGFzcyAoaW5zaWRlIHRoZSBlZGl0b3IpLCBpZiB0aGVyZSBpcyBvbmU7IG51bGwgb3RoZXJ3aXNlLlxuICAgKi9cbiAgY29tcHV0ZUVuY2xvc2luZ01hcmt1cE5vZGUoZm9jdXMsIGFuY2hvciwgY2xhc3NOYW1lKSB7XG4gICAgbGV0IG5vZGUgPSBudWxsO1xuICAgIGlmICghZm9jdXMpIHJldHVybiBudWxsO1xuICAgIGlmICghYW5jaG9yKSB7XG4gICAgICBub2RlID0gZm9jdXMubm9kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGZvY3VzLnJvdyAhPSBhbmNob3Iucm93KSByZXR1cm4gbnVsbDtcbiAgICAgIG5vZGUgPSB0aGlzLmNvbXB1dGVDb21tb25BbmNlc3Rvcihmb2N1cy5ub2RlLCBhbmNob3Iubm9kZSk7XG4gICAgfVxuICAgIGlmICghbm9kZSkgcmV0dXJuIG51bGw7XG4gICAgd2hpbGUgKG5vZGUgIT0gdGhpcy5lKSB7XG4gICAgICBpZiAobm9kZS5jbGFzc05hbWUgJiYgbm9kZS5jbGFzc05hbWUuaW5jbHVkZXMoY2xhc3NOYW1lKSkgcmV0dXJuIG5vZGU7XG4gICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbiAgICAvLyBBc2NlbmRlZCBhbGwgdGhlIHdheSB0byB0aGUgZWRpdG9yIGVsZW1lbnRcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBzdGF0ZSAodHJ1ZSAvIGZhbHNlKSBvZiBhbGwgY29tbWFuZHMuXG4gICAqIEBwYXJhbSBmb2N1cyBGb2N1cyBvZiB0aGUgc2VsZWN0aW9uLiBJZiBub3QgZ2l2ZW4sIGFzc3VtZXMgdGhlIGN1cnJlbnQgZm9jdXMuXG4gICAqIEBwYXJhbSBhbmNob3IgQW5jaG9yIG9mIHRoZSBzZWxlY3Rpb24uIElmIG5vdCBnaXZlbiwgYXNzdW1lcyB0aGUgY3VycmVudCBhbmNob3IuXG4gICAqL1xuICBnZXRDb21tYW5kU3RhdGUoZm9jdXMgPSBudWxsLCBhbmNob3IgPSBudWxsKSB7XG4gICAgbGV0IGNvbW1hbmRTdGF0ZSA9IHt9O1xuICAgIGlmICghZm9jdXMpIGZvY3VzID0gdGhpcy5nZXRTZWxlY3Rpb24oZmFsc2UpO1xuICAgIGlmICghYW5jaG9yKSBhbmNob3IgPSB0aGlzLmdldFNlbGVjdGlvbih0cnVlKTtcbiAgICBpZiAoIWZvY3VzKSB7XG4gICAgICBmb3IgKGxldCBjbWQgaW4gY29tbWFuZHMpIHtcbiAgICAgICAgY29tbWFuZFN0YXRlW2NtZF0gPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbW1hbmRTdGF0ZTtcbiAgICB9XG4gICAgaWYgKCFhbmNob3IpIGFuY2hvciA9IGZvY3VzO1xuXG4gICAgbGV0IHN0YXJ0LCBlbmQ7XG4gICAgaWYgKFxuICAgICAgYW5jaG9yLnJvdyA8IGZvY3VzLnJvdyB8fFxuICAgICAgKGFuY2hvci5yb3cgPT0gZm9jdXMucm93ICYmIGFuY2hvci5jb2wgPCBmb2N1cy5jb2wpXG4gICAgKSB7XG4gICAgICBzdGFydCA9IGFuY2hvcjtcbiAgICAgIGVuZCA9IGZvY3VzO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydCA9IGZvY3VzO1xuICAgICAgZW5kID0gYW5jaG9yO1xuICAgIH1cbiAgICBpZiAoZW5kLnJvdyA+IHN0YXJ0LnJvdyAmJiBlbmQuY29sID09IDApIHtcbiAgICAgIGVuZC5yb3ctLTtcbiAgICAgIGVuZC5jb2wgPSB0aGlzLmxpbmVzW2VuZC5yb3ddLmxlbmd0aDsgLy8gU2VsZWN0aW9uIHRvIGJlZ2lubmluZyBvZiBuZXh0IGxpbmUgaXMgc2FpZCB0byBlbmQgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgbGFzdCBsaW5lXG4gICAgfVxuXG4gICAgZm9yIChsZXQgY21kIGluIGNvbW1hbmRzKSB7XG4gICAgICBpZiAoY29tbWFuZHNbY21kXS50eXBlID09IFwiaW5saW5lXCIpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFmb2N1cyB8fFxuICAgICAgICAgIGZvY3VzLnJvdyAhPSBhbmNob3Iucm93IHx8XG4gICAgICAgICAgIXRoaXMuaXNJbmxpbmVGb3JtYXR0aW5nQWxsb3dlZChmb2N1cywgYW5jaG9yKVxuICAgICAgICApIHtcbiAgICAgICAgICBjb21tYW5kU3RhdGVbY21kXSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVGhlIGNvbW1hbmQgc3RhdGUgaXMgdHJ1ZSBpZiB0aGVyZSBpcyBhIHJlc3BlY3RpdmUgZW5jbG9zaW5nIG1hcmt1cCBub2RlIChlLmcuLCB0aGUgc2VsZWN0aW9uIGlzIGVuY2xvc2VkIGluIGEgPGI+Li48L2I+KSAuLi5cbiAgICAgICAgICBjb21tYW5kU3RhdGVbY21kXSA9XG4gICAgICAgICAgICAhIXRoaXMuY29tcHV0ZUVuY2xvc2luZ01hcmt1cE5vZGUoXG4gICAgICAgICAgICAgIGZvY3VzLFxuICAgICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICAgIGNvbW1hbmRzW2NtZF0uY2xhc3NOYW1lXG4gICAgICAgICAgICApIHx8XG4gICAgICAgICAgICAvLyAuLi4gb3IgaWYgaXQncyBhbiBlbXB0eSBzdHJpbmcgcHJlY2VkZWQgYnkgYW5kIGZvbGxvd2VkIGJ5IGZvcm1hdHRpbmcgbWFya2VycywgZS5nLiAqKnwqKiB3aGVyZSB8IGlzIHRoZSBjdXJzb3JcbiAgICAgICAgICAgIChmb2N1cy5jb2wgPT0gYW5jaG9yLmNvbCAmJlxuICAgICAgICAgICAgICAhIXRoaXMubGluZXNbZm9jdXMucm93XVxuICAgICAgICAgICAgICAgIC5zdWJzdHIoMCwgZm9jdXMuY29sKVxuICAgICAgICAgICAgICAgIC5tYXRjaChjb21tYW5kc1tjbWRdLnVuc2V0LnByZVBhdHRlcm4pICYmXG4gICAgICAgICAgICAgICEhdGhpcy5saW5lc1tmb2N1cy5yb3ddXG4gICAgICAgICAgICAgICAgLnN1YnN0cihmb2N1cy5jb2wpXG4gICAgICAgICAgICAgICAgLm1hdGNoKGNvbW1hbmRzW2NtZF0udW5zZXQucG9zdFBhdHRlcm4pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNvbW1hbmRzW2NtZF0udHlwZSA9PSBcImxpbmVcIikge1xuICAgICAgICBpZiAoIWZvY3VzKSB7XG4gICAgICAgICAgY29tbWFuZFN0YXRlW2NtZF0gPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCBzdGF0ZSA9IHRoaXMubGluZVR5cGVzW3N0YXJ0LnJvd10gPT0gY29tbWFuZHNbY21kXS5jbGFzc05hbWU7XG5cbiAgICAgICAgICBmb3IgKGxldCBsaW5lID0gc3RhcnQucm93OyBsaW5lIDw9IGVuZC5yb3c7IGxpbmUrKykge1xuICAgICAgICAgICAgaWYgKCh0aGlzLmxpbmVUeXBlc1tsaW5lXSA9PSBjb21tYW5kc1tjbWRdLmNsYXNzTmFtZSkgIT0gc3RhdGUpIHtcbiAgICAgICAgICAgICAgc3RhdGUgPSBudWxsO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29tbWFuZFN0YXRlW2NtZF0gPSBzdGF0ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29tbWFuZFN0YXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgYSBjb21tYW5kIHN0YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb21tYW5kXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3RhdGVcbiAgICovXG4gIHNldENvbW1hbmRTdGF0ZShjb21tYW5kLCBzdGF0ZSkge1xuICAgIGlmIChjb21tYW5kc1tjb21tYW5kXS50eXBlID09IFwiaW5saW5lXCIpIHtcbiAgICAgIGxldCBhbmNob3IgPSB0aGlzLmdldFNlbGVjdGlvbih0cnVlKTtcbiAgICAgIGxldCBmb2N1cyA9IHRoaXMuZ2V0U2VsZWN0aW9uKGZhbHNlKTtcbiAgICAgIGlmICghYW5jaG9yKSBhbmNob3IgPSBmb2N1cztcbiAgICAgIGlmICghYW5jaG9yKSByZXR1cm47XG4gICAgICBpZiAoYW5jaG9yLnJvdyAhPSBmb2N1cy5yb3cpIHJldHVybjtcbiAgICAgIGlmICghdGhpcy5pc0lubGluZUZvcm1hdHRpbmdBbGxvd2VkKGZvY3VzLCBhbmNob3IpKSByZXR1cm47XG4gICAgICBsZXQgbWFya3VwTm9kZSA9IHRoaXMuY29tcHV0ZUVuY2xvc2luZ01hcmt1cE5vZGUoXG4gICAgICAgIGZvY3VzLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIGNvbW1hbmRzW2NvbW1hbmRdLmNsYXNzTmFtZVxuICAgICAgKTtcbiAgICAgIHRoaXMuY2xlYXJEaXJ0eUZsYWcoKTtcblxuICAgICAgLy8gRmlyc3QgY2FzZTogVGhlcmUncyBhbiBlbmNsb3NpbmcgbWFya3VwIG5vZGUsIHJlbW92ZSB0aGUgbWFya2VycyBhcm91bmQgdGhhdCBtYXJrdXAgbm9kZVxuICAgICAgaWYgKG1hcmt1cE5vZGUpIHtcbiAgICAgICAgdGhpcy5saW5lRGlydHlbZm9jdXMucm93XSA9IHRydWU7XG4gICAgICAgIGNvbnN0IHN0YXJ0Q29sID0gdGhpcy5jb21wdXRlQ29sdW1uKG1hcmt1cE5vZGUsIDApO1xuICAgICAgICBjb25zdCBsZW4gPSBtYXJrdXBOb2RlLnRleHRDb250ZW50Lmxlbmd0aDtcbiAgICAgICAgY29uc3QgbGVmdCA9IHRoaXMubGluZXNbZm9jdXMucm93XVxuICAgICAgICAgIC5zdWJzdHIoMCwgc3RhcnRDb2wpXG4gICAgICAgICAgLnJlcGxhY2UoY29tbWFuZHNbY29tbWFuZF0udW5zZXQucHJlUGF0dGVybiwgXCJcIik7XG4gICAgICAgIGNvbnN0IG1pZCA9IHRoaXMubGluZXNbZm9jdXMucm93XS5zdWJzdHIoc3RhcnRDb2wsIGxlbik7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gdGhpcy5saW5lc1tmb2N1cy5yb3ddXG4gICAgICAgICAgLnN1YnN0cihzdGFydENvbCArIGxlbilcbiAgICAgICAgICAucmVwbGFjZShjb21tYW5kc1tjb21tYW5kXS51bnNldC5wb3N0UGF0dGVybiwgXCJcIik7XG4gICAgICAgIHRoaXMubGluZXNbZm9jdXMucm93XSA9IGxlZnQuY29uY2F0KG1pZCwgcmlnaHQpO1xuICAgICAgICBhbmNob3IuY29sID0gbGVmdC5sZW5ndGg7XG4gICAgICAgIGZvY3VzLmNvbCA9IGFuY2hvci5jb2wgKyBsZW47XG4gICAgICAgIHRoaXMudXBkYXRlRm9ybWF0dGluZygpO1xuICAgICAgICB0aGlzLnNldFNlbGVjdGlvbihmb2N1cywgYW5jaG9yKTtcbiAgICAgICAgdGhpcy5maXJlQ2hhbmdlKCk7XG5cbiAgICAgICAgLy8gU2Vjb25kIGNhc2U6IEVtcHR5IHNlbGVjdGlvbiB3aXRoIHN1cnJvdW5kaW5nIGZvcm1hdHRpbmcgbWFya2VycywgcmVtb3ZlIHRob3NlXG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBmb2N1cy5jb2wgPT0gYW5jaG9yLmNvbCAmJlxuICAgICAgICAhIXRoaXMubGluZXNbZm9jdXMucm93XVxuICAgICAgICAgIC5zdWJzdHIoMCwgZm9jdXMuY29sKVxuICAgICAgICAgIC5tYXRjaChjb21tYW5kc1tjb21tYW5kXS51bnNldC5wcmVQYXR0ZXJuKSAmJlxuICAgICAgICAhIXRoaXMubGluZXNbZm9jdXMucm93XVxuICAgICAgICAgIC5zdWJzdHIoZm9jdXMuY29sKVxuICAgICAgICAgIC5tYXRjaChjb21tYW5kc1tjb21tYW5kXS51bnNldC5wb3N0UGF0dGVybilcbiAgICAgICkge1xuICAgICAgICB0aGlzLmxpbmVEaXJ0eVtmb2N1cy5yb3ddID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgbGVmdCA9IHRoaXMubGluZXNbZm9jdXMucm93XVxuICAgICAgICAgIC5zdWJzdHIoMCwgZm9jdXMuY29sKVxuICAgICAgICAgIC5yZXBsYWNlKGNvbW1hbmRzW2NvbW1hbmRdLnVuc2V0LnByZVBhdHRlcm4sIFwiXCIpO1xuICAgICAgICBjb25zdCByaWdodCA9IHRoaXMubGluZXNbZm9jdXMucm93XVxuICAgICAgICAgIC5zdWJzdHIoZm9jdXMuY29sKVxuICAgICAgICAgIC5yZXBsYWNlKGNvbW1hbmRzW2NvbW1hbmRdLnVuc2V0LnBvc3RQYXR0ZXJuLCBcIlwiKTtcbiAgICAgICAgdGhpcy5saW5lc1tmb2N1cy5yb3ddID0gbGVmdC5jb25jYXQocmlnaHQpO1xuICAgICAgICBmb2N1cy5jb2wgPSBhbmNob3IuY29sID0gbGVmdC5sZW5ndGg7XG4gICAgICAgIHRoaXMudXBkYXRlRm9ybWF0dGluZygpO1xuICAgICAgICB0aGlzLnNldFNlbGVjdGlvbihmb2N1cywgYW5jaG9yKTtcbiAgICAgICAgdGhpcy5maXJlQ2hhbmdlKCk7XG5cbiAgICAgICAgLy8gTm90IGN1cnJlbnRseSBmb3JtYXR0ZWQsIGluc2VydCBmb3JtYXR0aW5nIG1hcmtlcnNcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRyaW0gYW55IHNwYWNlcyBmcm9tIHRoZSBzZWxlY3Rpb25cbiAgICAgICAgbGV0IHsgc3RhcnRDb2wsIGVuZENvbCB9ID1cbiAgICAgICAgICBmb2N1cy5jb2wgPCBhbmNob3IuY29sXG4gICAgICAgICAgICA/IHsgc3RhcnRDb2w6IGZvY3VzLmNvbCwgZW5kQ29sOiBhbmNob3IuY29sIH1cbiAgICAgICAgICAgIDogeyBzdGFydENvbDogYW5jaG9yLmNvbCwgZW5kQ29sOiBmb2N1cy5jb2wgfTtcblxuICAgICAgICBsZXQgbWF0Y2ggPSB0aGlzLmxpbmVzW2ZvY3VzLnJvd11cbiAgICAgICAgICAuc3Vic3RyKHN0YXJ0Q29sLCBlbmRDb2wgLSBzdGFydENvbClcbiAgICAgICAgICAubWF0Y2goL14oPzxsZWFkaW5nPlxccyopLipcXFMoPzx0cmFpbGluZz5cXHMqKSQvKTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgc3RhcnRDb2wgKz0gbWF0Y2guZ3JvdXBzLmxlYWRpbmcubGVuZ3RoO1xuICAgICAgICAgIGVuZENvbCAtPSBtYXRjaC5ncm91cHMudHJhaWxpbmcubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9jdXMuY29sID0gc3RhcnRDb2w7XG4gICAgICAgIGFuY2hvci5jb2wgPSBlbmRDb2w7XG5cbiAgICAgICAgLy8gSnVzdCBpbnNlcnQgbWFya3VwIGJlZm9yZSBhbmQgYWZ0ZXIgYW5kIGhvcGUgZm9yIHRoZSBiZXN0LlxuICAgICAgICB0aGlzLndyYXBTZWxlY3Rpb24oXG4gICAgICAgICAgY29tbWFuZHNbY29tbWFuZF0uc2V0LnByZSxcbiAgICAgICAgICBjb21tYW5kc1tjb21tYW5kXS5zZXQucG9zdCxcbiAgICAgICAgICBmb2N1cyxcbiAgICAgICAgICBhbmNob3JcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5maXJlQ2hhbmdlKCk7XG4gICAgICAgIC8vIFRPRE8gY2xlYW4gdGhpcyB1cCBzbyB0aGF0IG1hcmt1cCByZW1haW5zIHByb3Blcmx5IG5lc3RlZFxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY29tbWFuZHNbY29tbWFuZF0udHlwZSA9PSBcImxpbmVcIikge1xuICAgICAgbGV0IGFuY2hvciA9IHRoaXMuZ2V0U2VsZWN0aW9uKHRydWUpO1xuICAgICAgbGV0IGZvY3VzID0gdGhpcy5nZXRTZWxlY3Rpb24oZmFsc2UpO1xuICAgICAgaWYgKCFhbmNob3IpIGFuY2hvciA9IGZvY3VzO1xuICAgICAgaWYgKCFmb2N1cykgcmV0dXJuO1xuICAgICAgdGhpcy5jbGVhckRpcnR5RmxhZygpO1xuICAgICAgbGV0IHN0YXJ0ID0gYW5jaG9yLnJvdyA+IGZvY3VzLnJvdyA/IGZvY3VzIDogYW5jaG9yO1xuICAgICAgbGV0IGVuZCA9IGFuY2hvci5yb3cgPiBmb2N1cy5yb3cgPyBhbmNob3IgOiBmb2N1cztcbiAgICAgIGlmIChlbmQucm93ID4gc3RhcnQucm93ICYmIGVuZC5jb2wgPT0gMCkge1xuICAgICAgICBlbmQucm93LS07XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IGxpbmUgPSBzdGFydC5yb3c7IGxpbmUgPD0gZW5kLnJvdzsgbGluZSsrKSB7XG4gICAgICAgIGlmIChzdGF0ZSAmJiB0aGlzLmxpbmVUeXBlc1tsaW5lXSAhPSBjb21tYW5kc1tjb21tYW5kXS5jbGFzc05hbWUpIHtcbiAgICAgICAgICB0aGlzLmxpbmVzW2xpbmVdID0gdGhpcy5saW5lc1tsaW5lXS5yZXBsYWNlKFxuICAgICAgICAgICAgY29tbWFuZHNbY29tbWFuZF0uc2V0LnBhdHRlcm4sXG4gICAgICAgICAgICBjb21tYW5kc1tjb21tYW5kXS5zZXQucmVwbGFjZW1lbnQucmVwbGFjZShcbiAgICAgICAgICAgICAgXCIkI1wiLFxuICAgICAgICAgICAgICBsaW5lIC0gc3RhcnQucm93ICsgMVxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5saW5lRGlydHlbbGluZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3RhdGUgJiYgdGhpcy5saW5lVHlwZXNbbGluZV0gPT0gY29tbWFuZHNbY29tbWFuZF0uY2xhc3NOYW1lKSB7XG4gICAgICAgICAgdGhpcy5saW5lc1tsaW5lXSA9IHRoaXMubGluZXNbbGluZV0ucmVwbGFjZShcbiAgICAgICAgICAgIGNvbW1hbmRzW2NvbW1hbmRdLnVuc2V0LnBhdHRlcm4sXG4gICAgICAgICAgICBjb21tYW5kc1tjb21tYW5kXS51bnNldC5yZXBsYWNlbWVudFxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5saW5lRGlydHlbbGluZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnVwZGF0ZUZvcm1hdHRpbmcoKTtcbiAgICAgIHRoaXMuc2V0U2VsZWN0aW9uKFxuICAgICAgICB7IHJvdzogZW5kLnJvdywgY29sOiB0aGlzLmxpbmVzW2VuZC5yb3ddLmxlbmd0aCB9LFxuICAgICAgICB7IHJvdzogc3RhcnQucm93LCBjb2w6IDAgfVxuICAgICAgKTtcbiAgICAgIHRoaXMuZmlyZUNoYW5nZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IGlubGluZSBmb3JtYXR0aW5nIGlzIGFsbG93ZWQgYXQgdGhlIGN1cnJlbnQgZm9jdXNcbiAgICogQHBhcmFtIHtvYmplY3R9IGZvY3VzIFRoZSBjdXJyZW50IGZvY3VzXG4gICAqL1xuICBpc0lubGluZUZvcm1hdHRpbmdBbGxvd2VkKCkge1xuICAgIC8vIFRPRE8gUmVtb3ZlIHBhcmFtZXRlcnMgZnJvbSBhbGwgY2FsbHNcbiAgICBjb25zdCBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgaWYgKCFzZWwgfHwgIXNlbC5mb2N1c05vZGUgfHwgIXNlbC5hbmNob3JOb2RlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAvLyBDaGVjayBpZiB3ZSBjYW4gZmluZCBhIGNvbW1vbiBhbmNlc3RvciB3aXRoIHRoZSBjbGFzcyBgVE1JbmxpbmVGb3JtYXR0ZWRgXG5cbiAgICAvLyBTcGVjaWFsIGNhc2U6IEVtcHR5IHNlbGVjdGlvbiByaWdodCBiZWZvcmUgYFRNSW5saW5lRm9ybWF0dGVkYFxuICAgIGlmIChcbiAgICAgIHNlbC5pc0NvbGxhcHNlZCAmJlxuICAgICAgc2VsLmZvY3VzTm9kZS5ub2RlVHlwZSA9PSAzICYmXG4gICAgICBzZWwuZm9jdXNPZmZzZXQgPT0gc2VsLmZvY3VzTm9kZS5ub2RlVmFsdWUubGVuZ3RoXG4gICAgKSB7XG4gICAgICBsZXQgbm9kZTtcbiAgICAgIGZvciAoXG4gICAgICAgIG5vZGUgPSBzZWwuZm9jdXNOb2RlO1xuICAgICAgICBub2RlICYmIG5vZGUubmV4dFNpYmxpbmcgPT0gbnVsbDtcbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZVxuICAgICAgKTtcbiAgICAgIGlmIChcbiAgICAgICAgbm9kZSAmJlxuICAgICAgICBub2RlLm5leHRTaWJsaW5nLmNsYXNzTmFtZSAmJlxuICAgICAgICBub2RlLm5leHRTaWJsaW5nLmNsYXNzTmFtZS5pbmNsdWRlcyhcIlRNSW5saW5lRm9ybWF0dGVkXCIpXG4gICAgICApXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIExvb2sgZm9yIGEgY29tbW9uIGFuY2VzdG9yXG4gICAgbGV0IGFuY2VzdG9yID0gdGhpcy5jb21wdXRlQ29tbW9uQW5jZXN0b3Ioc2VsLmZvY3VzTm9kZSwgc2VsLmFuY2hvck5vZGUpO1xuICAgIGlmICghYW5jZXN0b3IpIHJldHVybiBmYWxzZTtcblxuICAgIC8vIENoZWNrIGlmIHRoZXJlJ3MgYW4gYW5jZXN0b3Igb2YgY2xhc3MgJ1RNSW5saW5lRm9ybWF0dGVkJyBvciAnVE1CbGFua0xpbmUnXG4gICAgd2hpbGUgKGFuY2VzdG9yICYmIGFuY2VzdG9yICE9IHRoaXMuZSkge1xuICAgICAgaWYgKFxuICAgICAgICBhbmNlc3Rvci5jbGFzc05hbWUgJiZcbiAgICAgICAgdHlwZW9mIGFuY2VzdG9yLmNsYXNzTmFtZS5pbmNsdWRlcyA9PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgKGFuY2VzdG9yLmNsYXNzTmFtZS5pbmNsdWRlcyhcIlRNSW5saW5lRm9ybWF0dGVkXCIpIHx8XG4gICAgICAgICAgYW5jZXN0b3IuY2xhc3NOYW1lLmluY2x1ZGVzKFwiVE1CbGFua0xpbmVcIikpXG4gICAgICApXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgYW5jZXN0b3IgPSBhbmNlc3Rvci5wYXJlbnROb2RlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXcmFwcyB0aGUgY3VycmVudCBzZWxlY3Rpb24gaW4gdGhlIHN0cmluZ3MgcHJlIGFuZCBwb3N0LiBJZiB0aGUgc2VsZWN0aW9uIGlzIG5vdCBvbiBvbmUgbGluZSwgcmV0dXJucy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHByZSBUaGUgc3RyaW5nIHRvIGluc2VydCBiZWZvcmUgdGhlIHNlbGVjdGlvbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBvc3QgVGhlIHN0cmluZyB0byBpbnNlcnQgYWZ0ZXIgdGhlIHNlbGVjdGlvbi5cbiAgICogQHBhcmFtIHtvYmplY3R9IGZvY3VzIFRoZSBjdXJyZW50IHNlbGVjdGlvbiBmb2N1cy4gSWYgbnVsbCwgc2VsZWN0aW9uIHdpbGwgYmUgY29tcHV0ZWQuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBhbmNob3IgVGhlIGN1cnJlbnQgc2VsZWN0aW9uIGZvY3VzLiBJZiBudWxsLCBzZWxlY3Rpb24gd2lsbCBiZSBjb21wdXRlZC5cbiAgICovXG4gIHdyYXBTZWxlY3Rpb24ocHJlLCBwb3N0LCBmb2N1cyA9IG51bGwsIGFuY2hvciA9IG51bGwpIHtcbiAgICBpZiAoIWZvY3VzKSBmb2N1cyA9IHRoaXMuZ2V0U2VsZWN0aW9uKGZhbHNlKTtcbiAgICBpZiAoIWFuY2hvcikgYW5jaG9yID0gdGhpcy5nZXRTZWxlY3Rpb24odHJ1ZSk7XG4gICAgaWYgKCFmb2N1cyB8fCAhYW5jaG9yIHx8IGZvY3VzLnJvdyAhPSBhbmNob3Iucm93KSByZXR1cm47XG4gICAgdGhpcy5saW5lRGlydHlbZm9jdXMucm93XSA9IHRydWU7XG5cbiAgICBjb25zdCBzdGFydENvbCA9IGZvY3VzLmNvbCA8IGFuY2hvci5jb2wgPyBmb2N1cy5jb2wgOiBhbmNob3IuY29sO1xuICAgIGNvbnN0IGVuZENvbCA9IGZvY3VzLmNvbCA8IGFuY2hvci5jb2wgPyBhbmNob3IuY29sIDogZm9jdXMuY29sO1xuICAgIGNvbnN0IGxlZnQgPSB0aGlzLmxpbmVzW2ZvY3VzLnJvd10uc3Vic3RyKDAsIHN0YXJ0Q29sKS5jb25jYXQocHJlKTtcbiAgICBjb25zdCBtaWQgPVxuICAgICAgZW5kQ29sID09IHN0YXJ0Q29sXG4gICAgICAgID8gXCJcIlxuICAgICAgICA6IHRoaXMubGluZXNbZm9jdXMucm93XS5zdWJzdHIoc3RhcnRDb2wsIGVuZENvbCAtIHN0YXJ0Q29sKTtcbiAgICBjb25zdCByaWdodCA9IHBvc3QuY29uY2F0KHRoaXMubGluZXNbZm9jdXMucm93XS5zdWJzdHIoZW5kQ29sKSk7XG4gICAgdGhpcy5saW5lc1tmb2N1cy5yb3ddID0gbGVmdC5jb25jYXQobWlkLCByaWdodCk7XG4gICAgYW5jaG9yLmNvbCA9IGxlZnQubGVuZ3RoO1xuICAgIGZvY3VzLmNvbCA9IGFuY2hvci5jb2wgKyBtaWQubGVuZ3RoO1xuXG4gICAgdGhpcy51cGRhdGVGb3JtYXR0aW5nKCk7XG4gICAgdGhpcy5zZXRTZWxlY3Rpb24oZm9jdXMsIGFuY2hvcik7XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlcyB0aGUgY29tbWFuZCBzdGF0ZSBmb3IgYSBjb21tYW5kICh0cnVlIDwtPiBmYWxzZSlcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbW1hbmQgVGhlIGVkaXRvciBjb21tYW5kXG4gICAqL1xuICB0b2dnbGVDb21tYW5kU3RhdGUoY29tbWFuZCkge1xuICAgIGlmICghdGhpcy5sYXN0Q29tbWFuZFN0YXRlKSB0aGlzLmxhc3RDb21tYW5kU3RhdGUgPSB0aGlzLmdldENvbW1hbmRTdGF0ZSgpO1xuICAgIHRoaXMuc2V0Q29tbWFuZFN0YXRlKGNvbW1hbmQsICF0aGlzLmxhc3RDb21tYW5kU3RhdGVbY29tbWFuZF0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcmVzIGEgY2hhbmdlIGV2ZW50LiBVcGRhdGVzIHRoZSBsaW5rZWQgdGV4dGFyZWEgYW5kIG5vdGlmaWVzIGFueSBldmVudCBsaXN0ZW5lcnMuXG4gICAqL1xuICBmaXJlQ2hhbmdlKCkge1xuICAgIGlmICghdGhpcy50ZXh0YXJlYSAmJiAhdGhpcy5saXN0ZW5lcnMuY2hhbmdlLmxlbmd0aCkgcmV0dXJuO1xuICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLmdldENvbnRlbnQoKTtcbiAgICBpZiAodGhpcy50ZXh0YXJlYSkgdGhpcy50ZXh0YXJlYS52YWx1ZSA9IGNvbnRlbnQ7XG4gICAgZm9yIChsZXQgbGlzdGVuZXIgb2YgdGhpcy5saXN0ZW5lcnMuY2hhbmdlKSB7XG4gICAgICBsaXN0ZW5lcih7XG4gICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXG4gICAgICAgIGxpbmVzRGlydHk6IHRoaXMubGluZXNEaXJ0eSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlcyBhIFwic2VsZWN0aW9uIGNoYW5nZWRcIiBldmVudC5cbiAgICovXG4gIGZpcmVTZWxlY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMubGlzdGVuZXJzLnNlbGVjdGlvbiAmJiB0aGlzLmxpc3RlbmVycy5zZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgICBsZXQgZm9jdXMgPSB0aGlzLmdldFNlbGVjdGlvbihmYWxzZSk7XG4gICAgICBsZXQgYW5jaG9yID0gdGhpcy5nZXRTZWxlY3Rpb24odHJ1ZSk7XG4gICAgICBsZXQgY29tbWFuZFN0YXRlID0gdGhpcy5nZXRDb21tYW5kU3RhdGUoZm9jdXMsIGFuY2hvcik7XG4gICAgICBpZiAodGhpcy5sYXN0Q29tbWFuZFN0YXRlKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5sYXN0Q29tbWFuZFN0YXRlLCBjb21tYW5kU3RhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sYXN0Q29tbWFuZFN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgY29tbWFuZFN0YXRlKTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGxpc3RlbmVyIG9mIHRoaXMubGlzdGVuZXJzLnNlbGVjdGlvbikge1xuICAgICAgICBsaXN0ZW5lcih7XG4gICAgICAgICAgZm9jdXM6IGZvY3VzLFxuICAgICAgICAgIGFuY2hvcjogYW5jaG9yLFxuICAgICAgICAgIGNvbW1hbmRTdGF0ZTogdGhpcy5sYXN0Q29tbWFuZFN0YXRlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmlyZXMgYSBkcm9wIGV2ZW50LlxuICAgKi9cbiAgZmlyZURyb3AoZGF0YVRyYW5zZmVyKSB7XG4gICAgZm9yIChsZXQgbGlzdGVuZXIgb2YgdGhpcy5saXN0ZW5lcnMuZHJvcCkge1xuICAgICAgbGlzdGVuZXIoe1xuICAgICAgICBkYXRhVHJhbnNmZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGFuIGV2ZW50IGxpc3RlbmVyLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgdHlwZSBvZiBldmVudCB0byBsaXN0ZW4gdG8uIENhbiBiZSAnY2hhbmdlJywgJ3NlbGVjdGlvbicgb3IgJ2Ryb3AnLlxuICAgKiBAcGFyYW0geyp9IGxpc3RlbmVyIEZ1bmN0aW9uIG9mIHRoZSB0eXBlIChldmVudCkgPT4ge30gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGV2ZW50IG9jY3Vycy5cbiAgICovXG4gIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICBpZiAodHlwZS5tYXRjaCgvXig/OmNoYW5nZXxpbnB1dCkkL2kpKSB7XG4gICAgICB0aGlzLmxpc3RlbmVycy5jaGFuZ2UucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuICAgIGlmICh0eXBlLm1hdGNoKC9eKD86c2VsZWN0aW9ufHNlbGVjdGlvbmNoYW5nZSkkL2kpKSB7XG4gICAgICB0aGlzLmxpc3RlbmVycy5zZWxlY3Rpb24ucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuICAgIGlmICh0eXBlLm1hdGNoKC9eKD86ZHJvcCkkL2kpKSB7XG4gICAgICB0aGlzLmxpc3RlbmVycy5kcm9wLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFZGl0b3I7XG4iXSwibmFtZXMiOlsic3ZnIiwiYmxvY2txdW90ZSIsImJvbGQiLCJjbGVhcl9mb3JtYXR0aW5nIiwiY29kZSIsImgxIiwiaDIiLCJociIsImltYWdlIiwiaXRhbGljIiwibGluayIsIm9sIiwic3RyaWtldGhyb3VnaCIsInVsIiwiaXNNYWNMaWtlIiwidGVzdCIsIm5hdmlnYXRvciIsInBsYXRmb3JtIiwiRGVmYXVsdENvbW1hbmRzIiwibmFtZSIsImFjdGlvbiIsImlubmVySFRNTCIsInRpdGxlIiwiaG90a2V5IiwiZWRpdG9yIiwiaXNJbmxpbmVGb3JtYXR0aW5nQWxsb3dlZCIsIndyYXBTZWxlY3Rpb24iLCJlbmFibGVkIiwiZm9jdXMiLCJhbmNob3IiLCJwYXN0ZSIsIkNvbW1hbmRCYXIiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwiZSIsImNvbW1hbmRzIiwiYnV0dG9ucyIsInN0YXRlIiwiaG90a2V5cyIsImVsZW1lbnQiLCJ0YWdOYW1lIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImJvZHkiLCJjcmVhdGVDb21tYW5kQmFyRWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVLZXlkb3duIiwic2V0RWRpdG9yIiwicGFyZW50RWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJjb21tYW5kIiwiZWwiLCJhcHBlbmRDaGlsZCIsImNvbW1hbmROYW1lIiwiT2JqZWN0IiwiYXNzaWduIiwia2V5cyIsInNwbGl0IiwibW9kaWZpZXJzIiwibW9kaWZpZXJleHBsYW5hdGlvbiIsImkiLCJsZW5ndGgiLCJwdXNoIiwibWF0Y2giLCJrZXkiLCJ0b0xvd2VyQ2FzZSIsImNvbmNhdCIsImpvaW4iLCJoYW5kbGVDbGljayIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJzZXRDb21tYW5kU3RhdGUiLCJoYW5kbGVTZWxlY3Rpb24iLCJjb21tYW5kU3RhdGUiLCJ1bmRlZmluZWQiLCJvdXRlciIsIm1vZGlmaWVyIiwiY2hlY2siLCJpdCIsIk1hdGgiLCJtb2R1bGUiLCJnbG9iYWxUaGlzIiwid2luZG93Iiwic2VsZiIsImdsb2JhbCIsInRoaXMiLCJGdW5jdGlvbiIsImV4ZWMiLCJlcnJvciIsImZhaWxzIiwicmVxdWlyZSIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiYmluZCIsImhhc093blByb3BlcnR5IiwiTkFUSVZFX0JJTkQiLCJGdW5jdGlvblByb3RvdHlwZSIsInByb3RvdHlwZSIsImNhbGwiLCJ1bmN1cnJ5VGhpc1dpdGhCaW5kIiwiZm4iLCJhcHBseSIsImFyZ3VtZW50cyIsImRvY3VtZW50QWxsIiwiYWxsIiwiSVNfSFRNTEREQSIsIiRkb2N1bWVudEFsbCIsImFyZ3VtZW50IiwiaXNOdWxsT3JVbmRlZmluZWQiLCIkVHlwZUVycm9yIiwiVHlwZUVycm9yIiwicmVxdWlyZU9iamVjdENvZXJjaWJsZSIsIiRPYmplY3QiLCJ1bmN1cnJ5VGhpcyIsInRvT2JqZWN0IiwiaGFzT3duIiwiREVTQ1JJUFRPUlMiLCJnZXREZXNjcmlwdG9yIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiRVhJU1RTIiwiUFJPUEVSIiwic29tZXRoaW5nIiwiQ09ORklHVVJBQkxFIiwiY29uZmlndXJhYmxlIiwidmFsdWUiLCJ3cml0YWJsZSIsImRlZmluZUdsb2JhbFByb3BlcnR5IiwiU0hBUkVEIiwic3RvcmUiLCJpc0NhbGxhYmxlIiwiZnVuY3Rpb25Ub1N0cmluZyIsInRvU3RyaW5nIiwiaW5zcGVjdFNvdXJjZSIsIldlYWtNYXAiLCJTdHJpbmciLCJpc09iamVjdCIsImEiLCIkU3RyaW5nIiwiYUZ1bmN0aW9uIiwibmFtZXNwYWNlIiwibWV0aG9kIiwiaXNQcm90b3R5cGVPZiIsInVzZXJBZ2VudCIsInByb2Nlc3MiLCJEZW5vIiwidmVyc2lvbnMiLCJ2ZXJzaW9uIiwidjgiLCJWOF9WRVJTSU9OIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9sIiwiU3ltYm9sIiwic2hhbSIsIk5BVElWRV9TWU1CT0wiLCJpdGVyYXRvciIsImdldEJ1aWx0SW4iLCJVU0VfU1lNQk9MX0FTX1VJRCIsIiRTeW1ib2wiLCJ0cnlUb1N0cmluZyIsImFDYWxsYWJsZSIsIlYiLCJQIiwiZnVuYyIsImlucHV0IiwicHJlZiIsInZhbCIsInZhbHVlT2YiLCJtb2RlIiwiY29weXJpZ2h0IiwibGljZW5zZSIsInNvdXJjZSIsImlkIiwicG9zdGZpeCIsInJhbmRvbSIsInNoYXJlZCIsInVpZCIsIldlbGxLbm93blN5bWJvbHNTdG9yZSIsImNyZWF0ZVdlbGxLbm93blN5bWJvbCIsIndpdGhvdXRTZXR0ZXIiLCJpc1N5bWJvbCIsImdldE1ldGhvZCIsIm9yZGluYXJ5VG9QcmltaXRpdmUiLCJ3ZWxsS25vd25TeW1ib2wiLCJUT19QUklNSVRJVkUiLCJleG90aWNUb1ByaW0iLCJyZXN1bHQiLCJ0b1ByaW1pdGl2ZSIsIklFOF9ET01fREVGSU5FIiwiVjhfUFJPVE9UWVBFX0RFRklORV9CVUciLCJhbk9iamVjdCIsInRvUHJvcGVydHlLZXkiLCIkZGVmaW5lUHJvcGVydHkiLCIkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiRU5VTUVSQUJMRSIsIldSSVRBQkxFIiwiZXhwb3J0cyIsIk8iLCJBdHRyaWJ1dGVzIiwiY3VycmVudCIsImVudW1lcmFibGUiLCJiaXRtYXAiLCJkZWZpbmVQcm9wZXJ0eU1vZHVsZSIsImNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciIsIm9iamVjdCIsImYiLCJOQVRJVkVfV0VBS19NQVAiLCJjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkiLCJzaGFyZWRLZXkiLCJPQkpFQ1RfQUxSRUFEWV9JTklUSUFMSVpFRCIsInNldCIsImhhcyIsImVuZm9yY2UiLCJnZXR0ZXJGb3IiLCJUWVBFIiwidHlwZSIsIm1ldGFkYXRhIiwiZmFjYWRlIiwiU1RBVEUiLCJDT05GSUdVUkFCTEVfRlVOQ1RJT05fTkFNRSIsIkludGVybmFsU3RhdGVNb2R1bGUiLCJlbmZvcmNlSW50ZXJuYWxTdGF0ZSIsImdldEludGVybmFsU3RhdGUiLCJzdHJpbmdTbGljZSIsInNsaWNlIiwicmVwbGFjZSIsIkNPTkZJR1VSQUJMRV9MRU5HVEgiLCJURU1QTEFURSIsIm1ha2VCdWlsdEluIiwib3B0aW9ucyIsImdldHRlciIsInNldHRlciIsImFyaXR5IiwidGFyZ2V0IiwiZGVzY3JpcHRvciIsInRoYXQiLCJoYXNJbmRpY2VzIiwiaWdub3JlQ2FzZSIsIm11bHRpbGluZSIsImRvdEFsbCIsInVuaWNvZGUiLCJ1bmljb2RlU2V0cyIsInN0aWNreSIsImRlZmluZUJ1aWx0SW5BY2Nlc3NvciIsInJlZ0V4cEZsYWdzIiwiUmVnRXhwIiwiUmVnRXhwUHJvdG90eXBlIiwiRk9SQ0VEIiwiSU5ESUNFU19TVVBQT1JUIiwiY2FsbHMiLCJleHBlY3RlZCIsImFkZEdldHRlciIsImNociIsInBhaXJzIiwicmVwbGFjZW1lbnRzIiwiQVNDSUlQdW5jdHVhdGlvbiIsIk5vdFRyaWdnZXJDaGFyIiwiU2NoZW1lIiwiRW1haWwiLCJIVE1MT3BlblRhZyIsIkhUTUxDbG9zZVRhZyIsIkhUTUxUYWdOYW1lIiwiSFRNTENvbW1lbnQiLCJIVE1MUEkiLCJIVE1MRGVjbGFyYXRpb24iLCJIVE1MQ0RBVEEiLCJIVE1MQXR0cmlidXRlIiwiSFRNTEF0dFZhbHVlIiwiS25vd25UYWciLCJwdW5jdHVhdGlvbkxlYWRpbmciLCJwdW5jdHVhdGlvblRyYWlsaW5nIiwibGluZUdyYW1tYXIiLCJUTUgxIiwicmVnZXhwIiwicmVwbGFjZW1lbnQiLCJUTUgyIiwiVE1IMyIsIlRNSDQiLCJUTUg1IiwiVE1INiIsIlRNQmxvY2txdW90ZSIsIlRNQ29kZUZlbmNlQmFja3RpY2tPcGVuIiwiVE1Db2RlRmVuY2VUaWxkZU9wZW4iLCJUTUNvZGVGZW5jZUJhY2t0aWNrQ2xvc2UiLCJUTUNvZGVGZW5jZVRpbGRlQ2xvc2UiLCJUTUJsYW5rTGluZSIsIlRNU2V0ZXh0SDFNYXJrZXIiLCJUTVNldGV4dEgyTWFya2VyIiwiVE1IUiIsIlRNVUwiLCJUTU9MIiwiVE1JbmRlbnRlZENvZGUiLCJUTUxpbmtSZWZlcmVuY2VEZWZpbml0aW9uIiwibGFiZWxQbGFjZWhvbGRlciIsImh0bWxCbG9ja0dyYW1tYXIiLCJzdGFydCIsImVuZCIsInBhcmFJbnRlcnJ1cHQiLCJpbmxpbmVHcmFtbWFyIiwiZXNjYXBlIiwiYXV0b2xpbmsiLCJodG1sIiwibGlua09wZW4iLCJpbWFnZU9wZW4iLCJsaW5rTGFiZWwiLCJkZWZhdWx0IiwicmVwbGFjZW1lbnRSZWdleHAiLCJpbmxpbmVSdWxlcyIsInJ1bGUiLCJyZSIsInN0cmluZyIsImZsYWdzIiwiaHRtbGVzY2FwZSIsInByZSIsInBvc3QiLCJ1bnNldCIsInByZVBhdHRlcm4iLCJwb3N0UGF0dGVybiIsInBhdHRlcm4iLCJoMyIsImg0IiwiaDUiLCJoNiIsIkVkaXRvciIsInRleHRhcmVhIiwibGluZXMiLCJsaW5lRWxlbWVudHMiLCJsaW5lVHlwZXMiLCJsaW5lQ2FwdHVyZXMiLCJsaW5lUmVwbGFjZW1lbnRzIiwibGlua0xhYmVscyIsImxpbmVEaXJ0eSIsImxhc3RDb21tYW5kU3RhdGUiLCJsaXN0ZW5lcnMiLCJjaGFuZ2UiLCJzZWxlY3Rpb24iLCJkcm9wIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwYXJlbnROb2RlIiwic3R5bGUiLCJkaXNwbGF5IiwiY3JlYXRlRWRpdG9yRWxlbWVudCIsInNldENvbnRlbnQiLCJjb250ZW50IiwiY29udGVudEVkaXRhYmxlIiwid2hpdGVTcGFjZSIsIndlYmtpdFVzZXJNb2RpZnkiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImhhbmRsZUlucHV0RXZlbnQiLCJoYW5kbGVTZWxlY3Rpb25DaGFuZ2VFdmVudCIsImhhbmRsZVBhc3RlIiwiaGFuZGxlRHJvcCIsImNoaWxkTm9kZXMiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJsaW5lTnVtIiwibGUiLCJBcnJheSIsInVwZGF0ZUZvcm1hdHRpbmciLCJmaXJlQ2hhbmdlIiwiZ2V0Q29udGVudCIsInVwZGF0ZUxpbmVUeXBlcyIsInVwZGF0ZUxpbmtMYWJlbHMiLCJhcHBseUxpbmVUeXBlcyIsImwiLCJjYXB0dXJlIiwic3RyIiwicDEiLCJwMiIsInByb2Nlc3NJbmxpbmVTdHlsZXMiLCJjb250ZW50SFRNTCIsInJlbW92ZUF0dHJpYnV0ZSIsImRhdGFzZXQiLCJjb2RlQmxvY2tUeXBlIiwiY29kZUJsb2NrU2VxTGVuZ3RoIiwiaHRtbEJsb2NrIiwibGluZVR5cGUiLCJsaW5lQ2FwdHVyZSIsImxpbmVSZXBsYWNlbWVudCIsImdyb3VwcyIsImh0bWxCbG9ja1R5cGUiLCJoZWFkaW5nTGluZSIsImhlYWRpbmdMaW5lVHlwZSIsInVwZGF0ZUxpbmVDb250ZW50c0FuZEZvcm1hdHRpbmciLCJjbGVhckRpcnR5RmxhZyIsInVwZGF0ZUxpbmVDb250ZW50cyIsInBhcnNlTGlua09ySW1hZ2UiLCJvcmlnaW5hbFN0cmluZyIsImlzSW1hZ2UiLCJ0ZXh0T2Zmc2V0Iiwib3BlbmVyIiwic3Vic3RyIiwiY3VycmVudE9mZnNldCIsImJyYWNrZXRMZXZlbCIsImxpbmtUZXh0IiwibGlua1JlZiIsImxpbmtEZXRhaWxzIiwidGV4dE91dGVyIiwiY2FwIiwibmV4dENoYXIiLCJ0cmltIiwicGFyZW50aGVzaXNMZXZlbCIsImlubGluZU91dGVyIiwidmFsaWQiLCJsYWJlbCIsIm91dHB1dCIsImNoYXJDb3VudCIsInByb2Nlc3NlZCIsInN0YWNrIiwib2Zmc2V0IiwicG90ZW50aWFsTGluayIsInBvdGVudGlhbEltYWdlIiwiZGVsaW1Db3VudCIsImRlbGltU3RyaW5nIiwiY3VycmVudERlbGltaXRlciIsInByZWNlZGluZyIsImZvbGxvd2luZyIsInB1bmN0dWF0aW9uRm9sbG93cyIsInB1bmN0dWF0aW9uUHJlY2VkZXMiLCJ3aGl0ZXNwYWNlRm9sbG93cyIsIndoaXRlc3BhY2VQcmVjZWRlcyIsImNhbk9wZW4iLCJjYW5DbG9zZSIsInN0YWNrUG9pbnRlciIsImRlbGltaXRlciIsImVudHJ5IiwicG9wIiwiY291bnQiLCJjb25zdW1lZCIsImxpbmVEZWx0YSIsImNoaWxkRWxlbWVudENvdW50IiwiZmlyc3RDaGFuZ2VkTGluZSIsInRleHRDb250ZW50IiwibGFzdENoYW5nZWRMaW5lIiwibGluZXNUb0RlbGV0ZSIsImxpbmVzVG9BZGQiLCJzcGxpY2VMaW5lcyIsImxpbmUiLCJjdCIsInByb2Nlc3NOZXdQYXJhZ3JhcGgiLCJzZWwiLCJjb250aW51YWJsZVR5cGUiLCJjaGVja0xpbmUiLCJjb2wiLCJyb3ciLCJwYXJzZUludCIsImdldFNlbGVjdGlvbiIsImdldEFuY2hvciIsInN0YXJ0Tm9kZSIsImFuY2hvck5vZGUiLCJmb2N1c05vZGUiLCJhbmNob3JPZmZzZXQiLCJmb2N1c09mZnNldCIsImNvbXB1dGVDb2x1bW4iLCJub2RlIiwicHJldmlvdXNTaWJsaW5nIiwibm9kZVR5cGUiLCJOb2RlIiwiVEVYVF9OT0RFIiwiY29tcHV0ZU5vZGVBbmRPZmZzZXQiLCJiaW5kUmlnaHQiLCJjaGlsZHJlbkNvbXBsZXRlIiwicnYiLCJub2RlVmFsdWUiLCJzZXRTZWxlY3Rpb24iLCJyYW5nZSIsImNyZWF0ZVJhbmdlIiwic2V0U3RhcnQiLCJzZXRFbmQiLCJ3aW5kb3dTZWxlY3Rpb24iLCJyZW1vdmVBbGxSYW5nZXMiLCJhZGRSYW5nZSIsImlucHV0VHlwZSIsImZpeE5vZGVIaWVyYXJjaHkiLCJvcmlnaW5hbENoaWxkcmVuIiwiZnJvbSIsInJlcGxhY2VDaGlsZCIsImNoaWxkIiwicGFyZW50IiwiX2xlbiIsIm5ld0NoaWxkcmVuIiwiX2tleSIsImZvckVhY2giLCJuZXdDaGlsZCIsIkVMRU1FTlRfTk9ERSIsImRpdldyYXBwZXIiLCJncmFuZENoaWxkcmVuIiwic29tZSIsImdyYW5kQ2hpbGQiLCJmaXJlRHJvcCIsImRhdGFUcmFuc2ZlciIsImZpcmVTZWxlY3Rpb24iLCJzdGFydExpbmUiLCJsaW5lc1RvSW5zZXJ0IiwiYWRqdXN0TGluZUVsZW1lbnRzIiwiaW5zZXJ0ZWRCbGFuayIsImluc2VydGVkRGlydHkiLCJzcGxpY2UiLCJ0ZXh0Iiwib3JpZ2luYWxFdmVudCIsImNsaXBib2FyZERhdGEiLCJnZXREYXRhIiwiYmVnaW5uaW5nIiwiaW5zZXJ0ZWRMaW5lcyIsImxpbmVCZWZvcmUiLCJsaW5lRW5kIiwiZW5kQ29sUG9zIiwiY29tcHV0ZUNvbW1vbkFuY2VzdG9yIiwibm9kZTEiLCJub2RlMiIsImFuY2VzdHJ5IiwidW5zaGlmdCIsImFuY2VzdHJ5MSIsImFuY2VzdHJ5MiIsImNvbXB1dGVFbmNsb3NpbmdNYXJrdXBOb2RlIiwiaW5jbHVkZXMiLCJnZXRDb21tYW5kU3RhdGUiLCJjbWQiLCJtYXJrdXBOb2RlIiwic3RhcnRDb2wiLCJsZW4iLCJsZWZ0IiwibWlkIiwicmlnaHQiLCJlbmRDb2wiLCJsZWFkaW5nIiwidHJhaWxpbmciLCJpc0NvbGxhcHNlZCIsImFuY2VzdG9yIiwidG9nZ2xlQ29tbWFuZFN0YXRlIiwibGlzdGVuZXIiLCJsaW5lc0RpcnR5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7RUFBQSxNQUFNQSxHQUFHLEdBQUc7RUFDVkMsRUFBQUEsVUFBVSxFQUFHLENBQTBSLHlSQUFBLENBQUE7RUFDdlNDLEVBQUFBLElBQUksRUFBRyxDQUF5WSx3WUFBQSxDQUFBO0VBQ2haQyxFQUFBQSxnQkFBZ0IsRUFBRyxDQUEwWCx5WEFBQSxDQUFBO0VBQzdZQyxFQUFBQSxJQUFJLEVBQUcsQ0FBOFUsNlVBQUEsQ0FBQTtFQUNyVkMsRUFBQUEsRUFBRSxFQUFHLENBQStKLDhKQUFBLENBQUE7RUFDcEtDLEVBQUFBLEVBQUUsRUFBRyxDQUFpSyxnS0FBQSxDQUFBO0VBQ3RLQyxFQUFBQSxFQUFFLEVBQUcsQ0FBZ0ksK0hBQUEsQ0FBQTtFQUNySUMsRUFBQUEsS0FBSyxFQUFHLENBQThILDZIQUFBLENBQUE7RUFDdElDLEVBQUFBLE1BQU0sRUFBRyxDQUFnSCwrR0FBQSxDQUFBO0VBQ3pIQyxFQUFBQSxJQUFJLEVBQUcsQ0FBMHVDLHl1Q0FBQSxDQUFBO0VBQ2p2Q0MsRUFBQUEsRUFBRSxFQUFHLENBQW90QixtdEJBQUEsQ0FBQTtFQUN6dEJDLEVBQUFBLGFBQWEsRUFBRyxDQUEyWCwwWEFBQSxDQUFBO0VBQzNZQyxFQUFBQSxFQUFFLEVBQUcsQ0FBQSwyUUFBQSxDQUFBO0VBQ1AsQ0FBQzs7RUNaRCxNQUFNQyxTQUFTLEdBQUcseUJBQXlCLENBQUNDLElBQUksQ0FBQyxPQUFPQyxTQUFTLEtBQUssV0FBVyxHQUFHQSxTQUFTLENBQUNDLFFBQVEsR0FBRyxFQUFFLENBQUMsQ0FBQTtFQUU1RyxNQUFNQyxlQUFlLEdBQUc7RUFDdEIsRUFB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QUFJLEVBQUU0VCxRQUFRLEVBQUU7RUFDL0IsSUFBQSxJQUFJNVQsSUFBSSxDQUFDdkosS0FBSyxDQUFDLHFCQUFxQixDQUFDLEVBQUU7UUFDckMsSUFBSSxDQUFDNlEsU0FBUyxDQUFDQyxNQUFNLENBQUMvUSxJQUFJLENBQUNvZCxRQUFRLENBQUMsQ0FBQTtFQUN0QyxLQUFBO0VBQ0EsSUFBQSxJQUFJNVQsSUFBSSxDQUFDdkosS0FBSyxDQUFDLGtDQUFrQyxDQUFDLEVBQUU7UUFDbEQsSUFBSSxDQUFDNlEsU0FBUyxDQUFDRSxTQUFTLENBQUNoUixJQUFJLENBQUNvZCxRQUFRLENBQUMsQ0FBQTtFQUN6QyxLQUFBO0VBQ0EsSUFBQSxJQUFJNVQsSUFBSSxDQUFDdkosS0FBSyxDQUFDLGFBQWEsQ0FBQyxFQUFFO1FBQzdCLElBQUksQ0FBQzZRLFNBQVMsQ0FBQ0csSUFBSSxDQUFDalIsSUFBSSxDQUFDb2QsUUFBUSxDQUFDLENBQUE7RUFDcEMsS0FBQTtFQUNGLEdBQUE7RUFDRjs7Ozs7Ozs7OyIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlsyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTksMjAsMjEsMjIsMjMsMjQsMjUsMjYsMjcsMjgsMjksMzAsMzEsMzIsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAsNDEsNDIsNDMsNDQsNDUsNDYsNDcsNDhdfQ=={"version":3,"file":"index.js","sources":["src/svg/svg.js","src/TinyMDECommandBar.js","node_modules/core-js/internals/global.js","node_modules/core-js/internals/fails.js","node_modules/core-js/internals/descriptors.js","node_modules/core-js/internals/function-bind-native.js","node_modules/core-js/internals/function-uncurry-this.js","node_modules/core-js/internals/document-all.js","node_modules/core-js/internals/is-callable.js","node_modules/core-js/internals/is-null-or-undefined.js","node_modules/core-js/internals/require-object-coercible.js","node_modules/core-js/internals/to-object.js","node_modules/core-js/internals/has-own-property.js","node_modules/core-js/internals/function-name.js","node_modules/core-js/internals/define-global-property.js","node_modules/core-js/internals/shared-store.js","node_modules/core-js/internals/inspect-source.js","node_modules/core-js/internals/weak-map-basic-detection.js","node_modules/core-js/internals/is-object.js","node_modules/core-js/internals/document-create-element.js","node_modules/core-js/internals/ie8-dom-define.js","node_modules/core-js/internals/v8-prototype-define-bug.js","node_modules/core-js/internals/an-object.js","node_modules/core-js/internals/function-call.js","node_modules/core-js/internals/get-built-in.js","node_modules/core-js/internals/object-is-prototype-of.js","node_modules/core-js/internals/engine-user-agent.js","node_modules/core-js/internals/engine-v8-version.js","node_modules/core-js/internals/symbol-constructor-detection.js","node_modules/core-js/internals/use-symbol-as-uid.js","node_modules/core-js/internals/is-symbol.js","node_modules/core-js/internals/try-to-string.js","node_modules/core-js/internals/a-callable.js","node_modules/core-js/internals/get-method.js","node_modules/core-js/internals/ordinary-to-primitive.js","node_modules/core-js/internals/shared.js","node_modules/core-js/internals/uid.js","node_modules/core-js/internals/well-known-symbol.js","node_modules/core-js/internals/to-primitive.js","node_modules/core-js/internals/to-property-key.js","node_modules/core-js/internals/object-define-property.js","node_modules/core-js/internals/create-property-descriptor.js","node_modules/core-js/internals/create-non-enumerable-property.js","node_modules/core-js/internals/shared-key.js","node_modules/core-js/internals/internal-state.js","node_modules/core-js/internals/make-built-in.js","node_modules/core-js/internals/define-built-in-accessor.js","node_modules/core-js/internals/regexp-flags.js","node_modules/core-js/modules/es.regexp.flags.js","src/grammar.js","src/TinyMDE.js"],"sourcesContent":["const svg = {\n  blockquote: `<svg height=\"18\" width=\"18\"><rect width=\"5\" height=\"5\" x=\"3\" y=\"4\" ry=\"1\"/><rect ry=\"1\" y=\"4\" x=\"10\" height=\"5\" width=\"5\"/><path d=\"M8 6.999v3c0 1-1 3-1 3s-.331 1-1.331 1h-1c-1 0-.669-1-.669-1s1-2 1-3v-3zm7 0v3c0 1-1 3-1 3s-.331 1-1.331 1h-1c-1 0-.669-1-.669-1s1-2 1-3v-3z\"/></svg>`,\n  bold: `<svg height=\"18\" width=\"18\"><path d=\"M4 2a1 1 0 00-1 1v12a1 1 0 001 1h6c4 0 5-2 5-4 0-1.322-.434-2.636-1.885-3.381C13.772 7.885 14 6.945 14 6c0-2-1-4-5-4zm1 2h4c1.668 0 2.32.393 2.6.672.28.279.4.662.4 1.328s-.12 1.057-.4 1.338c-.275.274-1.014.646-2.6.662H5zm5 6c1.666.005 2.318.388 2.596.666.277.278.404.667.404 1.334s-.127 1.06-.404 1.338c-.278.278-.93.66-2.596.662l-4.992.004L5 10z\"/></svg>`,\n  clear_formatting: `<svg height=\"18\" width=\"18\"><path d=\"M11.03 1a1 1 0 00-.74.3l-9 9a1 1 0 000 1.4l4 4A1 1 0 006 16h2a1 1 0 00.7-.3l8-8a1 1 0 000-1.4l-5-5a1 1 0 00-.67-.3zM8.7 5.7l3.58 3.6L7.6 14H6.4l-3-3 5.3-5.3z\"/><rect ry=\".8\" rx=\".8\" y=\"14\" x=\"16\" height=\"2\" width=\"2\"/><rect width=\"2\" height=\"2\" x=\"13\" y=\"14\" rx=\".8\" ry=\".8\"/><rect ry=\".8\" rx=\".8\" y=\"14\" x=\"10\" height=\"2\" width=\"2\"/></svg>`,\n  code: `<svg height=\"18\" width=\"18\"><path d=\"M13.5 2.994a.5.5 0 00-.5.5.5.5 0 000 .034V4.53a5.993 5.993 0 00-7.451-.445A6 6 0 1012.45 13.9a5.99 5.99 0 001.346-1.334.5.5 0 00.096-.101.5.5 0 00-.12-.698.5.5 0 00-.697.12l-.004-.005a5 5 0 01-1.197 1.2 5 5 0 111.215-6.965.5.5 0 00.697.12.5.5 0 00.211-.44V4.745H14V3.493a.5.5 0 00-.5-.5z\"/></svg>`,\n  h1: `<svg height=\"18\" width=\"18\"><path d=\"M3 2s0-1 1-1h1c1 0 1 1 1 1v6h6V2s0-1 1-1h1c1 0 1 1 1 1v14s0 1-1 1h-1c-1 0-1-1-1-1v-6H6v6s0 1-1 1H4c-1 0-1-1-1-1z\"/></svg>`,\n  h2: `<svg height=\"18\" width=\"18\"><path d=\"M4 2s0-1 1-1 1 1 1 1v6c1-1 2-1 4-1 3 0 4 2 4 4v5s0 1-1 1-1-1-1-1v-5c0-1.094-1-2-2-2-2 0-3 0-4 2v5s0 1-1 1-1-1-1-1z\"/></svg>`,\n  hr: `<svg height=\"18\" width=\"18\"><rect ry=\"1\" y=\"8\" height=\"2\" width=\"18\" style=\"font-variation-settings:normal;marker:none\"/></svg>`,\n  image: `<svg height=\"18\" width=\"18\"><path d=\"M1 2v14h16V2H1zm2 2h12v7l-3-3-4 4-2-2-3 3V4z\"/><circle r=\"1.5\" cy=\"6.5\" cx=\"5.5\"/></svg>`,\n  italic: `<svg height=\"18\" width=\"18\"><path d=\"M9 2a1 1 0 000 2L7 14a1 1 0 100 2h2a1 1 0 000-2l2-10a1 1 0 100-2z\"/></svg>`,\n  link: `<svg height=\"18\" width=\"18\"><path d=\"M9.07 5.18a3.9 3.9 0 00-1.52.43C6.31 6.22 5.3 7.29 4.3 8.29c-1 1-2.07 2.02-2.68 3.26-.31.62-.5 1.33-.41 2.07.09.75.48 1.47 1.1 2.09.61.61 1.33 1 2.08 1.1.74.09 1.45-.1 2.07-.42 1.24-.61 2.26-1.68 3.26-2.68.46-.47.94-.94 1.39-1.44l-.43.26c-.68.34-1.49.56-2.36.46-.2-.03-.4-.08-.6-.14-.79.76-1.55 1.45-2.16 1.76-.38.19-.67.24-.92.21-.26-.03-.54-.14-.92-.53-.39-.38-.5-.66-.53-.91-.03-.26.02-.55.21-.93.39-.76 1.32-1.74 2.32-2.74 1-1 1.98-1.93 2.74-2.32.38-.19.67-.24.93-.21.25.03.53.14.91.53.39.38.5.66.53.92v.06l1.12-1.06.44-.47c-.18-.3-.4-.6-.67-.87-.62-.61-1.34-1-2.09-1.1a3.08 3.08 0 00-.55-.01z\"/><path d=\"M13.07.86a3.9 3.9 0 00-1.52.43c-1.24.62-2.26 1.69-3.26 2.69-.46.47-.94.94-1.39 1.43.15-.08.28-.18.43-.25a4.4 4.4 0 012.36-.46c.2.02.4.07.6.14.79-.77 1.55-1.46 2.16-1.76.38-.19.67-.25.93-.21.25.03.53.14.91.52.39.38.5.66.53.92.03.26-.02.55-.21.93-.39.76-1.32 1.74-2.32 2.74-1 1-1.98 1.93-2.74 2.31-.38.2-.67.25-.93.22-.25-.04-.53-.15-.91-.53-.39-.38-.5-.66-.53-.92V9c-.36.33-.73.67-1.12 1.06l-.43.46c.17.3.4.6.66.87.62.62 1.34 1 2.08 1.1.75.1 1.46-.1 2.08-.41 1.24-.62 2.26-1.69 3.26-2.69s2.07-2.02 2.68-3.26c.31-.62.5-1.32.41-2.07a3.63 3.63 0 00-1.1-2.08c-.61-.62-1.33-1-2.07-1.1a3.08 3.08 0 00-.56-.02z\"/></svg>`,\n  ol: `<svg height=\"18\" width=\"18\"><path d=\"M1.5 7a.5.5 0 100 1h1a.5.5 0 01.5.5c0 .164-.08.31-.14.355l-1.655 1.25A.492.492 0 001 10.5a.5.5 0 00.5.5h2a.5.5 0 000-1H3l.398-.299A1.5 1.5 0 002.5 7z\"/><path d=\"M1.5 12c-.667 0-.667 1 0 1h1.25c.333 0 .333.5 0 .5H2.5c-.667 0-.667 1 0 1h.25c.333 0 .333.5 0 .5H1.5c-.667 0-.667 1 0 1h1c.398 0 .78-.131 1.06-.365.282-.235.44-.554.44-.885a1.121 1.121 0 00-.303-.75c.191-.204.3-.47.303-.75 0-.332-.158-.651-.44-.885-.3-.241-.675-.37-1.06-.365z\"/><rect y=\"13\" x=\"6\" height=\"2\" width=\"12\" ry=\"1\"/><rect ry=\"1\" width=\"12\" height=\"2\" x=\"6\" y=\"8\"/><rect y=\"3\" x=\"6\" height=\"2\" width=\"12\" ry=\"1\"/><path d=\"M1.5 2a.5.5 0 100 1H2v2h-.5a.5.5 0 100 1h2a.5.5 0 100-1H3V2.5c0-.277-.223-.5-.5-.5z\"/></svg>`,\n  strikethrough: `<svg width=\"18\" height=\"18\"><path d=\"M10 2C6 2 4 4 4 6c0 .338.08.672.193 1h2.34C6.113 6.629 6 6.295 6 6c0-.334.117-.725.691-1.154C7.265 4.416 8.331 4 10 4h3a1 1 0 000-2zm1.477 9c.413.368.523.706.523 1 0 .334-.127.712-.701 1.143-.575.43-1.632.85-3.299.857l-1.006.007V14H5a1 1 0 000 2h3c4 0 6-2 6-4 0-.338-.081-.672-.195-1z\"/><rect ry=\"1\" y=\"8\" x=\"1\" height=\"2\" width=\"16\"/></svg>`,\n  ul: `<svg height=\"18\" width=\"18\"><circle cx=\"2\" cy=\"9\" r=\"2\"/><circle cy=\"4\" cx=\"2\" r=\"2\"/><rect y=\"3\" x=\"6\" height=\"2\" width=\"12\" ry=\"1\"/><circle cx=\"2\" cy=\"14\" r=\"2\"/><rect ry=\"1\" width=\"12\" height=\"2\" x=\"6\" y=\"8\"/><rect y=\"13\" x=\"6\" height=\"2\" width=\"12\" ry=\"1\"/></svg>`\n};\n\nexport default svg;","import svg from './svg/svg';\n\nconst isMacLike = /(Mac|iPhone|iPod|iPad)/i.test(typeof navigator !== \"undefined\" ? navigator.platform : \"\");\n\nconst DefaultCommands = {\n  'bold': {\n    name: 'bold',\n    action: 'bold',\n    innerHTML: svg.bold,\n    title: 'Bold',\n    hotkey: 'Mod-B',\n  },\n  'italic': {\n    name: 'italic',\n    action: 'italic',\n    innerHTML: svg.italic,\n    title: 'Italic',\n    hotkey: 'Mod-I',\n  },\n  'strikethrough': {\n    name: 'strikethrough',\n    action: 'strikethrough',\n    innerHTML: svg.strikethrough,\n    title: 'Strikethrough',\n    hotkey: 'Mod2-Shift-5',\n  },\n  'code': {\n    name: 'code',\n    action: 'code',\n    innerHTML: svg.code,\n    title: 'Format as code',\n  },\n  'h1': {\n    name: 'h1',\n    action: 'h1',\n    innerHTML: svg.h1,\n    title: 'Level 1 heading',\n    hotkey: 'Mod-Shift-1',\n  },\n  'h2': {\n    name: 'h2',\n    action: 'h2',\n    innerHTML: svg.h2,\n    title: 'Level 2 heading',\n    hotkey: 'Mod-Shift-2',\n  },\n  'ul': {\n    name: 'ul',\n    action: 'ul',\n    innerHTML: svg.ul,\n    title: 'Bulleted list',\n  },\n  'ol': {\n    name: 'ol',\n    action: 'ol',\n    innerHTML: svg.ol,\n    title: 'Numbered list',\n  },\n  'blockquote': {\n    name: 'blockquote',\n    action: 'blockquote',\n    innerHTML: svg.blockquote,\n    title: 'Quote',\n    hotkey: 'Mod2-Shift-Q',\n  },\n  'insertLink': {\n    name: 'insertLink',\n    action: (editor) => {if (editor.isInlineFormattingAllowed()) editor.wrapSelection('[', ']()')},\n    enabled: (editor, focus, anchor) => editor.isInlineFormattingAllowed(focus, anchor) ? false : null,\n    innerHTML: svg.link,\n    title: 'Insert link',\n    hotkey: 'Mod-K',\n  },\n  'insertImage': {\n    name: 'insertImage',\n    action: (editor) => {if (editor.isInlineFormattingAllowed()) editor.wrapSelection('![', ']()')},\n    enabled: (editor, focus, anchor) => editor.isInlineFormattingAllowed(focus, anchor) ? false : null,\n    innerHTML: svg.image,\n    title: 'Insert image',\n    hotkey: 'Mod2-Shift-I',\n  },\n  'hr': {\n    name: 'hr',\n    action: (editor) => editor.paste('\\n***\\n'),\n    enabled: () => false,\n    innerHTML: svg.hr,\n    title: 'Insert horizontal line',\n    hotkey: 'Mod2-Shift-L'\n  }\n}\n\n\nclass CommandBar {\n  constructor(props) {\n    this.e = null;\n    this.editor = null;\n    this.commands = [];\n    this.buttons = {};\n    this.state = {};\n    this.hotkeys = [];\n\n    let element = props.element;\n    if (element && !element.tagName) {\n      element = document.getElementById(props.element);\n    }\n    if (!element) {\n      element = document.body; \n    }\n    this.createCommandBarElement(element, props.commands || ['bold', 'italic', 'strikethrough', '|', 'code', '|', 'h1', 'h2', '|', 'ul', 'ol', '|', 'blockquote', 'hr', '|', 'insertLink', 'insertImage']);\n    document.addEventListener('keydown', (e) => this.handleKeydown(e));\n    if (props.editor) this.setEditor(props.editor);\n  }\n\n  createCommandBarElement(parentElement, commands) {\n    this.e = document.createElement('div');\n    this.e.className = 'TMCommandBar';\n\n    for (let command of commands) {\n      if (command == '|') {\n        let el = document.createElement('div');\n        el.className = 'TMCommandDivider';\n        this.e.appendChild(el);\n      } else {\n        let commandName;\n        if (typeof command == \"string\") {\n          // Reference to default command\n\n          if (DefaultCommands[command]) {\n            commandName = command;\n            this.commands[commandName] = DefaultCommands[commandName];\n\n            \n          } else {\n            continue;\n          }\n          \n        } else if (typeof command == \"object\" && command.name) {\n          commandName = command.name;\n          this.commands[commandName] = {}; \n          if (DefaultCommands[commandName]) Object.assign(this.commands[commandName], DefaultCommands[commandName]);\n          Object.assign(this.commands[commandName], command);\n        \n\n        } else {\n          continue;\n        }\n\n        let title = this.commands[commandName].title || commandName;\n\n        if (this.commands[commandName].hotkey) {\n          const keys = this.commands[commandName].hotkey.split('-');\n          // construct modifiers\n          let modifiers = [];\n          let modifierexplanation = [];\n          for (let i = 0; i < keys.length - 1; i++) {\n            switch (keys[i]) {\n              case 'Ctrl': modifiers.push('ctrlKey'); modifierexplanation.push('Ctrl'); break;\n              case 'Cmd': modifiers.push('metaKey'); modifierexplanation.push('⌘'); break;\n              case 'Alt': modifiers.push('altKey'); modifierexplanation.push('Alt'); break;\n              case 'Option': modifiers.push('altKey'); modifierexplanation.push('⌥'); break;\n              case 'Win': modifiers.push('metaKey'); modifierexplanation.push('⊞ Win'); break;\n\n              case 'Shift':  modifiers.push('shiftKey'); modifierexplanation.push('⇧'); break;\n\n              case 'Mod': // Mod is a convenience mechanism: Ctrl on Windows, Cmd on Mac\n                if (isMacLike) {modifiers.push('metaKey'); modifierexplanation.push('⌘');} \n                else {modifiers.push('ctrlKey'); modifierexplanation.push('Ctrl');} \n                break; \n              case 'Mod2': \n                modifiers.push('altKey'); \n                if (isMacLike) modifierexplanation.push('⌥');\n                else modifierexplanation.push('Alt');\n                break; // Mod2 is a convenience mechanism: Alt on Windows, Option on Mac\n            }\n          }\n          modifierexplanation.push(keys[keys.length - 1]);\n          let hotkey = {\n            \n            modifiers: modifiers,\n            command: commandName,\n          };\n          // TODO Right now this is working only for letters and numbers\n          if (keys[keys.length - 1].match(/^[0-9]$/)) {\n            hotkey.code = `Digit${keys[keys.length - 1]}`;\n          } else {\n            hotkey.key = keys[keys.length - 1].toLowerCase();\n          }\n          this.hotkeys.push(hotkey);\n          title = title.concat(` (${modifierexplanation.join('+')})`);\n        }\n\n        this.buttons[commandName] = document.createElement('div');\n        this.buttons[commandName].className = 'TMCommandButton TMCommandButton_Disabled';\n        this.buttons[commandName].title = title;\n        this.buttons[commandName].innerHTML = this.commands[commandName].innerHTML;\n\n        this.buttons[commandName].addEventListener('mousedown', (e) => this.handleClick(commandName, e));\n        this.e.appendChild(this.buttons[commandName]);\n      }\n    }\n    parentElement.appendChild(this.e);\n  }\n\n  handleClick(commandName, event) {\n    if (!this.editor) return;\n    event.preventDefault();\n    if (typeof this.commands[commandName].action == \"string\") {\n      if (this.state[commandName] === false) this.editor.setCommandState(commandName, true);\n      else this.editor.setCommandState(commandName, false);  \n    } else if (typeof this.commands[commandName].action == \"function\") {\n      this.commands[commandName].action(this.editor);\n    }\n  }\n\n  setEditor(editor) {\n    this.editor = editor;\n    editor.addEventListener('selection', (e) => this.handleSelection(e));\n  }\n\n  handleSelection(event) {\n    if (event.commandState) {\n      for (let command in this.commands) {\n        if (event.commandState[command] === undefined) {\n          if (this.commands[command].enabled) this.state[command] = this.commands[command].enabled(this.editor, event.focus, event.anchor);\n          else this.state[command] = event.focus ? false : null;\n        } else {\n          this.state[command] = event.commandState[command];\n        }\n\n        if (this.state[command] === true) {\n          this.buttons[command].className = 'TMCommandButton TMCommandButton_Active';\n        } else if (this.state[command] === false) {\n          this.buttons[command].className = 'TMCommandButton TMCommandButton_Inactive';\n        } else {\n          this.buttons[command].className =  'TMCommandButton TMCommandButton_Disabled';\n        }\n      }\n    }\n  }\n\n  handleKeydown(event) {\n    outer: for (let hotkey of this.hotkeys) {\n      if ((hotkey.key && event.key.toLowerCase() == hotkey.key) || (hotkey.code && event.code == hotkey.code)) {\n        // Key matches hotkey. Look for any required modifier that wasn't pressed\n        for (let modifier of hotkey.modifiers) {\n          if (!event[modifier]) continue outer;\n        }\n        // Everything matches.\n        this.handleClick(hotkey.command, event);\n        return;\n      }\n    }\n  }\n}\n\nexport default CommandBar;","'use strict';\nvar check = function (it) {\n  return it && it.Math === Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || this || Function('return this')();\n","'use strict';\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] !== 7;\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n","'use strict';\nvar documentAll = typeof document == 'object' && document.all;\n\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nvar IS_HTMLDDA = typeof documentAll == 'undefined' && documentAll !== undefined;\n\nmodule.exports = {\n  all: documentAll,\n  IS_HTMLDDA: IS_HTMLDDA\n};\n","'use strict';\nvar $documentAll = require('../internals/document-all');\n\nvar documentAll = $documentAll.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = $documentAll.IS_HTMLDDA ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n","'use strict';\n// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n","'use strict';\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw new $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","'use strict';\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","'use strict';\nvar global = require('../internals/global');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","'use strict';\nvar global = require('../internals/global');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || defineGlobalProperty(SHARED, {});\n\nmodule.exports = store;\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","'use strict';\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar $documentAll = require('../internals/document-all');\n\nvar documentAll = $documentAll.all;\n\nmodule.exports = $documentAll.IS_HTMLDDA ? function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it) || it === documentAll;\n} : function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","'use strict';\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a !== 7;\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype !== 42;\n});\n","'use strict';\nvar isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw new $TypeError($String(argument) + ' is not an object');\n};\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","'use strict';\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","'use strict';\nmodule.exports = typeof navigator != 'undefined' && String(navigator.userAgent) || '';\n","'use strict';\nvar global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\nvar global = require('../internals/global');\n\nvar $String = global.String;\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol('symbol detection');\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,\n  // of course, fail.\n  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","'use strict';\nvar $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw new $TypeError(tryToString(argument) + ' is not a function');\n};\n","'use strict';\nvar aCallable = require('../internals/a-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw new $TypeError(\"Can't convert object to primitive value\");\n};\n","'use strict';\nvar IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.33.0',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2014-2023 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","'use strict';\nvar global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Symbol = global.Symbol;\nvar WellKnownSymbolsStore = shared('wks');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw new $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw new $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","'use strict';\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","'use strict';\nvar shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","'use strict';\nvar NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw new TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar $String = String;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\nvar stringSlice = uncurryThis(''.slice);\nvar replace = uncurryThis(''.replace);\nvar join = uncurryThis([].join);\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (stringSlice($String(name), 0, 7) === 'Symbol(') {\n    name = '[' + replace($String(name), /^Symbol\\(([^)]*)\\)/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","'use strict';\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.hasIndices) result += 'd';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.unicodeSets) result += 'v';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nvar global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar regExpFlags = require('../internals/regexp-flags');\nvar fails = require('../internals/fails');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 'd') -> /./d and it causes SyntaxError\nvar RegExp = global.RegExp;\nvar RegExpPrototype = RegExp.prototype;\n\nvar FORCED = DESCRIPTORS && fails(function () {\n  var INDICES_SUPPORT = true;\n  try {\n    RegExp('.', 'd');\n  } catch (error) {\n    INDICES_SUPPORT = false;\n  }\n\n  var O = {};\n  // modern V8 bug\n  var calls = '';\n  var expected = INDICES_SUPPORT ? 'dgimsy' : 'gimsy';\n\n  var addGetter = function (key, chr) {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty(O, key, { get: function () {\n      calls += chr;\n      return true;\n    } });\n  };\n\n  var pairs = {\n    dotAll: 's',\n    global: 'g',\n    ignoreCase: 'i',\n    multiline: 'm',\n    sticky: 'y'\n  };\n\n  if (INDICES_SUPPORT) pairs.hasIndices = 'd';\n\n  for (var key in pairs) addGetter(key, pairs[key]);\n\n  // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n  var result = Object.getOwnPropertyDescriptor(RegExpPrototype, 'flags').get.call(O);\n\n  return result !== expected || calls !== expected;\n});\n\n// `RegExp.prototype.flags` getter\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nif (FORCED) defineBuiltInAccessor(RegExpPrototype, 'flags', {\n  configurable: true,\n  get: regExpFlags\n});\n","// const replacements = {\n//   ASCIIPunctuation: '!\"#$%&\\'()*+,\\\\-./:;<=>?@\\\\[\\\\]^_`{|}~',\n//   TriggerChars: '`_\\*\\[\\]\\(\\)',\n//   Scheme: `[A-Za-z][A-Za-z0-9\\+\\.\\-]{1,31}`,\n//   Email: `[a-zA-Z0-9.!#$%&'*+/=?^_\\`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*`, // From CommonMark spec\n\n// }\nconst replacements = {\n  ASCIIPunctuation: /[!\"#$%&'()*+,\\-./:;<=>?@[\\]^_`{|}~\\\\]/,  \n  NotTriggerChar: /[^`_*[\\]()<>!~]/,\n  Scheme: /[A-Za-z][A-Za-z0-9+.-]{1,31}/,\n  Email: /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*/, // From CommonMark spec\n  HTMLOpenTag: /<HTMLTagName(?:HTMLAttribute)*\\s*\\/?>/,\n  HTMLCloseTag: /<\\/HTMLTagName\\s*>/,\n  HTMLTagName: /[A-Za-z][A-Za-z0-9-]*/, \n  HTMLComment: /<!--(?:[^>-]|(?:[^>-](?:[^-]|-[^-])*[^-]))-->/,\n  HTMLPI: /<\\?(?:|.|(?:[^?]|\\?[^>])*)\\?>/,\n  HTMLDeclaration: /<![A-Z]+\\s[^>]*>/,\n  HTMLCDATA: /<!\\[CDATA\\[.*?\\]\\]>/,\n  HTMLAttribute: /\\s+[A-Za-z_:][A-Za-z0-9_.:-]*(?:HTMLAttValue)?/,\n  HTMLAttValue: /\\s*=\\s*(?:(?:'[^']*')|(?:\"[^\"]*\")|(?:[^\\s\"'=<>`]+))/,\n  KnownTag: /address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul/\n}\n\n// From CommonMark.js. \nconst punctuationLeading = new RegExp(/^(?:[!\"#$%&'()*+,\\-./:;<=>?@[\\]\\\\^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B])/);\n\nconst punctuationTrailing = new RegExp(/(?:[!\"#$%&'()*+,\\-./:;<=>?@[\\]\\\\^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B])$/);\n\n// export const inlineTriggerChars = new RegExp(`[${replacements.TriggerChars}]`);\n\n/**\n * This is CommonMark's block grammar, but we're ignoring nested blocks here.  \n */ \nconst lineGrammar = { \n  TMH1: { \n    regexp: /^( {0,3}#\\s)(.*?)((?:\\s+#+\\s*)?)$/, \n    replacement: '<span class=\"TMMark TMMark_TMH1\">$1</span>$$2<span class=\"TMMark TMMark_TMH1\">$3</span>'\n  },\n  TMH2: { \n    regexp: /^( {0,3}##\\s)(.*?)((?:\\s+#+\\s*)?)$/, \n    replacement: '<span class=\"TMMark TMMark_TMH2\">$1</span>$$2<span class=\"TMMark TMMark_TMH2\">$3</span>'\n  },\n  TMH3: { \n    regexp: /^( {0,3}###\\s)(.*?)((?:\\s+#+\\s*)?)$/, \n    replacement: '<span class=\"TMMark TMMark_TMH3\">$1</span>$$2<span class=\"TMMark TMMark_TMH3\">$3</span>'\n  },\n  TMH4: { \n    regexp: /^( {0,3}####\\s)(.*?)((?:\\s+#+\\s*)?)$/, \n    replacement: '<span class=\"TMMark TMMark_TMH4\">$1</span>$$2<span class=\"TMMark TMMark_TMH4\">$3</span>'\n  },\n  TMH5: { \n    regexp: /^( {0,3}#####\\s)(.*?)((?:\\s+#+\\s*)?)$/, \n    replacement: '<span class=\"TMMark TMMark_TMH5\">$1</span>$$2<span class=\"TMMark TMMark_TMH5\">$3</span>'\n  },\n  TMH6: { \n    regexp: /^( {0,3}######\\s)(.*?)((?:\\s+#+\\s*)?)$/, \n    replacement: '<span class=\"TMMark TMMark_TMH6\">$1</span>$$2<span class=\"TMMark TMMark_TMH6\">$3</span>'\n  },\n  TMBlockquote: { \n    regexp: /^( {0,3}>[ ]?)(.*)$/, \n    replacement: '<span class=\"TMMark TMMark_TMBlockquote\">$1</span>$$2'\n  },\n  TMCodeFenceBacktickOpen: { \n    regexp: /^( {0,3}(?<seq>````*)\\s*)([^`]*?)(\\s*)$/, \n    replacement: '<span class=\"TMMark TMMark_TMCodeFenceBacktick\">$1</span><span class=\"TMInfoString\">$3</span>$4'\n  },\n  TMCodeFenceTildeOpen: { \n    regexp: /^( {0,3}(?<seq>~~~~*)\\s*)(.*?)(\\s*)$/, \n    replacement: '<span class=\"TMMark TMMark_TMCodeFenceTilde\">$1</span><span class=\"TMInfoString\">$3</span>$4'\n  },\n  TMCodeFenceBacktickClose: { \n    regexp: /^( {0,3}(?<seq>````*))(\\s*)$/, \n    replacement: '<span class=\"TMMark TMMark_TMCodeFenceBacktick\">$1</span>$3'\n  },\n  TMCodeFenceTildeClose: { \n    regexp: /^( {0,3}(?<seq>~~~~*))(\\s*)$/, \n    replacement: '<span class=\"TMMark TMMark_TMCodeFenceTilde\">$1</span>$3'\n  },\n  TMBlankLine: { \n    regexp: /^([ \\t]*)$/, \n    replacement: '$0'\n  },\n  TMSetextH1Marker: { \n    regexp: /^ {0,3}=+\\s*$/, \n    replacement: '<span class=\"TMMark TMMark_TMSetextH1Marker\">$0</span>'\n  },\n  TMSetextH2Marker: { \n    regexp: /^ {0,3}-+\\s*$/, \n    replacement: '<span class=\"TMMark TMMark_TMSetextH1Marker\">$0</span>'\n  },\n  TMHR: { \n    regexp: /^( {0,3}(\\*[ \\t]*\\*[ \\t]*\\*[ \\t*]*)|(-[ \\t]*-[ \\t]*-[ \\t-]*)|(_[ \\t]*_[ \\t]*_[ \\t_]*))$/, \n    replacement: '<span class=\"TMMark TMMark_TMHR\">$0</span>'\n  },\n  TMUL: { \n    regexp: /^( {0,3}[+*-] {1,4})(.*)$/, \n    replacement: '<span class=\"TMMark TMMark_TMUL\">$1</span>$$2'\n  },\n  TMOL: { \n    regexp: /^( {0,3}\\d{1,9}[.)] {1,4})(.*)$/, \n    replacement: '<span class=\"TMMark TMMark_TMOL\">$1</span>$$2'\n  },\n  // TODO: This is currently preventing sublists (and any content within list items, really) from working\n  TMIndentedCode: { \n    regexp: /^( {4}|\\t)(.*)$/, \n    replacement: '<span class=\"TMMark TMMark_TMIndentedCode\">$1</span>$2'\n  },\n  TMLinkReferenceDefinition: {\n    // TODO: Link destination can't include unbalanced parantheses, but we just ignore that here \n    regexp: /^( {0,3}\\[\\s*)([^\\s\\]](?:[^\\]]|\\\\\\])*?)(\\s*\\]:\\s*)((?:[^\\s<>]+)|(?:<(?:[^<>\\\\]|\\\\.)*>))?(\\s*)((?:\\((?:[^()\\\\]|\\\\.)*\\))|(?:\"(?:[^\"\\\\]|\\\\.)*\")|(?:'(?:[^'\\\\]|\\\\.)*'))?(\\s*)$/, \n    replacement: '<span class=\"TMMark TMMark_TMLinkReferenceDefinition\">$1</span><span class=\"TMLinkLabel TMLinkLabel_Definition\">$2</span><span class=\"TMMark TMMark_TMLinkReferenceDefinition\">$3</span><span class=\"TMLinkDestination\">$4</span>$5<span class=\"TMLinkTitle\">$6</span>$7',\n    labelPlaceholder: 2, // this defines which placeholder in the above regex is the link \"label\"\n  },\n};\n\n/**\n * HTML blocks have multiple different classes of opener and closer. This array defines all the cases\n */\nvar htmlBlockGrammar = [\n  { start: /^ {0,3}<(?:script|pre|style)(?:\\s|>|$)/i, end: /(?:<\\/script>|<\\/pre>|<\\/style>)/i, paraInterrupt: true },\n  { start: /^ {0,3}<!--/, end: /-->/, paraInterrupt: true },\n  { start: /^ {0,3}<\\?/, end: /\\?>/, paraInterrupt: true },\n  { start: /^ {0,3}<![A-Z]/, end: />/, paraInterrupt : true},\n  { start: /^ {0,3}<!\\[CDATA\\[/, end: /\\]\\]>/, paraInterrupt : true},\n  { start: /^ {0,3}(?:<|<\\/)(?:KnownTag)(?:\\s|>|\\/>|$)/i, end: false, paraInterrupt: true},\n  { start: /^ {0,3}(?:HTMLOpenTag|HTMLCloseTag)\\s*$/, end: false, paraInterrupt: false},\n];\n\n/**\n * Structure of the object:\n * Top level entries are rules, each consisting of a regular expressions (in string format) as well as a replacement.\n * In the regular expressions, replacements from the object 'replacements' will be processed before compiling into the property regexp.\n */\nvar inlineGrammar = {\n  escape : {\n    regexp: /^\\\\(ASCIIPunctuation)/,\n    replacement : '<span class=\"TMMark TMMark_TMEscape\">\\\\</span>$1'\n  },\n  code : {\n    regexp: /^(`+)((?:[^`])|(?:[^`].*?[^`]))(\\1)/,\n    replacement : '<span class=\"TMMark TMMark_TMCode\">$1</span><code class=\"TMCode\">$2</code><span class=\"TMMark TMMark_TMCode\">$3</span>' \n  },\n  autolink : {\n    regexp: /^<((?:Scheme:[^\\s<>]*)|(?:Email))>/,\n    replacement: '<span class=\"TMMark TMMark_TMAutolink\">&lt;</span><span class=\"TMAutolink\">$1</span><span class=\"TMMark TMMark_TMAutolink\">&gt;</span>'\n  },\n  html : {\n    regexp: /^((?:HTMLOpenTag)|(?:HTMLCloseTag)|(?:HTMLComment)|(?:HTMLPI)|(?:HTMLDeclaration)|(?:HTMLCDATA))/,\n    replacement: '<span class=\"TMHTML\">$1</span>',\n  },\n  linkOpen : {\n    regexp: /^\\[/,\n    replacement: ''\n  },\n  imageOpen : {\n    regexp: /^!\\[/,\n    replacement : ''\n  },\n  linkLabel : {\n    regexp: /^(\\[\\s*)([^\\]]*?)(\\s*\\])/,\n    replacement: '',\n    labelPlaceholder: 2\n  },\n  default : {\n    regexp: /^(.|(?:NotTriggerChar+))/,\n    replacement: '$1'\n  }\n};\n\n// Process replacements in regexps\nconst replacementRegexp = new RegExp(Object.keys(replacements).join('|'));\n\n// Inline\nconst inlineRules =[...Object.keys(inlineGrammar)];\nfor (let rule of inlineRules) {\n  let re = inlineGrammar[rule].regexp.source;\n  // Replace while there is something to replace. This means it also works over multiple levels (replacements containing replacements)\n  while (re.match(replacementRegexp)) {\n    re = re.replace(replacementRegexp, (string) => { return replacements[string].source; });\n  }\n  inlineGrammar[rule].regexp = new RegExp(re, inlineGrammar[rule].regexp.flags);\n}\n\n// HTML Block (only opening rule is processed currently)\nfor (let rule of htmlBlockGrammar) {\n  let re = rule.start.source;\n  // Replace while there is something to replace. This means it also works over multiple levels (replacements containing replacements)\n  while (re.match(replacementRegexp)) {\n    re = re.replace(replacementRegexp, (string) => { return replacements[string].source; });\n  }\n  rule.start = new RegExp(re, rule.start.flags);\n}\n\n/**\n * Escapes HTML special characters (<, >, and &) in the string.\n * @param {string} string The raw string to be escaped\n * @returns {string} The string, ready to be used in HTML\n */\nfunction htmlescape(string) {\n  return (string ? string : '')\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;');\n}\n/**\n * Contains the commands that can be sent to the editor. Contains objects with a name representing the name of the command.\n * Each of the objects contains the following keys:\n * \n *   - type: Can be either inline (for inline formatting) or line (for block / line formatting).\n *   - className: Used to determine whether the command is active at a given position. \n *     For line formatting, this looks at the class of the line element. For inline elements, tries to find an enclosing element with that class.\n *   - set / unset: Contain instructions how to set and unset the command. For line type commands, both consist of a pattern and replacement that \n *     will be applied to each line (using String.replace). For inline type commands, the set object contains a pre and post string which will\n *     be inserted before and after the selection. The unset object contains a prePattern and a postPattern. Both should be regular expressions and \n *     they will be applied to the portion of the line before and after the selection (using String.replace, with an empty replacement string).\n */\nconst commands = {\n  // Replacements for unset for inline commands are '' by default\n  bold: {\n    type: 'inline', \n    className: 'TMStrong', \n    set: {pre: '**', post: '**'}, \n    unset: {prePattern: /(?:\\*\\*|__)$/, postPattern: /^(?:\\*\\*|__)/}\n  }, \n  italic: {\n    type: 'inline', \n    className: 'TMEm', \n    set: {pre: '*', post: '*'}, \n    unset: {prePattern: /(?:\\*|_)$/, postPattern: /^(?:\\*|_)/}\n  },\n  code: {\n    type: 'inline', \n    className: 'TMCode', \n    set: {pre: '`', post: '`'}, \n    unset: {prePattern: /`+$/, postPattern: /^`+/} // FIXME this doesn't ensure balanced backticks right now\n  }, \n  strikethrough: {\n    type: 'inline', \n    className: 'TMStrikethrough', \n    set: {pre: '~~', post: '~~'}, \n    unset: {prePattern:/~~$/, postPattern: /^~~/ }\n  },\n  h1: {\n    type: 'line', \n    className: 'TMH1', \n    set: {pattern: /^( {0,3}(?:(?:#+|[0-9]{1,9}[).]|[>\\-*+])\\s+)?)(.*)$/, replacement: '# $2'}, \n    unset: {pattern: /^( {0,3}#\\s+)(.*?)((?:\\s+#+\\s*)?)$/, replacement: '$2'}\n  },\n  h2: {\n    type: 'line', \n    className: 'TMH2', \n    set: {pattern: /^( {0,3}(?:(?:#+|[0-9]{1,9}[).]|[>\\-*+])\\s+)?)(.*)$/, replacement: '## $2'}, \n    unset: {pattern: /^( {0,3}##\\s+)(.*?)((?:\\s+#+\\s*)?)$/, replacement: '$2'}\n  },\n  h3: {\n    type: 'line', \n    className: 'TMH3', \n    set: {pattern: /^( {0,3}(?:(?:#+|[0-9]{1,9}[).]|[>\\-*+])\\s+)?)(.*)$/, replacement: '### $2'}, \n    unset: {pattern: /^( {0,3}###\\s+)(.*?)((?:\\s+#+\\s*)?)$/, replacement: '$2'}\n  },\n  h4: {\n    type: 'line', \n    className: 'TMH4', \n    set: {pattern: /^( {0,3}(?:(?:#+|[0-9]{1,9}[).]|[>\\-*+])\\s+)?)(.*)$/, replacement: '#### $2'}, \n    unset: {pattern: /^( {0,3}####\\s+)(.*?)((?:\\s+#+\\s*)?)$/, replacement: '$2'}\n  },\n  h5: {\n    type: 'line', \n    className: 'TMH5', \n    set: {pattern: /^( {0,3}(?:(?:#+|[0-9]{1,9}[).]|[>\\-*+])\\s+)?)(.*)$/, replacement: '##### $2'}, \n    unset: {pattern: /^( {0,3}#####\\s+)(.*?)((?:\\s+#+\\s*)?)$/, replacement: '$2'}\n  },\n  h6: {\n    type: 'line', \n    className: 'TMH6', \n    set: {pattern: /^( {0,3}(?:(?:#+|[0-9]{1,9}[).]|[>\\-*+])\\s+)?)(.*)$/, replacement: '###### $2'}, \n    unset: {pattern: /^( {0,3}######\\s+)(.*?)((?:\\s+#+\\s*)?)$/, replacement: '$2'}\n  },\n  ul: {\n    type: 'line', \n    className: 'TMUL', \n    set: {pattern: /^( {0,3}(?:(?:#+|[0-9]{1,9}[).]|[>\\-*+])\\s+)?)(.*)$/, replacement: '- $2'}, \n    unset: {pattern: /^( {0,3}[+*-] {1,4})(.*)$/, replacement: '$2'}\n  },\n  ol: {\n    type: 'line', \n    className: 'TMOL', \n    set: {pattern: /^( {0,3}(?:(?:#+|[0-9]{1,9}[).]|[>\\-*+])\\s+)?)(.*)$/, replacement: '$#. $2'}, \n    unset: {pattern: /^( {0,3}\\d{1,9}[.)] {1,4})(.*)$/, replacement: '$2'}\n  }, \n  blockquote: {\n    type: 'line', \n    className: 'TMBlockquote', \n    set: {pattern: /^( {0,3}(?:(?:#+|[0-9]{1,9}[).]|[>\\-*+])\\s+)?)(.*)$/, replacement: '> $2'}, \n    unset: {pattern: /^( {0,3}>[ ]?)(.*)$/, replacement: '$2'}\n  },\n};\n\nexport { lineGrammar, inlineGrammar, punctuationLeading, punctuationTrailing, htmlescape, htmlBlockGrammar, commands };","import {\n  inlineGrammar,\n  lineGrammar,\n  punctuationLeading,\n  punctuationTrailing,\n  htmlescape,\n  htmlBlockGrammar,\n  commands,\n} from \"./grammar\";\n\nclass Editor {\n  constructor(props = {}) {\n    this.e = null;\n    this.textarea = null;\n    this.lines = [];\n    this.lineElements = [];\n    this.lineTypes = [];\n    this.lineCaptures = [];\n    this.lineReplacements = [];\n    this.linkLabels = [];\n    this.lineDirty = [];\n    this.lastCommandState = null;\n\n    this.listeners = {\n      change: [],\n      selection: [],\n      drop: [],\n    };\n\n    let element = props.element;\n    this.textarea = props.textarea;\n\n    if (this.textarea) {\n      if (!this.textarea.tagName) {\n        this.textarea = document.getElementById(this.textarea);\n      }\n      if (!element) element = this.textarea;\n    }\n\n    if (element && !element.tagName) {\n      element = document.getElementById(props.element);\n    }\n    if (!element) {\n      element = document.getElementsByTagName(\"body\")[0];\n    }\n    if (element.tagName == \"TEXTAREA\") {\n      this.textarea = element;\n      element = this.textarea.parentNode;\n    }\n\n    if (this.textarea) {\n      this.textarea.style.display = \"none\";\n    }\n\n    this.createEditorElement(element);\n    this.setContent(\n      typeof props.content === \"string\"\n        ? props.content\n        : this.textarea\n        ? this.textarea.value\n        : \"# Hello TinyMDE!\\nEdit **here**\"\n    );\n  }\n\n  /**\n   * Creates the editor element inside the target element of the DOM tree\n   * @param element The target element of the DOM tree\n   */\n  createEditorElement(element) {\n    this.e = document.createElement(\"div\");\n    this.e.className = \"TinyMDE\";\n    this.e.contentEditable = true;\n    // The following is important for formatting purposes, but also since otherwise the browser replaces subsequent spaces with  &nbsp; &nbsp;\n    // That breaks a lot of stuff, so we do this here and not in CSS—therefore, you don't have to remember to put this in the CSS file\n    this.e.style.whiteSpace = \"pre-wrap\";\n    // Avoid formatting (B / I / U) popping up on iOS\n    this.e.style.webkitUserModify = \"read-write-plaintext-only\";\n    if (\n      this.textarea &&\n      this.textarea.parentNode == element &&\n      this.textarea.nextSibling\n    ) {\n      element.insertBefore(this.e, this.textarea.nextSibling);\n    } else {\n      element.appendChild(this.e);\n    }\n\n    this.e.addEventListener(\"input\", (e) => this.handleInputEvent(e));\n    this.e.addEventListener(\"compositionend\", (e) => this.handleInputEvent(e));\n    document.addEventListener(\"selectionchange\", (e) =>\n      this.handleSelectionChangeEvent(e)\n    );\n    this.e.addEventListener(\"paste\", (e) => this.handlePaste(e));\n    this.e.addEventListener(\"drop\", (e) => this.handleDrop(e));\n    this.lineElements = this.e.childNodes; // this will automatically update\n  }\n\n  /**\n   * Sets the editor content.\n   * @param {string} content The new Markdown content\n   */\n  setContent(content) {\n    // Delete any existing content\n    while (this.e.firstChild) {\n      this.e.removeChild(this.e.firstChild);\n    }\n    this.lines = content.split(/(?:\\r\\n|\\r|\\n)/);\n    this.lineDirty = [];\n    for (let lineNum = 0; lineNum < this.lines.length; lineNum++) {\n      let le = document.createElement(\"div\");\n      this.e.appendChild(le);\n      this.lineDirty.push(true);\n    }\n    this.lineTypes = new Array(this.lines.length);\n    this.updateFormatting();\n    this.fireChange();\n  }\n\n  /**\n   * Gets the editor content as a Markdown string.\n   * @returns {string} The editor content as a markdown string\n   */\n  getContent() {\n    return this.lines.join(\"\\n\");\n  }\n\n  /**\n   * This is the main method to update the formatting (from this.lines to HTML output)\n   */\n  updateFormatting() {\n    // First, parse line types. This will update this.lineTypes, this.lineReplacements, and this.lineCaptures\n    // We don't apply the formatting yet\n    this.updateLineTypes();\n    // Collect any valid link labels from link reference definitions—we need that for formatting to determine what's a valid link\n    this.updateLinkLabels();\n    // Now, apply the formatting\n    this.applyLineTypes();\n  }\n\n  /**\n   * Updates this.linkLabels: For every link reference definition (line type TMLinkReferenceDefinition), we collect the label\n   */\n  updateLinkLabels() {\n    this.linkLabels = [];\n    for (let l = 0; l < this.lines.length; l++) {\n      if (this.lineTypes[l] == \"TMLinkReferenceDefinition\") {\n        this.linkLabels.push(\n          this.lineCaptures[l][\n            lineGrammar.TMLinkReferenceDefinition.labelPlaceholder\n          ]\n        );\n      }\n    }\n  }\n\n  /**\n   * Helper function to replace placeholders from a RegExp capture. The replacement string can contain regular dollar placeholders (e.g., $1),\n   * which are interpreted like in String.replace(), but also double dollar placeholders ($$1). In the case of double dollar placeholders,\n   * Markdown inline grammar is applied on the content of the captured subgroup, i.e., $$1 processes inline Markdown grammar in the content of the\n   * first captured subgroup, and replaces `$$1` with the result.\n   *\n   * @param {string} replacement The replacement string, including placeholders.\n   * @param  capture The result of a RegExp.exec() call\n   * @returns The replacement string, with placeholders replaced from the capture result.\n   */\n  replace(replacement, capture) {\n    return replacement.replace(/(\\${1,2})([0-9])/g, (str, p1, p2) => {\n      if (p1 == \"$\") return htmlescape(capture[p2]);\n      else\n        return `<span class=\"TMInlineFormatted\">${this.processInlineStyles(\n          capture[p2]\n        )}</span>`;\n    });\n  }\n\n  /**\n   * Applies the line types (from this.lineTypes as well as the capture result in this.lineReplacements and this.lineCaptures)\n   * and processes inline formatting for all lines.\n   */\n  applyLineTypes() {\n    for (let lineNum = 0; lineNum < this.lines.length; lineNum++) {\n      if (this.lineDirty[lineNum]) {\n        let contentHTML = this.replace(\n          this.lineReplacements[lineNum],\n          this.lineCaptures[lineNum]\n        );\n        // this.lineHTML[lineNum] = (contentHTML == '' ? '<br />' : contentHTML); // Prevent empty elements which can't be selected etc.\n        this.lineElements[lineNum].className = this.lineTypes[lineNum];\n        this.lineElements[lineNum].removeAttribute(\"style\");\n        this.lineElements[lineNum].innerHTML =\n          contentHTML == \"\" ? \"<br />\" : contentHTML; // Prevent empty elements which can't be selected etc.\n      }\n      this.lineElements[lineNum].dataset.lineNum = lineNum;\n    }\n  }\n\n  /**\n   * Determines line types for all lines based on the line / block grammar. Captures the results of the respective line\n   * grammar regular expressions.\n   * Updates this.lineTypes, this.lineCaptures, and this.lineReplacements.\n   */\n  updateLineTypes() {\n    let codeBlockType = false;\n    let codeBlockSeqLength = 0;\n    let htmlBlock = false;\n\n    for (let lineNum = 0; lineNum < this.lines.length; lineNum++) {\n      let lineType = \"TMPara\";\n      let lineCapture = [this.lines[lineNum]];\n      let lineReplacement = \"$$0\"; // Default replacement for paragraph: Inline format the entire line\n\n      // Check ongoing code blocks\n      // if (lineNum > 0 && (this.lineTypes[lineNum - 1] == 'TMCodeFenceBacktickOpen' || this.lineTypes[lineNum - 1] == 'TMFencedCodeBacktick')) {\n      if (codeBlockType == \"TMCodeFenceBacktickOpen\") {\n        // We're in a backtick-fenced code block, check if the current line closes it\n        let capture = lineGrammar.TMCodeFenceBacktickClose.regexp.exec(\n          this.lines[lineNum]\n        );\n        if (capture && capture.groups[\"seq\"].length >= codeBlockSeqLength) {\n          lineType = \"TMCodeFenceBacktickClose\";\n          lineReplacement = lineGrammar.TMCodeFenceBacktickClose.replacement;\n          lineCapture = capture;\n          codeBlockType = false;\n        } else {\n          lineType = \"TMFencedCodeBacktick\";\n          lineReplacement = '<span class=\"TMFencedCode\">$0<br /></span>';\n          lineCapture = [this.lines[lineNum]];\n        }\n      }\n      // if (lineNum > 0 && (this.lineTypes[lineNum - 1] == 'TMCodeFenceTildeOpen' || this.lineTypes[lineNum - 1] == 'TMFencedCodeTilde')) {\n      else if (codeBlockType == \"TMCodeFenceTildeOpen\") {\n        // We're in a tilde-fenced code block\n        let capture = lineGrammar.TMCodeFenceTildeClose.regexp.exec(\n          this.lines[lineNum]\n        );\n        if (capture && capture.groups[\"seq\"].length >= codeBlockSeqLength) {\n          lineType = \"TMCodeFenceTildeClose\";\n          lineReplacement = lineGrammar.TMCodeFenceTildeClose.replacement;\n          lineCapture = capture;\n          codeBlockType = false;\n        } else {\n          lineType = \"TMFencedCodeTilde\";\n          lineReplacement = '<span class=\"TMFencedCode\">$0<br /></span>';\n          lineCapture = [this.lines[lineNum]];\n        }\n      }\n\n      // Check HTML block types\n      if (lineType == \"TMPara\" && htmlBlock === false) {\n        for (let htmlBlockType of htmlBlockGrammar) {\n          if (this.lines[lineNum].match(htmlBlockType.start)) {\n            // Matching start condition. Check if this tag can start here (not all start conditions allow breaking a paragraph).\n            if (\n              htmlBlockType.paraInterrupt ||\n              lineNum == 0 ||\n              !(\n                this.lineTypes[lineNum - 1] == \"TMPara\" ||\n                this.lineTypes[lineNum - 1] == \"TMUL\" ||\n                this.lineTypes[lineNum - 1] == \"TMOL\" ||\n                this.lineTypes[lineNum - 1] == \"TMBlockquote\"\n              )\n            ) {\n              htmlBlock = htmlBlockType;\n              break;\n            }\n          }\n        }\n      }\n\n      if (htmlBlock !== false) {\n        lineType = \"TMHTMLBlock\";\n        lineReplacement = '<span class=\"TMHTMLContent\">$0<br /></span>'; // No formatting in TMHTMLBlock\n        lineCapture = [this.lines[lineNum]]; // This should already be set but better safe than sorry\n\n        // Check if HTML block should be closed\n        if (htmlBlock.end) {\n          // Specific end condition\n          if (this.lines[lineNum].match(htmlBlock.end)) {\n            htmlBlock = false;\n          }\n        } else {\n          // No specific end condition, ends with blank line\n          if (\n            lineNum == this.lines.length - 1 ||\n            this.lines[lineNum + 1].match(lineGrammar.TMBlankLine.regexp)\n          ) {\n            htmlBlock = false;\n          }\n        }\n      }\n\n      // Check all regexps if we haven't applied one of the code block types\n      if (lineType == \"TMPara\") {\n        for (let type in lineGrammar) {\n          if (lineGrammar[type].regexp) {\n            let capture = lineGrammar[type].regexp.exec(this.lines[lineNum]);\n            if (capture) {\n              lineType = type;\n              lineReplacement = lineGrammar[type].replacement;\n              lineCapture = capture;\n              break;\n            }\n          }\n        }\n      }\n\n      // If we've opened a code block, remember that\n      if (\n        lineType == \"TMCodeFenceBacktickOpen\" ||\n        lineType == \"TMCodeFenceTildeOpen\"\n      ) {\n        codeBlockType = lineType;\n        codeBlockSeqLength = lineCapture.groups[\"seq\"].length;\n      }\n\n      // Link reference definition and indented code can't interrupt a paragraph\n      if (\n        (lineType == \"TMIndentedCode\" ||\n          lineType == \"TMLinkReferenceDefinition\") &&\n        lineNum > 0 &&\n        (this.lineTypes[lineNum - 1] == \"TMPara\" ||\n          this.lineTypes[lineNum - 1] == \"TMUL\" ||\n          this.lineTypes[lineNum - 1] == \"TMOL\" ||\n          this.lineTypes[lineNum - 1] == \"TMBlockquote\")\n      ) {\n        // Fall back to TMPara\n        lineType = \"TMPara\";\n        lineCapture = [this.lines[lineNum]];\n        lineReplacement = \"$$0\";\n      }\n\n      // Setext H2 markers that can also be interpreted as an empty list item should be regarded as such (as per CommonMark spec)\n      if (lineType == \"TMSetextH2Marker\") {\n        let capture = lineGrammar.TMUL.regexp.exec(this.lines[lineNum]);\n        if (capture) {\n          lineType = \"TMUL\";\n          lineReplacement = lineGrammar.TMUL.replacement;\n          lineCapture = capture;\n        }\n      }\n\n      // Setext headings are only valid if preceded by a paragraph (and if so, they change the type of the previous paragraph)\n      if (lineType == \"TMSetextH1Marker\" || lineType == \"TMSetextH2Marker\") {\n        if (lineNum == 0 || this.lineTypes[lineNum - 1] != \"TMPara\") {\n          // Setext marker is invalid. However, a H2 marker might still be a valid HR, so let's check that\n          let capture = lineGrammar.TMHR.regexp.exec(this.lines[lineNum]);\n          if (capture) {\n            // Valid HR\n            lineType = \"TMHR\";\n            lineCapture = capture;\n            lineReplacement = lineGrammar.TMHR.replacement;\n          } else {\n            // Not valid HR, format as TMPara\n            lineType = \"TMPara\";\n            lineCapture = [this.lines[lineNum]];\n            lineReplacement = \"$$0\";\n          }\n        } else {\n          // Valid setext marker. Change types of preceding para lines\n          let headingLine = lineNum - 1;\n          const headingLineType =\n            lineType == \"TMSetextH1Marker\" ? \"TMSetextH1\" : \"TMSetextH2\";\n          do {\n            if (this.lineTypes[headingLineType] != headingLineType) {\n              this.lineTypes[headingLine] = headingLineType;\n              this.lineDirty[headingLineType] = true;\n            }\n            this.lineReplacements[headingLine] = \"$$0\";\n            this.lineCaptures[headingLine] = [this.lines[headingLine]];\n\n            headingLine--;\n          } while (headingLine >= 0 && this.lineTypes[headingLine] == \"TMPara\");\n        }\n      }\n      // Lastly, save the line style to be applied later\n      if (this.lineTypes[lineNum] != lineType) {\n        this.lineTypes[lineNum] = lineType;\n        this.lineDirty[lineNum] = true;\n      }\n      this.lineReplacements[lineNum] = lineReplacement;\n      this.lineCaptures[lineNum] = lineCapture;\n    }\n  }\n\n  /**\n   * Updates all line contents from the HTML, then re-applies formatting.\n   */\n  updateLineContentsAndFormatting() {\n    this.clearDirtyFlag();\n    this.updateLineContents();\n    this.updateFormatting();\n  }\n\n  /**\n   * Attempts to parse a link or image at the current position. This assumes that the opening [ or ![ has already been matched.\n   * Returns false if this is not a valid link, image. See below for more information\n   * @param {string} originalString The original string, starting at the opening marker ([ or ![)\n   * @param {boolean} isImage Whether or not this is an image (opener == ![)\n   * @returns false if not a valid link / image.\n   * Otherwise returns an object with two properties: output is the string to be included in the processed output,\n   * charCount is the number of input characters (from originalString) consumed.\n   */\n  parseLinkOrImage(originalString, isImage) {\n    // Skip the opening bracket\n    let textOffset = isImage ? 2 : 1;\n    let opener = originalString.substr(0, textOffset);\n    let type = isImage ? \"TMImage\" : \"TMLink\";\n    let currentOffset = textOffset;\n\n    let bracketLevel = 1;\n    let linkText = false;\n    let linkRef = false;\n    let linkLabel = [];\n    let linkDetails = []; // If matched, this will be an array: [whitespace + link destination delimiter, link destination, link destination delimiter, whitespace, link title delimiter, link title, link title delimiter + whitespace]. All can be empty strings.\n\n    textOuter: while (\n      currentOffset < originalString.length &&\n      linkText === false /* empty string is okay */\n    ) {\n      let string = originalString.substr(currentOffset);\n\n      // Capture any escapes and code blocks at current position, they bind more strongly than links\n      // We don't have to actually process them here, that'll be done later in case the link / image is valid, but we need to skip over them.\n      for (let rule of [\"escape\", \"code\", \"autolink\", \"html\"]) {\n        let cap = inlineGrammar[rule].regexp.exec(string);\n        if (cap) {\n          currentOffset += cap[0].length;\n          continue textOuter;\n        }\n      }\n\n      // Check for image. It's okay for an image to be included in a link or image\n      if (string.match(inlineGrammar.imageOpen.regexp)) {\n        // Opening image. It's okay if this is a matching pair of brackets\n        bracketLevel++;\n        currentOffset += 2;\n        continue textOuter;\n      }\n\n      // Check for link (not an image because that would have been captured and skipped over above)\n      if (string.match(inlineGrammar.linkOpen.regexp)) {\n        // Opening bracket. Two things to do:\n        // 1) it's okay if this part of a pair of brackets.\n        // 2) If we are currently trying to parse a link, this nested bracket musn't start a valid link (no nested links allowed)\n        bracketLevel++;\n        // if (bracketLevel >= 2) return false; // Nested unescaped brackets, this doesn't qualify as a link / image\n        if (!isImage) {\n          if (this.parseLinkOrImage(string, false)) {\n            // Valid link inside this possible link, which makes this link invalid (inner links beat outer ones)\n            return false;\n          }\n        }\n        currentOffset += 1;\n        continue textOuter;\n      }\n\n      // Check for closing bracket\n      if (string.match(/^\\]/)) {\n        bracketLevel--;\n        if (bracketLevel == 0) {\n          // Found matching bracket and haven't found anything disqualifying this as link / image.\n          linkText = originalString.substr(\n            textOffset,\n            currentOffset - textOffset\n          );\n          currentOffset++;\n          continue textOuter;\n        }\n      }\n\n      // Nothing matches, proceed to next char\n      currentOffset++;\n    }\n\n    // Did we find a link text (i.e., find a matching closing bracket?)\n    if (linkText === false) return false; // Nope\n\n    // So far, so good. We've got a valid link text. Let's see what type of link this is\n    let nextChar =\n      currentOffset < originalString.length\n        ? originalString.substr(currentOffset, 1)\n        : \"\";\n\n    // REFERENCE LINKS\n    if (nextChar == \"[\") {\n      let string = originalString.substr(currentOffset);\n      let cap = inlineGrammar.linkLabel.regexp.exec(string);\n      if (cap) {\n        // Valid link label\n        currentOffset += cap[0].length;\n        linkLabel.push(cap[1], cap[2], cap[3]);\n        if (cap[inlineGrammar.linkLabel.labelPlaceholder]) {\n          // Full reference link\n          linkRef = cap[inlineGrammar.linkLabel.labelPlaceholder];\n        } else {\n          // Collapsed reference link\n          linkRef = linkText.trim();\n        }\n      } else {\n        // Not a valid link label\n        return false;\n      }\n    } else if (nextChar != \"(\") {\n      // Shortcut ref link\n      linkRef = linkText.trim();\n\n      // INLINE LINKS\n    } else {\n      // nextChar == '('\n\n      // Potential inline link\n      currentOffset++;\n\n      let parenthesisLevel = 1;\n      inlineOuter: while (\n        currentOffset < originalString.length &&\n        parenthesisLevel > 0\n      ) {\n        let string = originalString.substr(currentOffset);\n\n        // Process whitespace\n        let cap = /^\\s+/.exec(string);\n        if (cap) {\n          switch (linkDetails.length) {\n            case 0:\n              linkDetails.push(cap[0]);\n              break; // Opening whitespace\n            case 1:\n              linkDetails.push(cap[0]);\n              break; // Open destination, but not a destination yet; desination opened with <\n            case 2: // Open destination with content in it. Whitespace only allowed if opened by angle bracket, otherwise this closes the destination\n              if (linkDetails[0].match(/</)) {\n                linkDetails[1] = linkDetails[1].concat(cap[0]);\n              } else {\n                if (parenthesisLevel != 1) return false; // Unbalanced parenthesis\n                linkDetails.push(\"\"); // Empty end delimiter for destination\n                linkDetails.push(cap[0]); // Whitespace in between destination and title\n              }\n              break;\n            case 3:\n              linkDetails.push(cap[0]);\n              break; // Whitespace between destination and title\n            case 4:\n              return false; // This should never happen (no opener for title yet, but more whitespace to capture)\n            case 5:\n              linkDetails.push(\"\"); // Whitespace at beginning of title, push empty title and continue\n            case 6:\n              linkDetails[5] = linkDetails[5].concat(cap[0]);\n              break; // Whitespace in title\n            case 7:\n              linkDetails[6] = linkDetails[6].concat(cap[0]);\n              break; // Whitespace after closing delimiter\n            default:\n              return false; // We should never get here\n          }\n          currentOffset += cap[0].length;\n          continue inlineOuter;\n        }\n\n        // Process backslash escapes\n        cap = inlineGrammar.escape.regexp.exec(string);\n        if (cap) {\n          switch (linkDetails.length) {\n            case 0:\n              linkDetails.push(\"\"); // this opens the link destination, add empty opening delimiter and proceed to next case\n            case 1:\n              linkDetails.push(cap[0]);\n              break; // This opens the link destination, append it\n            case 2:\n              linkDetails[1] = linkDetails[1].concat(cap[0]);\n              break; // Part of the link destination\n            case 3:\n              return false; // Lacking opening delimiter for link title\n            case 4:\n              return false; // Lcaking opening delimiter for link title\n            case 5:\n              linkDetails.push(\"\"); // This opens the link title\n            case 6:\n              linkDetails[5] = linkDetails[5].concat(cap[0]);\n              break; // Part of the link title\n            default:\n              return false; // After link title was closed, without closing parenthesis\n          }\n          currentOffset += cap[0].length;\n          continue inlineOuter;\n        }\n\n        // Process opening angle bracket as deilimiter of destination\n        if (linkDetails.length < 2 && string.match(/^</)) {\n          if (linkDetails.length == 0) linkDetails.push(\"\");\n          linkDetails[0] = linkDetails[0].concat(\"<\");\n          currentOffset++;\n          continue inlineOuter;\n        }\n\n        // Process closing angle bracket as delimiter of destination\n        if (\n          (linkDetails.length == 1 || linkDetails.length == 2) &&\n          string.match(/^>/)\n        ) {\n          if (linkDetails.length == 1) linkDetails.push(\"\"); // Empty link destination\n          linkDetails.push(\">\");\n          currentOffset++;\n          continue inlineOuter;\n        }\n\n        // Process  non-parenthesis delimiter for title.\n        cap = /^[\"']/.exec(string);\n        // For this to be a valid opener, we have to either have no destination, only whitespace so far,\n        // or a destination with trailing whitespace.\n        if (\n          cap &&\n          (linkDetails.length == 0 ||\n            linkDetails.length == 1 ||\n            linkDetails.length == 4)\n        ) {\n          while (linkDetails.length < 4) linkDetails.push(\"\");\n          linkDetails.push(cap[0]);\n          currentOffset++;\n          continue inlineOuter;\n        }\n\n        // For this to be a valid closer, we have to have an opener and some or no title, and this has to match the opener\n        if (\n          cap &&\n          (linkDetails.length == 5 || linkDetails.length == 6) &&\n          linkDetails[4] == cap[0]\n        ) {\n          if (linkDetails.length == 5) linkDetails.push(\"\"); // Empty link title\n          linkDetails.push(cap[0]);\n          currentOffset++;\n          continue inlineOuter;\n        }\n        // Other cases (linkDetails.length == 2, 3, 7) will be handled with the \"default\" case below.\n\n        // Process opening parenthesis\n        if (string.match(/^\\(/)) {\n          switch (linkDetails.length) {\n            case 0:\n              linkDetails.push(\"\"); // this opens the link destination, add empty opening delimiter and proceed to next case\n            case 1:\n              linkDetails.push(\"\"); // This opens the link destination\n            case 2: // Part of the link destination\n              linkDetails[1] = linkDetails[1].concat(\"(\");\n              if (!linkDetails[0].match(/<$/)) parenthesisLevel++;\n              break;\n            case 3:\n              linkDetails.push(\"\"); //  opening delimiter for link title\n            case 4:\n              linkDetails.push(\"(\");\n              break; // opening delimiter for link title\n            case 5:\n              linkDetails.push(\"\"); // opens the link title, add empty title content and proceed to next case\n            case 6: // Part of the link title. Un-escaped parenthesis only allowed in \" or ' delimited title\n              if (linkDetails[4] == \"(\") return false;\n              linkDetails[5] = linkDetails[5].concat(\"(\");\n              break;\n            default:\n              return false; // After link title was closed, without closing parenthesis\n          }\n          currentOffset++;\n          continue inlineOuter;\n        }\n\n        // Process closing parenthesis\n        if (string.match(/^\\)/)) {\n          if (linkDetails.length <= 2) {\n            // We are inside the link destination. Parentheses have to be matched if not in angle brackets\n            while (linkDetails.length < 2) linkDetails.push(\"\");\n\n            if (!linkDetails[0].match(/<$/)) parenthesisLevel--;\n\n            if (parenthesisLevel > 0) {\n              linkDetails[1] = linkDetails[1].concat(\")\");\n            }\n          } else if (linkDetails.length == 5 || linkDetails.length == 6) {\n            // We are inside the link title.\n            if (linkDetails[4] == \"(\") {\n              // This closes the link title\n              if (linkDetails.length == 5) linkDetails.push(\"\");\n              linkDetails.push(\")\");\n            } else {\n              // Just regular ol' content\n              if (linkDetails.length == 5) linkDetails.push(\")\");\n              else linkDetails[5] = linkDetails[5].concat(\")\");\n            }\n          } else {\n            parenthesisLevel--; // This should decrease it from 1 to 0...\n          }\n\n          if (parenthesisLevel == 0) {\n            // No invalid condition, let's make sure the linkDetails array is complete\n            while (linkDetails.length < 7) linkDetails.push(\"\");\n          }\n\n          currentOffset++;\n          continue inlineOuter;\n        }\n\n        // Any old character\n        cap = /^./.exec(string);\n        if (cap) {\n          switch (linkDetails.length) {\n            case 0:\n              linkDetails.push(\"\"); // this opens the link destination, add empty opening delimiter and proceed to next case\n            case 1:\n              linkDetails.push(cap[0]);\n              break; // This opens the link destination, append it\n            case 2:\n              linkDetails[1] = linkDetails[1].concat(cap[0]);\n              break; // Part of the link destination\n            case 3:\n              return false; // Lacking opening delimiter for link title\n            case 4:\n              return false; // Lcaking opening delimiter for link title\n            case 5:\n              linkDetails.push(\"\"); // This opens the link title\n            case 6:\n              linkDetails[5] = linkDetails[5].concat(cap[0]);\n              break; // Part of the link title\n            default:\n              return false; // After link title was closed, without closing parenthesis\n          }\n          currentOffset += cap[0].length;\n          continue inlineOuter;\n        }\n        throw \"Infinite loop\"; // we should never get here since the last test matches any character\n      }\n      if (parenthesisLevel > 0) return false; // Parenthes(es) not closed\n    }\n\n    if (linkRef !== false) {\n      // Ref link; check that linkRef is valid\n      let valid = false;\n      for (let label of this.linkLabels) {\n        if (label == linkRef) {\n          valid = true;\n          break;\n        }\n      }\n      let label = valid\n        ? \"TMLinkLabel TMLinkLabel_Valid\"\n        : \"TMLinkLabel TMLinkLabel_Invalid\";\n      let output = `<span class=\"TMMark TMMark_${type}\">${opener}</span><span class=\"${type} ${\n        linkLabel.length < 3 || !linkLabel[1] ? label : \"\"\n      }\">${this.processInlineStyles(\n        linkText\n      )}</span><span class=\"TMMark TMMark_${type}\">]</span>`;\n\n      if (linkLabel.length >= 3) {\n        output = output.concat(\n          `<span class=\"TMMark TMMark_${type}\">${linkLabel[0]}</span>`,\n          `<span class=\"${label}\">${linkLabel[1]}</span>`,\n          `<span class=\"TMMark TMMark_${type}\">${linkLabel[2]}</span>`\n        );\n      }\n      return {\n        output: output,\n        charCount: currentOffset,\n      };\n    } else if (linkDetails) {\n      // Inline link\n\n      // This should never happen, but better safe than sorry.\n      while (linkDetails.length < 7) {\n        linkDetails.push(\"\");\n      }\n\n      return {\n        output: `<span class=\"TMMark TMMark_${type}\">${opener}</span><span class=\"${type}\">${this.processInlineStyles(\n          linkText\n        )}</span><span class=\"TMMark TMMark_${type}\">](${\n          linkDetails[0]\n        }</span><span class=\"${type}Destination\">${\n          linkDetails[1]\n        }</span><span class=\"TMMark TMMark_${type}\">${linkDetails[2]}${\n          linkDetails[3]\n        }${linkDetails[4]}</span><span class=\"${type}Title\">${\n          linkDetails[5]\n        }</span><span class=\"TMMark TMMark_${type}\">${linkDetails[6]})</span>`,\n        charCount: currentOffset,\n      };\n    }\n\n    return false;\n  }\n\n  /**\n   * Formats a markdown string as HTML, using Markdown inline formatting.\n   * @param {string} originalString The input (markdown inline formatted) string\n   * @returns {string} The HTML formatted output\n   */\n  processInlineStyles(originalString) {\n    let processed = \"\";\n    let stack = []; // Stack is an array of objects of the format: {delimiter, delimString, count, output}\n    let offset = 0;\n    let string = originalString;\n\n    outer: while (string) {\n      // Process simple rules (non-delimiter)\n      for (let rule of [\"escape\", \"code\", \"autolink\", \"html\"]) {\n        let cap = inlineGrammar[rule].regexp.exec(string);\n        if (cap) {\n          string = string.substr(cap[0].length);\n          offset += cap[0].length;\n          processed += inlineGrammar[rule].replacement\n            // .replace(/\\$\\$([1-9])/g, (str, p1) => processInlineStyles(cap[p1])) // todo recursive calling\n            .replace(/\\$([1-9])/g, (str, p1) => htmlescape(cap[p1]));\n          continue outer;\n        }\n      }\n\n      // Check for links / images\n      let potentialLink = string.match(inlineGrammar.linkOpen.regexp);\n      let potentialImage = string.match(inlineGrammar.imageOpen.regexp);\n      if (potentialImage || potentialLink) {\n        let result = this.parseLinkOrImage(string, potentialImage);\n        if (result) {\n          processed = `${processed}${result.output}`;\n          string = string.substr(result.charCount);\n          offset += result.charCount;\n          continue outer;\n        }\n      }\n\n      // Check for em / strong delimiters\n      let cap = /(^\\*+)|(^_+)/.exec(string);\n      if (cap) {\n        let delimCount = cap[0].length;\n        const delimString = cap[0];\n        const currentDelimiter = cap[0][0]; // This should be * or _\n\n        string = string.substr(cap[0].length);\n\n        // We have a delimiter run. Let's check if it can open or close an emphasis.\n\n        const preceding = offset > 0 ? originalString.substr(0, offset) : \" \"; // beginning and end of line count as whitespace\n        const following =\n          offset + cap[0].length < originalString.length ? string : \" \";\n\n        const punctuationFollows = following.match(punctuationLeading);\n        const punctuationPrecedes = preceding.match(punctuationTrailing);\n        const whitespaceFollows = following.match(/^\\s/);\n        const whitespacePrecedes = preceding.match(/\\s$/);\n\n        // These are the rules for right-flanking and left-flanking delimiter runs as per CommonMark spec\n        let canOpen =\n          !whitespaceFollows &&\n          (!punctuationFollows ||\n            !!whitespacePrecedes ||\n            !!punctuationPrecedes);\n        let canClose =\n          !whitespacePrecedes &&\n          (!punctuationPrecedes || !!whitespaceFollows || !!punctuationFollows);\n\n        // Underscores have more detailed rules than just being part of left- or right-flanking run:\n        if (currentDelimiter == \"_\" && canOpen && canClose) {\n          canOpen = punctuationPrecedes;\n          canClose = punctuationFollows;\n        }\n\n        // If the delimiter can close, check the stack if there's something it can close\n        if (canClose) {\n          let stackPointer = stack.length - 1;\n          // See if we can find a matching opening delimiter, move down through the stack\n          while (delimCount && stackPointer >= 0) {\n            if (stack[stackPointer].delimiter == currentDelimiter) {\n              // We found a matching delimiter, let's construct the formatted string\n\n              // Firstly, if we skipped any stack levels, pop them immediately (non-matching delimiters)\n              while (stackPointer < stack.length - 1) {\n                const entry = stack.pop();\n                processed = `${entry.output}${entry.delimString.substr(\n                  0,\n                  entry.count\n                )}${processed}`;\n              }\n\n              // Then, format the string\n              if (delimCount >= 2 && stack[stackPointer].count >= 2) {\n                // Strong\n                processed = `<span class=\"TMMark\">${currentDelimiter}${currentDelimiter}</span><strong class=\"TMStrong\">${processed}</strong><span class=\"TMMark\">${currentDelimiter}${currentDelimiter}</span>`;\n                delimCount -= 2;\n                stack[stackPointer].count -= 2;\n              } else {\n                // Em\n                processed = `<span class=\"TMMark\">${currentDelimiter}</span><em class=\"TMEm\">${processed}</em><span class=\"TMMark\">${currentDelimiter}</span>`;\n                delimCount -= 1;\n                stack[stackPointer].count -= 1;\n              }\n\n              // If that stack level is empty now, pop it\n              if (stack[stackPointer].count == 0) {\n                let entry = stack.pop();\n                processed = `${entry.output}${processed}`;\n                stackPointer--;\n              }\n            } else {\n              // This stack level's delimiter type doesn't match the current delimiter type\n              // Go down one level in the stack\n              stackPointer--;\n            }\n          }\n        }\n        // If there are still delimiters left, and the delimiter run can open, push it on the stack\n        if (delimCount && canOpen) {\n          stack.push({\n            delimiter: currentDelimiter,\n            delimString: delimString,\n            count: delimCount,\n            output: processed,\n          });\n          processed = \"\"; // Current formatted output has been pushed on the stack and will be prepended when the stack gets popped\n          delimCount = 0;\n        }\n\n        // Any delimiters that are left (closing unmatched) are appended to the output.\n        if (delimCount) {\n          processed = `${processed}${delimString.substr(0, delimCount)}`;\n        }\n\n        offset += cap[0].length;\n        continue outer;\n      }\n\n      // Check for strikethrough delimiter\n      cap = /^~~/.exec(string);\n      if (cap) {\n        let consumed = false;\n        let stackPointer = stack.length - 1;\n        // See if we can find a matching opening delimiter, move down through the stack\n        while (!consumed && stackPointer >= 0) {\n          if (stack[stackPointer].delimiter == \"~\") {\n            // We found a matching delimiter, let's construct the formatted string\n\n            // Firstly, if we skipped any stack levels, pop them immediately (non-matching delimiters)\n            while (stackPointer < stack.length - 1) {\n              const entry = stack.pop();\n              processed = `${entry.output}${entry.delimString.substr(\n                0,\n                entry.count\n              )}${processed}`;\n            }\n\n            // Then, format the string\n            processed = `<span class=\"TMMark\">~~</span><del class=\"TMStrikethrough\">${processed}</del><span class=\"TMMark\">~~</span>`;\n            let entry = stack.pop();\n            processed = `${entry.output}${processed}`;\n            consumed = true;\n          } else {\n            // This stack level's delimiter type doesn't match the current delimiter type\n            // Go down one level in the stack\n            stackPointer--;\n          }\n        }\n\n        // If there are still delimiters left, and the delimiter run can open, push it on the stack\n        if (!consumed) {\n          stack.push({\n            delimiter: \"~\",\n            delimString: \"~~\",\n            count: 2,\n            output: processed,\n          });\n          processed = \"\"; // Current formatted output has been pushed on the stack and will be prepended when the stack gets popped\n        }\n\n        offset += cap[0].length;\n        string = string.substr(cap[0].length);\n        continue outer;\n      }\n\n      // Process 'default' rule\n      cap = inlineGrammar.default.regexp.exec(string);\n      if (cap) {\n        string = string.substr(cap[0].length);\n        offset += cap[0].length;\n        processed += inlineGrammar.default.replacement.replace(\n          /\\$([1-9])/g,\n          (str, p1) => htmlescape(cap[p1])\n        );\n        continue outer;\n      }\n      throw \"Infinite loop!\";\n    }\n\n    // Empty the stack, any opening delimiters are unused\n    while (stack.length) {\n      const entry = stack.pop();\n      processed = `${entry.output}${entry.delimString.substr(\n        0,\n        entry.count\n      )}${processed}`;\n    }\n\n    return processed;\n  }\n\n  /**\n   * Clears the line dirty flag (resets it to an array of false)\n   */\n  clearDirtyFlag() {\n    this.lineDirty = new Array(this.lines.length);\n    for (let i = 0; i < this.lineDirty.length; i++) {\n      this.lineDirty[i] = false;\n    }\n  }\n\n  /**\n   * Updates the class properties (lines, lineElements) from the DOM.\n   * @returns true if contents changed\n   */\n  updateLineContents() {\n    // this.lineDirty = [];\n    // Check if we have changed anything about the number of lines (inserted or deleted a paragraph)\n    // < 0 means line(s) removed; > 0 means line(s) added\n    let lineDelta = this.e.childElementCount - this.lines.length;\n    if (lineDelta) {\n      // yup. Let's try how much we can salvage (find out which lines from beginning and end were unchanged)\n      // Find lines from the beginning that haven't changed...\n      let firstChangedLine = 0;\n      while (\n        firstChangedLine <= this.lines.length &&\n        firstChangedLine <= this.lineElements.length &&\n        this.lineElements[firstChangedLine] && // Check that the line element hasn't been deleted\n        this.lines[firstChangedLine] ==\n          this.lineElements[firstChangedLine].textContent\n      ) {\n        firstChangedLine++;\n      }\n\n      // End also from the end\n      let lastChangedLine = -1;\n      while (\n        -lastChangedLine < this.lines.length &&\n        -lastChangedLine < this.lineElements.length &&\n        this.lines[this.lines.length + lastChangedLine] ==\n          this.lineElements[this.lineElements.length + lastChangedLine]\n            .textContent\n      ) {\n        lastChangedLine--;\n      }\n\n      let linesToDelete =\n        this.lines.length + lastChangedLine + 1 - firstChangedLine;\n      if (linesToDelete < -lineDelta) linesToDelete = -lineDelta;\n      if (linesToDelete < 0) linesToDelete = 0;\n\n      let linesToAdd = [];\n      for (let l = 0; l < linesToDelete + lineDelta; l++) {\n        linesToAdd.push(this.lineElements[firstChangedLine + l].textContent);\n      }\n      this.spliceLines(firstChangedLine, linesToDelete, linesToAdd, false);\n    } else {\n      // No lines added or removed\n      for (let line = 0; line < this.lineElements.length; line++) {\n        let e = this.lineElements[line];\n        let ct = e.textContent;\n        if (this.lines[line] !== ct) {\n          // Line changed, update it\n          this.lines[line] = ct;\n          this.lineDirty[line] = true;\n        }\n      }\n    }\n  }\n\n  /**\n   * Processes a new paragraph.\n   * @param sel The current selection\n   */\n  processNewParagraph(sel) {\n    if (!sel) return;\n\n    // Update lines from content\n    this.updateLineContents();\n\n    let continuableType = false;\n    // Let's see if we need to continue a list\n\n    let checkLine = sel.col > 0 ? sel.row : sel.row - 1;\n    switch (this.lineTypes[checkLine]) {\n      case \"TMUL\":\n        continuableType = \"TMUL\";\n        break;\n      case \"TMOL\":\n        continuableType = \"TMOL\";\n        break;\n      case \"TMIndentedCode\":\n        continuableType = \"TMIndentedCode\";\n        break;\n    }\n\n    let lines = this.lines[sel.row]\n      .replace(/\\n\\n$/, \"\\n\")\n      .split(/(?:\\r\\n|\\n|\\r)/);\n    if (lines.length == 1) {\n      // No new line\n      this.updateFormatting();\n      return;\n    }\n    this.spliceLines(sel.row, 1, lines, true);\n    sel.row++;\n    sel.col = 0;\n\n    if (continuableType) {\n      // Check if the previous line was non-empty\n      let capture = lineGrammar[continuableType].regexp.exec(\n        this.lines[sel.row - 1]\n      );\n      if (capture) {\n        // Convention: capture[1] is the line type marker, capture[2] is the content\n        if (capture[2]) {\n          // Previous line has content, continue the continuable type\n\n          // Hack for OL: increment number\n          if (continuableType == \"TMOL\") {\n            capture[1] = capture[1].replace(/\\d{1,9}/, (result) => {\n              return parseInt(result[0]) + 1;\n            });\n          }\n          this.lines[sel.row] = `${capture[1]}${this.lines[sel.row]}`;\n          this.lineDirty[sel.row] = true;\n          sel.col = capture[1].length;\n        } else {\n          // Previous line has no content, remove the continuable type from the previous row\n          this.lines[sel.row - 1] = \"\";\n          this.lineDirty[sel.row - 1] = true;\n        }\n      }\n    }\n    this.updateFormatting();\n  }\n\n  // /**\n  //  * Processes a \"delete\" input action.\n  //  * @param {object} focus The selection\n  //  * @param {boolean} forward If true, performs a forward delete, otherwise performs a backward delete\n  //  */\n  // processDelete(focus, forward) {\n  //   if (!focus) return;\n  //   let anchor = this.getSelection(true);\n  //   // Do we have a non-empty selection?\n  //   if (focus.col != anchor.col || focus.row != anchor.row) {\n  //     // non-empty. direction doesn't matter.\n  //     this.paste('', anchor, focus);\n  //   } else {\n  //     if (forward) {\n  //       if (focus.col < this.lines[focus.row].length) this.paste('', {row: focus.row, col: focus.col + 1}, focus);\n  //       else if (focus.col < this.lines.length) this.paste('', {row: focus.row + 1, col: 0}, focus);\n  //       // Otherwise, we're at the very end and can't delete forward\n  //     } else {\n  //       if (focus.col > 0) this.paste('', {row: focus.row, col: focus.col - 1}, focus);\n  //       else if (focus.row > 0) this.paste('', {row: focus.row - 1, col: this.lines[focus.row - 1].length - 1}, focus);\n  //       // Otherwise, we're at the very beginning and can't delete backwards\n  //     }\n  //   }\n\n  // }\n\n  /**\n   * Gets the current position of the selection counted by row and column of the editor Markdown content (as opposed to the position in the DOM).\n   *\n   * @param {boolean} getAnchor if set to true, gets the selection anchor (start point of the selection), otherwise gets the focus (end point).\n   * @return {object} An object representing the selection, with properties col and row.\n   */\n  getSelection(getAnchor = false) {\n    const selection = window.getSelection();\n    let startNode = getAnchor ? selection.anchorNode : selection.focusNode;\n    if (!startNode) return null;\n    let offset = getAnchor ? selection.anchorOffset : selection.focusOffset;\n    if (startNode == this.e) {\n      if (offset < this.lines.length)\n        return {\n          row: offset,\n          col: 0,\n        };\n      return {\n        row: offset - 1,\n        col: this.lines[offset - 1].length,\n      };\n    }\n\n    let col = this.computeColumn(startNode, offset);\n    if (col === null) return null; // We are outside of the editor\n\n    // Find the row node\n    let node = startNode;\n    while (node.parentElement != this.e) {\n      node = node.parentElement;\n    }\n\n    let row = 0;\n    // Check if we can read a line number from the data-line-num attribute.\n    // The last condition is a security measure since inserting a new paragraph copies the previous rows' line number\n    if (\n      node.dataset &&\n      node.dataset.lineNum &&\n      (!node.previousSibling ||\n        node.previousSibling.dataset.lineNum != node.dataset.lineNum)\n    ) {\n      row = parseInt(node.dataset.lineNum);\n    } else {\n      while (node.previousSibling) {\n        row++;\n        node = node.previousSibling;\n      }\n    }\n    return { row: row, col: col, node: startNode };\n  }\n\n  /**\n   * Computes a column within an editor line from a node and offset within that node.\n   * @param {Node} startNode The node\n   * @param {int} offset THe selection\n   * @returns {int} the column, or null if the node is not inside the editor\n   */\n  computeColumn(startNode, offset) {\n    let node = startNode;\n    let col;\n    // First, make sure we're actually in the editor.\n    while (node && node.parentNode != this.e) {\n      node = node.parentNode;\n    }\n    if (node == null) return null;\n\n    // There are two ways that offset can be defined:\n    // - Either, the node is a text node, in which case it is the offset within the text\n    // - Or, the node is an element with child notes, in which case the offset refers to the\n    //   child node after which the selection is located\n    if (startNode.nodeType === Node.TEXT_NODE || offset === 0) {\n      // In the case that the node is non-text node but the offset is 0,\n      // The selection is at the beginning of that element so we\n      // can simply use the same approach as if it were at the beginning\n      // of a text node.\n      col = offset;\n      node = startNode;\n    } else if (offset > 0) {\n      node = startNode.childNodes[offset - 1];\n      col = node.textContent.length;\n    }\n    while (node.parentNode != this.e) {\n      if (node.previousSibling) {\n        node = node.previousSibling;\n        col += node.textContent.length;\n      } else {\n        node = node.parentNode;\n      }\n    }\n    return col;\n  }\n\n  /**\n   * Computes DOM node and offset within that node from a position expressed as row and column.\n   * @param {int} row Row (line number)\n   * @param {int} col Column\n   * @returns An object with two properties: node and offset. offset may be null;\n   */\n  computeNodeAndOffset(row, col, bindRight = false) {\n    if (row >= this.lineElements.length) {\n      // Selection past the end of text, set selection to end of text\n      row = this.lineElements.length - 1;\n      col = this.lines[row].length;\n    }\n    if (col > this.lines[row].length) {\n      col = this.lines[row].length;\n    }\n    const parentNode = this.lineElements[row];\n    let node = parentNode.firstChild;\n\n    let childrenComplete = false;\n    // default return value\n    let rv = {\n      node: parentNode.firstChild ? parentNode.firstChild : parentNode,\n      offset: 0,\n    };\n\n    while (node != parentNode) {\n      if (!childrenComplete && node.nodeType === Node.TEXT_NODE) {\n        if (node.nodeValue.length >= col) {\n          if (bindRight && node.nodeValue.length == col) {\n            // Selection is at the end of this text node, but we are binding right (prefer an offset of 0 in the next text node)\n            // Remember return value in case we don't find another text node\n            rv = { node: node, offset: col };\n            col = 0;\n          } else {\n            return { node: node, offset: col };\n          }\n        } else {\n          col -= node.nodeValue.length;\n        }\n      }\n      if (!childrenComplete && node.firstChild) {\n        node = node.firstChild;\n      } else if (node.nextSibling) {\n        childrenComplete = false;\n        node = node.nextSibling;\n      } else {\n        childrenComplete = true;\n        node = node.parentNode;\n      }\n    }\n\n    // Either, the position was invalid and we just return the default return value\n    // Or we are binding right and the selection is at the end of the line\n    return rv;\n  }\n\n  /**\n   * Sets the selection based on rows and columns within the editor Markdown content.\n   * @param {object} focus Object representing the selection, needs to have properties row and col.\n   * @param anchor Anchor of the selection. If not given, assumes the current anchor.\n   */\n  setSelection(focus, anchor = null) {\n    if (!focus) return;\n\n    let range = document.createRange();\n\n    let { node: focusNode, offset: focusOffset } = this.computeNodeAndOffset(\n      focus.row,\n      focus.col,\n      anchor && anchor.row == focus.row && anchor.col > focus.col\n    ); // Bind selection right if anchor is in the same row and behind the focus\n    let anchorNode = null,\n      anchorOffset = null;\n    if (anchor && (anchor.row != focus.row || anchor.col != focus.col)) {\n      let { node, offset } = this.computeNodeAndOffset(\n        anchor.row,\n        anchor.col,\n        focus.row == anchor.row && focus.col > anchor.col\n      );\n      anchorNode = node;\n      anchorOffset = offset;\n    }\n\n    if (anchorNode) range.setStart(anchorNode, anchorOffset);\n    else range.setStart(focusNode, focusOffset);\n    range.setEnd(focusNode, focusOffset);\n\n    let windowSelection = window.getSelection();\n    windowSelection.removeAllRanges();\n    windowSelection.addRange(range);\n  }\n\n  /**\n   * Event handler for input events\n   */\n  handleInputEvent(event) {\n    // For composition input, we are only updating the text after we have received\n    // a compositionend event, so we return upon insertCompositionText.\n    // Otherwise, the DOM changes break the text input.\n    if (event.inputType == \"insertCompositionText\") return;\n\n    let focus = this.getSelection();\n\n    if (\n      (event.inputType == \"insertParagraph\" ||\n        event.inputType == \"insertLineBreak\") &&\n      focus\n    ) {\n      this.clearDirtyFlag();\n      this.processNewParagraph(focus);\n    } else {\n      if (!this.e.firstChild) {\n        this.e.innerHTML = '<div class=\"TMBlankLine\"><br></div>';\n      } else {\n        this.fixNodeHierarchy();\n      }\n      this.updateLineContentsAndFormatting();\n    }\n    if (focus) {\n      this.setSelection(focus);\n    }\n\n    this.fireChange();\n  }\n\n  /**\n   * Fixes the node hierarchy – makes sure that each line is in a div, and there are no nested divs\n   */\n  fixNodeHierarchy() {\n    const originalChildren = Array.from(this.e.childNodes);\n\n    const replaceChild = (child, ...newChildren) => {\n      const parent = child.parentElement;\n      const nextSibling = child.nextSibling;\n      parent.removeChild(child);\n      newChildren.forEach((newChild) =>\n        nextSibling\n          ? parent.insertBefore(newChild, nextSibling)\n          : parent.appendChild(newChild)\n      );\n    };\n\n    originalChildren.forEach((child) => {\n      if (child.nodeType !== Node.ELEMENT_NODE || child.tagName !== \"DIV\") {\n        // Found a child node that's either not an element or not a div. Wrap it in a div.\n        const divWrapper = document.createElement(\"div\");\n        replaceChild(child, divWrapper);\n        divWrapper.appendChild(child);\n      } else if (child.childNodes.length == 0) {\n        // Empty div child node, include at least a <br />\n        child.appendChild(document.createElement(\"br\"));\n      } else {\n        const grandChildren = Array.from(child.childNodes);\n        if (\n          grandChildren.some(\n            (grandChild) =>\n              grandChild.nodeType === Node.ELEMENT_NODE &&\n              grandChild.tagName === \"DIV\"\n          )\n        ) {\n          return replaceChild(child, grandChildren);\n        }\n      }\n    });\n  }\n\n  /**\n   * Event handler for the \"drop\" event\n   */\n  handleDrop(event) {\n    event.preventDefault();\n\n    this.fireDrop(event.dataTransfer);\n  }\n\n  /**\n   * Event handler for \"selectionchange\" events.\n   */\n  handleSelectionChangeEvent() {\n    this.fireSelection();\n  }\n\n  /**\n   * Convenience function to \"splice\" new lines into the arrays this.lines, this.lineDirty, this.lineTypes, and the DOM elements\n   * underneath the editor element.\n   * This method is essentially Array.splice, only that the third parameter takes an un-spread array (and the forth parameter)\n   * determines whether the DOM should also be adjusted.\n   *\n   * @param {int} startLine Position at which to start changing the array of lines\n   * @param {int} linesToDelete Number of lines to delete\n   * @param {array} linesToInsert Array of strings representing the lines to be inserted\n   * @param {boolean} adjustLineElements If true, then <div> elements are also inserted in the DOM at the respective position\n   */\n  spliceLines(\n    startLine,\n    linesToDelete = 0,\n    linesToInsert = [],\n    adjustLineElements = true\n  ) {\n    if (adjustLineElements) {\n      for (let i = 0; i < linesToDelete; i++) {\n        this.e.removeChild(this.e.childNodes[startLine]);\n      }\n    }\n\n    let insertedBlank = [];\n    let insertedDirty = [];\n\n    for (let i = 0; i < linesToInsert.length; i++) {\n      insertedBlank.push(\"\");\n      insertedDirty.push(true);\n      if (adjustLineElements) {\n        if (this.e.childNodes[startLine])\n          this.e.insertBefore(\n            document.createElement(\"div\"),\n            this.e.childNodes[startLine]\n          );\n        else this.e.appendChild(document.createElement(\"div\"));\n      }\n    }\n\n    this.lines.splice(startLine, linesToDelete, ...linesToInsert);\n    this.lineTypes.splice(startLine, linesToDelete, ...insertedBlank);\n    this.lineDirty.splice(startLine, linesToDelete, ...insertedDirty);\n  }\n\n  /**\n   * Event handler for the \"paste\" event\n   */\n  handlePaste(event) {\n    event.preventDefault();\n\n    // get text representation of clipboard\n    let text = (event.originalEvent || event).clipboardData.getData(\n      \"text/plain\"\n    );\n\n    // insert text manually\n    this.paste(text);\n  }\n\n  /**\n   * Pastes the text at the current selection (or at the end, if no current selection)\n   * @param {string} text\n   */\n  paste(text, anchor = null, focus = null) {\n    if (!anchor) anchor = this.getSelection(true);\n    if (!focus) focus = this.getSelection(false);\n    let beginning, end;\n    if (!focus) {\n      focus = {\n        row: this.lines.length - 1,\n        col: this.lines[this.lines.length - 1].length,\n      }; // Insert at end\n    }\n    if (!anchor) {\n      anchor = focus;\n    }\n    if (\n      anchor.row < focus.row ||\n      (anchor.row == focus.row && anchor.col <= focus.col)\n    ) {\n      beginning = anchor;\n      end = focus;\n    } else {\n      beginning = focus;\n      end = anchor;\n    }\n    let insertedLines = text.split(/(?:\\r\\n|\\r|\\n)/);\n    let lineBefore = this.lines[beginning.row].substr(0, beginning.col);\n    let lineEnd = this.lines[end.row].substr(end.col);\n    insertedLines[0] = lineBefore.concat(insertedLines[0]);\n    let endColPos = insertedLines[insertedLines.length - 1].length;\n    insertedLines[insertedLines.length - 1] =\n      insertedLines[insertedLines.length - 1].concat(lineEnd);\n    this.spliceLines(beginning.row, 1 + end.row - beginning.row, insertedLines);\n    focus.row = beginning.row + insertedLines.length - 1;\n    focus.col = endColPos;\n    this.updateFormatting();\n    this.setSelection(focus);\n    this.fireChange();\n  }\n\n  /**\n   * Computes the (lowest in the DOM tree) common ancestor of two DOM nodes.\n   * @param {Node} node1 the first node\n   * @param {Node} node2 the second node\n   * @returns {Node} The commen ancestor node, or null if there is no common ancestor\n   */\n  computeCommonAncestor(node1, node2) {\n    if (!node1 || !node2) return null;\n    if (node1 == node2) return node1;\n    const ancestry = (node) => {\n      let ancestry = [];\n      while (node) {\n        ancestry.unshift(node);\n        node = node.parentNode;\n      }\n      return ancestry;\n    };\n\n    const ancestry1 = ancestry(node1);\n    const ancestry2 = ancestry(node2);\n\n    if (ancestry1[0] != ancestry2[0]) return null;\n    let i;\n    for (i = 0; ancestry1[i] == ancestry2[i]; i++);\n    return ancestry1[i - 1];\n  }\n\n  /**\n   * Finds the (lowest in the DOM tree) enclosing DOM node with a given class.\n   * @param {object} focus The focus selection object\n   * @param {object} anchor The anchor selection object\n   * @param {string} className The class name to find\n   * @returns {Node} The enclosing DOM node with the respective class (inside the editor), if there is one; null otherwise.\n   */\n  computeEnclosingMarkupNode(focus, anchor, className) {\n    let node = null;\n    if (!focus) return null;\n    if (!anchor) {\n      node = focus.node;\n    } else {\n      if (focus.row != anchor.row) return null;\n      node = this.computeCommonAncestor(focus.node, anchor.node);\n    }\n    if (!node) return null;\n    while (node != this.e) {\n      if (node.className && node.className.includes(className)) return node;\n      node = node.parentNode;\n    }\n    // Ascended all the way to the editor element\n    return null;\n  }\n\n  /**\n   * Returns the state (true / false) of all commands.\n   * @param focus Focus of the selection. If not given, assumes the current focus.\n   * @param anchor Anchor of the selection. If not given, assumes the current anchor.\n   */\n  getCommandState(focus = null, anchor = null) {\n    let commandState = {};\n    if (!focus) focus = this.getSelection(false);\n    if (!anchor) anchor = this.getSelection(true);\n    if (!focus) {\n      for (let cmd in commands) {\n        commandState[cmd] = null;\n      }\n      return commandState;\n    }\n    if (!anchor) anchor = focus;\n\n    let start, end;\n    if (\n      anchor.row < focus.row ||\n      (anchor.row == focus.row && anchor.col < focus.col)\n    ) {\n      start = anchor;\n      end = focus;\n    } else {\n      start = focus;\n      end = anchor;\n    }\n    if (end.row > start.row && end.col == 0) {\n      end.row--;\n      end.col = this.lines[end.row].length; // Selection to beginning of next line is said to end at the beginning of the last line\n    }\n\n    for (let cmd in commands) {\n      if (commands[cmd].type == \"inline\") {\n        if (\n          !focus ||\n          focus.row != anchor.row ||\n          !this.isInlineFormattingAllowed(focus, anchor)\n        ) {\n          commandState[cmd] = null;\n        } else {\n          // The command state is true if there is a respective enclosing markup node (e.g., the selection is enclosed in a <b>..</b>) ...\n          commandState[cmd] =\n            !!this.computeEnclosingMarkupNode(\n              focus,\n              anchor,\n              commands[cmd].className\n            ) ||\n            // ... or if it's an empty string preceded by and followed by formatting markers, e.g. **|** where | is the cursor\n            (focus.col == anchor.col &&\n              !!this.lines[focus.row]\n                .substr(0, focus.col)\n                .match(commands[cmd].unset.prePattern) &&\n              !!this.lines[focus.row]\n                .substr(focus.col)\n                .match(commands[cmd].unset.postPattern));\n        }\n      }\n      if (commands[cmd].type == \"line\") {\n        if (!focus) {\n          commandState[cmd] = null;\n        } else {\n          let state = this.lineTypes[start.row] == commands[cmd].className;\n\n          for (let line = start.row; line <= end.row; line++) {\n            if ((this.lineTypes[line] == commands[cmd].className) != state) {\n              state = null;\n              break;\n            }\n          }\n          commandState[cmd] = state;\n        }\n      }\n    }\n    return commandState;\n  }\n\n  /**\n   * Sets a command state\n   * @param {string} command\n   * @param {boolean} state\n   */\n  setCommandState(command, state) {\n    if (commands[command].type == \"inline\") {\n      let anchor = this.getSelection(true);\n      let focus = this.getSelection(false);\n      if (!anchor) anchor = focus;\n      if (!anchor) return;\n      if (anchor.row != focus.row) return;\n      if (!this.isInlineFormattingAllowed(focus, anchor)) return;\n      let markupNode = this.computeEnclosingMarkupNode(\n        focus,\n        anchor,\n        commands[command].className\n      );\n      this.clearDirtyFlag();\n\n      // First case: There's an enclosing markup node, remove the markers around that markup node\n      if (markupNode) {\n        this.lineDirty[focus.row] = true;\n        const startCol = this.computeColumn(markupNode, 0);\n        const len = markupNode.textContent.length;\n        const left = this.lines[focus.row]\n          .substr(0, startCol)\n          .replace(commands[command].unset.prePattern, \"\");\n        const mid = this.lines[focus.row].substr(startCol, len);\n        const right = this.lines[focus.row]\n          .substr(startCol + len)\n          .replace(commands[command].unset.postPattern, \"\");\n        this.lines[focus.row] = left.concat(mid, right);\n        anchor.col = left.length;\n        focus.col = anchor.col + len;\n        this.updateFormatting();\n        this.setSelection(focus, anchor);\n        this.fireChange();\n\n        // Second case: Empty selection with surrounding formatting markers, remove those\n      } else if (\n        focus.col == anchor.col &&\n        !!this.lines[focus.row]\n          .substr(0, focus.col)\n          .match(commands[command].unset.prePattern) &&\n        !!this.lines[focus.row]\n          .substr(focus.col)\n          .match(commands[command].unset.postPattern)\n      ) {\n        this.lineDirty[focus.row] = true;\n        const left = this.lines[focus.row]\n          .substr(0, focus.col)\n          .replace(commands[command].unset.prePattern, \"\");\n        const right = this.lines[focus.row]\n          .substr(focus.col)\n          .replace(commands[command].unset.postPattern, \"\");\n        this.lines[focus.row] = left.concat(right);\n        focus.col = anchor.col = left.length;\n        this.updateFormatting();\n        this.setSelection(focus, anchor);\n        this.fireChange();\n\n        // Not currently formatted, insert formatting markers\n      } else {\n        // Trim any spaces from the selection\n        let { startCol, endCol } =\n          focus.col < anchor.col\n            ? { startCol: focus.col, endCol: anchor.col }\n            : { startCol: anchor.col, endCol: focus.col };\n\n        let match = this.lines[focus.row]\n          .substr(startCol, endCol - startCol)\n          .match(/^(?<leading>\\s*).*\\S(?<trailing>\\s*)$/);\n        if (match) {\n          startCol += match.groups.leading.length;\n          endCol -= match.groups.trailing.length;\n        }\n\n        focus.col = startCol;\n        anchor.col = endCol;\n\n        // Just insert markup before and after and hope for the best.\n        this.wrapSelection(\n          commands[command].set.pre,\n          commands[command].set.post,\n          focus,\n          anchor\n        );\n        this.fireChange();\n        // TODO clean this up so that markup remains properly nested\n      }\n    } else if (commands[command].type == \"line\") {\n      let anchor = this.getSelection(true);\n      let focus = this.getSelection(false);\n      if (!anchor) anchor = focus;\n      if (!focus) return;\n      this.clearDirtyFlag();\n      let start = anchor.row > focus.row ? focus : anchor;\n      let end = anchor.row > focus.row ? anchor : focus;\n      if (end.row > start.row && end.col == 0) {\n        end.row--;\n      }\n\n      for (let line = start.row; line <= end.row; line++) {\n        if (state && this.lineTypes[line] != commands[command].className) {\n          this.lines[line] = this.lines[line].replace(\n            commands[command].set.pattern,\n            commands[command].set.replacement.replace(\n              \"$#\",\n              line - start.row + 1\n            )\n          );\n          this.lineDirty[line] = true;\n        }\n        if (!state && this.lineTypes[line] == commands[command].className) {\n          this.lines[line] = this.lines[line].replace(\n            commands[command].unset.pattern,\n            commands[command].unset.replacement\n          );\n          this.lineDirty[line] = true;\n        }\n      }\n      this.updateFormatting();\n      this.setSelection(\n        { row: end.row, col: this.lines[end.row].length },\n        { row: start.row, col: 0 }\n      );\n      this.fireChange();\n    }\n  }\n\n  /**\n   * Returns whether or not inline formatting is allowed at the current focus\n   * @param {object} focus The current focus\n   */\n  isInlineFormattingAllowed() {\n    // TODO Remove parameters from all calls\n    const sel = window.getSelection();\n    if (!sel || !sel.focusNode || !sel.anchorNode) return false;\n\n    // Check if we can find a common ancestor with the class `TMInlineFormatted`\n\n    // Special case: Empty selection right before `TMInlineFormatted`\n    if (\n      sel.isCollapsed &&\n      sel.focusNode.nodeType == 3 &&\n      sel.focusOffset == sel.focusNode.nodeValue.length\n    ) {\n      let node;\n      for (\n        node = sel.focusNode;\n        node && node.nextSibling == null;\n        node = node.parentNode\n      );\n      if (\n        node &&\n        node.nextSibling.className &&\n        node.nextSibling.className.includes(\"TMInlineFormatted\")\n      )\n        return true;\n    }\n\n    // Look for a common ancestor\n    let ancestor = this.computeCommonAncestor(sel.focusNode, sel.anchorNode);\n    if (!ancestor) return false;\n\n    // Check if there's an ancestor of class 'TMInlineFormatted' or 'TMBlankLine'\n    while (ancestor && ancestor != this.e) {\n      if (\n        ancestor.className &&\n        typeof ancestor.className.includes == \"function\" &&\n        (ancestor.className.includes(\"TMInlineFormatted\") ||\n          ancestor.className.includes(\"TMBlankLine\"))\n      )\n        return true;\n      ancestor = ancestor.parentNode;\n    }\n\n    return false;\n  }\n\n  /**\n   * Wraps the current selection in the strings pre and post. If the selection is not on one line, returns.\n   * @param {string} pre The string to insert before the selection.\n   * @param {string} post The string to insert after the selection.\n   * @param {object} focus The current selection focus. If null, selection will be computed.\n   * @param {object} anchor The current selection focus. If null, selection will be computed.\n   */\n  wrapSelection(pre, post, focus = null, anchor = null) {\n    if (!focus) focus = this.getSelection(false);\n    if (!anchor) anchor = this.getSelection(true);\n    if (!focus || !anchor || focus.row != anchor.row) return;\n    this.lineDirty[focus.row] = true;\n\n    const startCol = focus.col < anchor.col ? focus.col : anchor.col;\n    const endCol = focus.col < anchor.col ? anchor.col : focus.col;\n    const left = this.lines[focus.row].substr(0, startCol).concat(pre);\n    const mid =\n      endCol == startCol\n        ? \"\"\n        : this.lines[focus.row].substr(startCol, endCol - startCol);\n    const right = post.concat(this.lines[focus.row].substr(endCol));\n    this.lines[focus.row] = left.concat(mid, right);\n    anchor.col = left.length;\n    focus.col = anchor.col + mid.length;\n\n    this.updateFormatting();\n    this.setSelection(focus, anchor);\n  }\n\n  /**\n   * Toggles the command state for a command (true <-> false)\n   * @param {string} command The editor command\n   */\n  toggleCommandState(command) {\n    if (!this.lastCommandState) this.lastCommandState = this.getCommandState();\n    this.setCommandState(command, !this.lastCommandState[command]);\n  }\n\n  /**\n   * Fires a change event. Updates the linked textarea and notifies any event listeners.\n   */\n  fireChange() {\n    if (!this.textarea && !this.listeners.change.length) return;\n    const content = this.getContent();\n    if (this.textarea) this.textarea.value = content;\n    for (let listener of this.listeners.change) {\n      listener({\n        content: content,\n        linesDirty: this.linesDirty,\n      });\n    }\n  }\n\n  /**\n   * Fires a \"selection changed\" event.\n   */\n  fireSelection() {\n    if (this.listeners.selection && this.listeners.selection.length) {\n      let focus = this.getSelection(false);\n      let anchor = this.getSelection(true);\n      let commandState = this.getCommandState(focus, anchor);\n      if (this.lastCommandState) {\n        Object.assign(this.lastCommandState, commandState);\n      } else {\n        this.lastCommandState = Object.assign({}, commandState);\n      }\n      for (let listener of this.listeners.selection) {\n        listener({\n          focus: focus,\n          anchor: anchor,\n          commandState: this.lastCommandState,\n        });\n      }\n    }\n  }\n\n  /**\n   * Fires a drop event.\n   */\n  fireDrop(dataTransfer) {\n    for (let listener of this.listeners.drop) {\n      listener({\n        dataTransfer\n      });\n    }\n  }\n\n  /**\n   * Adds an event listener.\n   * @param {string} type The type of event to listen to. Can be 'change', 'selection' or 'drop'.\n   * @param {*} listener Function of the type (event) => {} to be called when the event occurs.\n   */\n  addEventListener(type, listener) {\n    if (type.match(/^(?:change|input)$/i)) {\n      this.listeners.change.push(listener);\n    }\n    if (type.match(/^(?:selection|selectionchange)$/i)) {\n      this.listeners.selection.push(listener);\n    }\n    if (type.match(/^(?:drop)$/i)) {\n      this.listeners.drop.push(listener);\n    }\n  }\n}\n\nexport default Editor;\n"],"names":["svg","blockquote","bold","clear_formatting","code","h1","h2","hr","image","italic","link","ol","strikethrough","ul","isMacLike","test","navigator","platform","DefaultCommands","name","action","innerHTML","title","hotkey","editor","isInlineFormattingAllowed","wrapSelection","enabled","focus","anchor","paste","CommandBar","constructor","props","e","commands","buttons","state","hotkeys","element","tagName","document","getElementById","body","createCommandBarElement","addEventListener","handleKeydown","setEditor","parentElement","createElement","className","command","el","appendChild","commandName","Object","assign","keys","split","modifiers","modifierexplanation","i","length","push","match","key","toLowerCase","concat","join","handleClick","event","preventDefault","setCommandState","handleSelection","commandState","undefined","outer","modifier","check","it","Math","module","globalThis","window","self","global","this","Function","exec","error","fails","require","defineProperty","get","bind","hasOwnProperty","NATIVE_BIND","FunctionPrototype","prototype","call","uncurryThisWithBind","fn","apply","arguments","documentAll","all","IS_HTMLDDA","$documentAll","argument","isNullOrUndefined","$TypeError","TypeError","requireObjectCoercible","$Object","uncurryThis","toObject","hasOwn","DESCRIPTORS","getDescriptor","getOwnPropertyDescriptor","EXISTS","PROPER","something","CONFIGURABLE","configurable","value","writable","defineGlobalProperty","SHARED","store","isCallable","functionToString","toString","inspectSource","WeakMap","String","isObject","a","$String","aFunction","namespace","method","isPrototypeOf","userAgent","process","Deno","versions","version","v8","V8_VERSION","getOwnPropertySymbols","symbol","Symbol","sham","NATIVE_SYMBOL","iterator","getBuiltIn","USE_SYMBOL_AS_UID","$Symbol","tryToString","aCallable","V","P","func","input","pref","val","valueOf","mode","copyright","license","source","id","postfix","random","shared","uid","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","isSymbol","getMethod","ordinaryToPrimitive","wellKnownSymbol","TO_PRIMITIVE","exoticToPrim","result","toPrimitive","IE8_DOM_DEFINE","V8_PROTOTYPE_DEFINE_BUG","anObject","toPropertyKey","$defineProperty","$getOwnPropertyDescriptor","ENUMERABLE","WRITABLE","exports","O","Attributes","current","enumerable","bitmap","definePropertyModule","createPropertyDescriptor","object","f","NATIVE_WEAK_MAP","createNonEnumerableProperty","sharedKey","OBJECT_ALREADY_INITIALIZED","set","has","enforce","getterFor","TYPE","type","metadata","facade","STATE","CONFIGURABLE_FUNCTION_NAME","InternalStateModule","enforceInternalState","getInternalState","stringSlice","slice","replace","CONFIGURABLE_LENGTH","TEMPLATE","makeBuiltIn","options","getter","setter","arity","target","descriptor","that","hasIndices","ignoreCase","multiline","dotAll","unicode","unicodeSets","sticky","defineBuiltInAccessor","regExpFlags","RegExp","RegExpPrototype","FORCED","INDICES_SUPPORT","calls","expected","addGetter","chr","pairs","replacements","ASCIIPunctuation","NotTriggerChar","Scheme","Email","HTMLOpenTag","HTMLCloseTag","HTMLTagName","HTMLComment","HTMLPI","HTMLDeclaration","HTMLCDATA","HTMLAttribute","HTMLAttValue","KnownTag","punctuationLeading","punctuationTrailing","lineGrammar","TMH1","regexp","replacement","TMH2","TMH3","TMH4","TMH5","TMH6","TMBlockquote","TMCodeFenceBacktickOpen","TMCodeFenceTildeOpen","TMCodeFenceBacktickClose","TMCodeFenceTildeClose","TMBlankLine","TMSetextH1Marker","TMSetextH2Marker","TMHR","TMUL","TMOL","TMIndentedCode","TMLinkReferenceDefinition","labelPlaceholder","htmlBlockGrammar","start","end","paraInterrupt","inlineGrammar","escape","autolink","html","linkOpen","imageOpen","linkLabel","default","replacementRegexp","inlineRules","rule","re","string","flags","htmlescape","pre","post","unset","prePattern","postPattern","pattern","h3","h4","h5","h6","Editor","textarea","lines","lineElements","lineTypes","lineCaptures","lineReplacements","linkLabels","lineDirty","lastCommandState","listeners","change","selection","drop","getElementsByTagName","parentNode","style","display","createEditorElement","setContent","content","contentEditable","whiteSpace","webkitUserModify","nextSibling","insertBefore","handleInputEvent","handleSelectionChangeEvent","handlePaste","handleDrop","childNodes","firstChild","removeChild","lineNum","le","Array","updateFormatting","fireChange","getContent","updateLineTypes","updateLinkLabels","applyLineTypes","l","capture","str","p1","p2","processInlineStyles","contentHTML","removeAttribute","dataset","codeBlockType","codeBlockSeqLength","htmlBlock","lineType","lineCapture","lineReplacement","groups","htmlBlockType","headingLine","headingLineType","updateLineContentsAndFormatting","clearDirtyFlag","updateLineContents","parseLinkOrImage","originalString","isImage","textOffset","opener","substr","currentOffset","bracketLevel","linkText","linkRef","linkDetails","textOuter","cap","nextChar","trim","parenthesisLevel","inlineOuter","valid","label","output","charCount","processed","stack","offset","potentialLink","potentialImage","delimCount","delimString","currentDelimiter","preceding","following","punctuationFollows","punctuationPrecedes","whitespaceFollows","whitespacePrecedes","canOpen","canClose","stackPointer","delimiter","entry","pop","count","consumed","lineDelta","childElementCount","firstChangedLine","textContent","lastChangedLine","linesToDelete","linesToAdd","spliceLines","line","ct","processNewParagraph","sel","continuableType","checkLine","col","row","parseInt","getSelection","getAnchor","startNode","anchorNode","focusNode","anchorOffset","focusOffset","computeColumn","node","previousSibling","nodeType","Node","TEXT_NODE","computeNodeAndOffset","bindRight","childrenComplete","rv","nodeValue","setSelection","range","createRange","setStart","setEnd","windowSelection","removeAllRanges","addRange","inputType","fixNodeHierarchy","originalChildren","from","replaceChild","child","parent","_len","newChildren","_key","forEach","newChild","ELEMENT_NODE","divWrapper","grandChildren","some","grandChild","fireDrop","dataTransfer","fireSelection","startLine","linesToInsert","adjustLineElements","insertedBlank","insertedDirty","splice","text","originalEvent","clipboardData","getData","beginning","insertedLines","lineBefore","lineEnd","endColPos","computeCommonAncestor","node1","node2","ancestry","unshift","ancestry1","ancestry2","computeEnclosingMarkupNode","includes","getCommandState","cmd","markupNode","startCol","len","left","mid","right","endCol","leading","trailing","isCollapsed","ancestor","toggleCommandState","listener","linesDirty"],"mappings":"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","x_google_ignoreList":[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48]}